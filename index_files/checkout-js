var CulqiJsCheckout=(()=>{var Ql=Object.defineProperty,di=ce=>{throw TypeError(ce)},Xl=(ce,ue,de)=>ue in ce?Ql(ce,ue,{enumerable:!0,configurable:!0,writable:!0,value:de}):ce[ue]=de,ae=(ce,ue,de)=>Xl(ce,typeof ue!="symbol"?ue+"":ue,de),hi=(ce,ue,de)=>ue.has(ce)||di("Cannot "+de),gt=(ce,ue,de)=>(hi(ce,ue,"read from private field"),de?de.call(ce):ue.get(ce)),wn=(ce,ue,de)=>ue.has(ce)?di("Cannot add the same private member more than once"):ue instanceof WeakSet?ue.add(ce):ue.set(ce,de),at=(ce,ue,de,lt)=>(hi(ce,ue,"write to private field"),lt?lt.call(ce,de):ue.set(ce,de),de);(function(){"use strict";var ce,ue,de,lt,vr=document.createElement("style");vr.textContent=`.culqi_checkout[data-v-9a32aa2a]{overflow:hidden auto;margin:0;z-index:99999;visibility:visible;left:0;top:0;display:block}#js-checkout{width:100%;height:100%;z-index:999999999999;position:fixed;top:0;left:0;background-color:#0000009e;border:0px none transparent;margin:0}
/*$vite$:1*/`,document.head.appendChild(vr);let br=globalThis||void 0||self;function xn(e){let t=Object.create(null);for(let o of e.split(","))t[o]=1;return o=>o in t}let fe={},yt=[],Me=()=>{},gi=()=>!1,Zt=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97),$n=e=>e.startsWith("onUpdate:"),we=Object.assign,Sn=(e,t)=>{let o=e.indexOf(t);o>-1&&e.splice(o,1)},yi=Object.prototype.hasOwnProperty,oe=(e,t)=>yi.call(e,t),ne=Array.isArray,jt=e=>Gt(e)==="[object Map]",vi=e=>Gt(e)==="[object Set]",ee=e=>typeof e=="function",ye=e=>typeof e=="string",vt=e=>typeof e=="symbol",ge=e=>e!==null&&typeof e=="object",_r=e=>(ge(e)||ee(e))&&ee(e.then)&&ee(e.catch),bi=Object.prototype.toString,Gt=e=>bi.call(e),_i=e=>Gt(e).slice(8,-1),wi=e=>Gt(e)==="[object Object]",jn=e=>ye(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,Ot=xn(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Jt=e=>{let t=Object.create(null);return o=>t[o]||(t[o]=e(o))},xi=/-(\w)/g,tt=Jt(e=>e.replace(xi,(t,o)=>o?o.toUpperCase():"")),$i=/\B([A-Z])/g,ct=Jt(e=>e.replace($i,"-$1").toLowerCase()),wr=Jt(e=>e.charAt(0).toUpperCase()+e.slice(1)),On=Jt(e=>e?`on${wr(e)}`:""),nt=(e,t)=>!Object.is(e,t),An=(e,...t)=>{for(let o=0;o<e.length;o++)e[o](...t)},xr=(e,t,o,f=!1)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,writable:f,value:o})},Si=e=>{let t=parseFloat(e);return isNaN(t)?e:t},$r,Yt=()=>$r||($r=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof br<"u"?br:{});function kn(e){if(ne(e)){let t={};for(let o=0;o<e.length;o++){let f=e[o],m=ye(f)?ki(f):kn(f);if(m)for(let g in m)t[g]=m[g]}return t}else if(ye(e)||ge(e))return e}let ji=/;(?![^(]*\))/g,Oi=/:([^]+)/,Ai=/\/\*[^]*?\*\//g;function ki(e){let t={};return e.replace(Ai,"").split(ji).forEach(o=>{if(o){let f=o.split(Oi);f.length>1&&(t[f[0].trim()]=f[1].trim())}}),t}function Cn(e){let t="";if(ye(e))t=e;else if(ne(e))for(let o=0;o<e.length;o++){let f=Cn(e[o]);f&&(t+=f+" ")}else if(ge(e))for(let o in e)e[o]&&(t+=o+" ");return t.trim()}let Ci=xn("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function Sr(e){return!!e||e===""}let Ce;class Ri{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Ce,!t&&Ce&&(this.index=(Ce.scopes||(Ce.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let t,o;if(this.scopes)for(t=0,o=this.scopes.length;t<o;t++)this.scopes[t].pause();for(t=0,o=this.effects.length;t<o;t++)this.effects[t].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let t,o;if(this.scopes)for(t=0,o=this.scopes.length;t<o;t++)this.scopes[t].resume();for(t=0,o=this.effects.length;t<o;t++)this.effects[t].resume()}}run(t){if(this._active){let o=Ce;try{return Ce=this,t()}finally{Ce=o}}}on(){Ce=this}off(){Ce=this.parent}stop(t){if(this._active){this._active=!1;let o,f;for(o=0,f=this.effects.length;o<f;o++)this.effects[o].stop();for(this.effects.length=0,o=0,f=this.cleanups.length;o<f;o++)this.cleanups[o]();if(this.cleanups.length=0,this.scopes){for(o=0,f=this.scopes.length;o<f;o++)this.scopes[o].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!t){let m=this.parent.scopes.pop();m&&m!==this&&(this.parent.scopes[this.index]=m,m.index=this.index)}this.parent=void 0}}}function Di(){return Ce}let pe,Rn=new WeakSet;class jr{constructor(t){this.fn=t,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Ce&&Ce.active&&Ce.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,Rn.has(this)&&(Rn.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Ar(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Ir(this),kr(this);let t=pe,o=Pe;pe=this,Pe=!0;try{return this.fn()}finally{Cr(this),pe=t,Pe=o,this.flags&=-3}}stop(){if(this.flags&1){for(let t=this.deps;t;t=t.nextDep)En(t);this.deps=this.depsTail=void 0,Ir(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?Rn.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){Tn(this)&&this.run()}get dirty(){return Tn(this)}}let Or=0,At,kt;function Ar(e,t=!1){if(e.flags|=8,t){e.next=kt,kt=e;return}e.next=At,At=e}function Dn(){Or++}function In(){if(--Or>0)return;if(kt){let t=kt;for(kt=void 0;t;){let o=t.next;t.next=void 0,t.flags&=-9,t=o}}let e;for(;At;){let t=At;for(At=void 0;t;){let o=t.next;if(t.next=void 0,t.flags&=-9,t.flags&1)try{t.trigger()}catch(f){e||(e=f)}t=o}}if(e)throw e}function kr(e){for(let t=e.deps;t;t=t.nextDep)t.version=-1,t.prevActiveLink=t.dep.activeLink,t.dep.activeLink=t}function Cr(e){let t,o=e.depsTail,f=o;for(;f;){let m=f.prevDep;f.version===-1?(f===o&&(o=m),En(f),Ii(f)):t=f,f.dep.activeLink=f.prevActiveLink,f.prevActiveLink=void 0,f=m}e.deps=t,e.depsTail=o}function Tn(e){for(let t=e.deps;t;t=t.nextDep)if(t.dep.version!==t.version||t.dep.computed&&(Rr(t.dep.computed)||t.dep.version!==t.version))return!0;return!!e._dirty}function Rr(e){if(e.flags&4&&!(e.flags&16)||(e.flags&=-17,e.globalVersion===Ct))return;e.globalVersion=Ct;let t=e.dep;if(e.flags|=2,t.version>0&&!e.isSSR&&e.deps&&!Tn(e)){e.flags&=-3;return}let o=pe,f=Pe;pe=e,Pe=!0;try{kr(e);let m=e.fn(e._value);(t.version===0||nt(m,e._value))&&(e._value=m,t.version++)}catch(m){throw t.version++,m}finally{pe=o,Pe=f,Cr(e),e.flags&=-3}}function En(e,t=!1){let{dep:o,prevSub:f,nextSub:m}=e;if(f&&(f.nextSub=m,e.prevSub=void 0),m&&(m.prevSub=f,e.nextSub=void 0),o.subs===e&&(o.subs=f,!f&&o.computed)){o.computed.flags&=-5;for(let g=o.computed.deps;g;g=g.nextDep)En(g,!0)}!t&&!--o.sc&&o.map&&o.map.delete(o.key)}function Ii(e){let{prevDep:t,nextDep:o}=e;t&&(t.nextDep=o,e.prevDep=void 0),o&&(o.prevDep=t,e.nextDep=void 0)}let Pe=!0,Dr=[];function Be(){Dr.push(Pe),Pe=!1}function Ke(){let e=Dr.pop();Pe=e===void 0?!0:e}function Ir(e){let{cleanup:t}=e;if(e.cleanup=void 0,t){let o=pe;pe=void 0;try{t()}finally{pe=o}}}let Ct=0;class Ti{constructor(t,o){this.sub=t,this.dep=o,this.version=o.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class Pn{constructor(t){this.computed=t,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0}track(t){if(!pe||!Pe||pe===this.computed)return;let o=this.activeLink;if(o===void 0||o.sub!==pe)o=this.activeLink=new Ti(pe,this),pe.deps?(o.prevDep=pe.depsTail,pe.depsTail.nextDep=o,pe.depsTail=o):pe.deps=pe.depsTail=o,Tr(o);else if(o.version===-1&&(o.version=this.version,o.nextDep)){let f=o.nextDep;f.prevDep=o.prevDep,o.prevDep&&(o.prevDep.nextDep=f),o.prevDep=pe.depsTail,o.nextDep=void 0,pe.depsTail.nextDep=o,pe.depsTail=o,pe.deps===o&&(pe.deps=f)}return o}trigger(t){this.version++,Ct++,this.notify(t)}notify(t){Dn();try{for(let o=this.subs;o;o=o.prevSub)o.sub.notify()&&o.sub.dep.notify()}finally{In()}}}function Tr(e){if(e.dep.sc++,e.sub.flags&4){let t=e.dep.computed;if(t&&!e.dep.subs){t.flags|=20;for(let f=t.deps;f;f=f.nextDep)Tr(f)}let o=e.dep.subs;o!==e&&(e.prevSub=o,o&&(o.nextSub=e)),e.dep.subs=e}}let qn=new WeakMap,ut=Symbol(""),Mn=Symbol(""),Rt=Symbol("");function xe(e,t,o){if(Pe&&pe){let f=qn.get(e);f||qn.set(e,f=new Map);let m=f.get(o);m||(f.set(o,m=new Pn),m.map=f,m.key=o),m.track()}}function Ze(e,t,o,f,m,g){let h=qn.get(e);if(!h){Ct++;return}let i=b=>{b&&b.trigger()};if(Dn(),t==="clear")h.forEach(i);else{let b=ne(e),_=b&&jn(o);if(b&&o==="length"){let d=Number(f);h.forEach((n,l)=>{(l==="length"||l===Rt||!vt(l)&&l>=d)&&i(n)})}else switch((o!==void 0||h.has(void 0))&&i(h.get(o)),_&&i(h.get(Rt)),t){case"add":b?_&&i(h.get("length")):(i(h.get(ut)),jt(e)&&i(h.get(Mn)));break;case"delete":b||(i(h.get(ut)),jt(e)&&i(h.get(Mn)));break;case"set":jt(e)&&i(h.get(ut));break}}In()}function bt(e){let t=se(e);return t===e?t:(xe(t,"iterate",Rt),qe(e)?t:t.map(Se))}function Ln(e){return xe(e=se(e),"iterate",Rt),e}let Ei={__proto__:null,[Symbol.iterator](){return Nn(this,Symbol.iterator,Se)},concat(...e){return bt(this).concat(...e.map(t=>ne(t)?bt(t):t))},entries(){return Nn(this,"entries",e=>(e[1]=Se(e[1]),e))},every(e,t){return Ge(this,"every",e,t,void 0,arguments)},filter(e,t){return Ge(this,"filter",e,t,o=>o.map(Se),arguments)},find(e,t){return Ge(this,"find",e,t,Se,arguments)},findIndex(e,t){return Ge(this,"findIndex",e,t,void 0,arguments)},findLast(e,t){return Ge(this,"findLast",e,t,Se,arguments)},findLastIndex(e,t){return Ge(this,"findLastIndex",e,t,void 0,arguments)},forEach(e,t){return Ge(this,"forEach",e,t,void 0,arguments)},includes(...e){return Fn(this,"includes",e)},indexOf(...e){return Fn(this,"indexOf",e)},join(e){return bt(this).join(e)},lastIndexOf(...e){return Fn(this,"lastIndexOf",e)},map(e,t){return Ge(this,"map",e,t,void 0,arguments)},pop(){return Dt(this,"pop")},push(...e){return Dt(this,"push",e)},reduce(e,...t){return Er(this,"reduce",e,t)},reduceRight(e,...t){return Er(this,"reduceRight",e,t)},shift(){return Dt(this,"shift")},some(e,t){return Ge(this,"some",e,t,void 0,arguments)},splice(...e){return Dt(this,"splice",e)},toReversed(){return bt(this).toReversed()},toSorted(e){return bt(this).toSorted(e)},toSpliced(...e){return bt(this).toSpliced(...e)},unshift(...e){return Dt(this,"unshift",e)},values(){return Nn(this,"values",Se)}};function Nn(e,t,o){let f=Ln(e),m=f[t]();return f!==e&&!qe(e)&&(m._next=m.next,m.next=()=>{let g=m._next();return g.value&&(g.value=o(g.value)),g}),m}let Pi=Array.prototype;function Ge(e,t,o,f,m,g){let h=Ln(e),i=h!==e&&!qe(e),b=h[t];if(b!==Pi[t]){let n=b.apply(e,g);return i?Se(n):n}let _=o;h!==e&&(i?_=function(n,l){return o.call(this,Se(n),l,e)}:o.length>2&&(_=function(n,l){return o.call(this,n,l,e)}));let d=b.call(h,_,f);return i&&m?m(d):d}function Er(e,t,o,f){let m=Ln(e),g=o;return m!==e&&(qe(e)?o.length>3&&(g=function(h,i,b){return o.call(this,h,i,b,e)}):g=function(h,i,b){return o.call(this,h,Se(i),b,e)}),m[t](g,...f)}function Fn(e,t,o){let f=se(e);xe(f,"iterate",Rt);let m=f[t](...o);return(m===-1||m===!1)&&Un(o[0])?(o[0]=se(o[0]),f[t](...o)):m}function Dt(e,t,o=[]){Be(),Dn();let f=se(e)[t].apply(e,o);return In(),Ke(),f}let qi=xn("__proto__,__v_isRef,__isVue"),Pr=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(vt));function Mi(e){vt(e)||(e=String(e));let t=se(this);return xe(t,"has",e),t.hasOwnProperty(e)}class qr{constructor(t=!1,o=!1){this._isReadonly=t,this._isShallow=o}get(t,o,f){if(o==="__v_skip")return t.__v_skip;let m=this._isReadonly,g=this._isShallow;if(o==="__v_isReactive")return!m;if(o==="__v_isReadonly")return m;if(o==="__v_isShallow")return g;if(o==="__v_raw")return f===(m?g?Ur:zr:g?Fr:Nr).get(t)||Object.getPrototypeOf(t)===Object.getPrototypeOf(f)?t:void 0;let h=ne(t);if(!m){let b;if(h&&(b=Ei[o]))return b;if(o==="hasOwnProperty")return Mi}let i=Reflect.get(t,o,be(t)?t:f);return(vt(o)?Pr.has(o):qi(o))||(m||xe(t,"get",o),g)?i:be(i)?h&&jn(o)?i:i.value:ge(i)?m?Vr(i):It(i):i}}class Mr extends qr{constructor(t=!1){super(!1,t)}set(t,o,f,m){let g=t[o];if(!this._isShallow){let b=ft(g);if(!qe(f)&&!ft(f)&&(g=se(g),f=se(f)),!ne(t)&&be(g)&&!be(f))return b?!1:(g.value=f,!0)}let h=ne(t)&&jn(o)?Number(o)<t.length:oe(t,o),i=Reflect.set(t,o,f,be(t)?t:m);return t===se(m)&&(h?nt(f,g)&&Ze(t,"set",o,f):Ze(t,"add",o,f)),i}deleteProperty(t,o){let f=oe(t,o);t[o];let m=Reflect.deleteProperty(t,o);return m&&f&&Ze(t,"delete",o,void 0),m}has(t,o){let f=Reflect.has(t,o);return(!vt(o)||!Pr.has(o))&&xe(t,"has",o),f}ownKeys(t){return xe(t,"iterate",ne(t)?"length":ut),Reflect.ownKeys(t)}}class Lr extends qr{constructor(t=!1){super(!0,t)}set(t,o){return!0}deleteProperty(t,o){return!0}}let Li=new Mr,Ni=new Lr,Fi=new Mr(!0),zi=new Lr(!0),zn=e=>e,Qt=e=>Reflect.getPrototypeOf(e);function Ui(e,t,o){return function(...f){let m=this.__v_raw,g=se(m),h=jt(g),i=e==="entries"||e===Symbol.iterator&&h,b=e==="keys"&&h,_=m[e](...f),d=o?zn:t?Vn:Se;return!t&&xe(g,"iterate",b?Mn:ut),{next(){let{value:n,done:l}=_.next();return l?{value:n,done:l}:{value:i?[d(n[0]),d(n[1])]:d(n),done:l}},[Symbol.iterator](){return this}}}}function Xt(e){return function(...t){return e==="delete"?!1:e==="clear"?void 0:this}}function Vi(e,t){let o={get(f){let m=this.__v_raw,g=se(m),h=se(f);e||(nt(f,h)&&xe(g,"get",f),xe(g,"get",h));let{has:i}=Qt(g),b=t?zn:e?Vn:Se;if(i.call(g,f))return b(m.get(f));if(i.call(g,h))return b(m.get(h));m!==g&&m.get(f)},get size(){let f=this.__v_raw;return!e&&xe(se(f),"iterate",ut),Reflect.get(f,"size",f)},has(f){let m=this.__v_raw,g=se(m),h=se(f);return e||(nt(f,h)&&xe(g,"has",f),xe(g,"has",h)),f===h?m.has(f):m.has(f)||m.has(h)},forEach(f,m){let g=this,h=g.__v_raw,i=se(h),b=t?zn:e?Vn:Se;return!e&&xe(i,"iterate",ut),h.forEach((_,d)=>f.call(m,b(_),b(d),g))}};return we(o,e?{add:Xt("add"),set:Xt("set"),delete:Xt("delete"),clear:Xt("clear")}:{add(f){!t&&!qe(f)&&!ft(f)&&(f=se(f));let m=se(this);return Qt(m).has.call(m,f)||(m.add(f),Ze(m,"add",f,f)),this},set(f,m){!t&&!qe(m)&&!ft(m)&&(m=se(m));let g=se(this),{has:h,get:i}=Qt(g),b=h.call(g,f);b||(f=se(f),b=h.call(g,f));let _=i.call(g,f);return g.set(f,m),b?nt(m,_)&&Ze(g,"set",f,m):Ze(g,"add",f,m),this},delete(f){let m=se(this),{has:g,get:h}=Qt(m),i=g.call(m,f);i||(f=se(f),i=g.call(m,f)),h&&h.call(m,f);let b=m.delete(f);return i&&Ze(m,"delete",f,void 0),b},clear(){let f=se(this),m=f.size!==0,g=f.clear();return m&&Ze(f,"clear",void 0,void 0),g}}),["keys","values","entries",Symbol.iterator].forEach(f=>{o[f]=Ui(f,e,t)}),o}function en(e,t){let o=Vi(e,t);return(f,m,g)=>m==="__v_isReactive"?!e:m==="__v_isReadonly"?e:m==="__v_raw"?f:Reflect.get(oe(o,m)&&m in f?o:f,m,g)}let Wi={get:en(!1,!1)},Hi={get:en(!1,!0)},Bi={get:en(!0,!1)},Ki={get:en(!0,!0)},Nr=new WeakMap,Fr=new WeakMap,zr=new WeakMap,Ur=new WeakMap;function Zi(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Gi(e){return e.__v_skip||!Object.isExtensible(e)?0:Zi(_i(e))}function It(e){return ft(e)?e:tn(e,!1,Li,Wi,Nr)}function Ji(e){return tn(e,!1,Fi,Hi,Fr)}function Vr(e){return tn(e,!0,Ni,Bi,zr)}function ec(e){return tn(e,!0,zi,Ki,Ur)}function tn(e,t,o,f,m){if(!ge(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;let g=m.get(e);if(g)return g;let h=Gi(e);if(h===0)return e;let i=new Proxy(e,h===2?f:o);return m.set(e,i),i}function Tt(e){return ft(e)?Tt(e.__v_raw):!!(e&&e.__v_isReactive)}function ft(e){return!!(e&&e.__v_isReadonly)}function qe(e){return!!(e&&e.__v_isShallow)}function Un(e){return e?!!e.__v_raw:!1}function se(e){let t=e&&e.__v_raw;return t?se(t):e}function Yi(e){return!oe(e,"__v_skip")&&Object.isExtensible(e)&&xr(e,"__v_skip",!0),e}let Se=e=>ge(e)?It(e):e,Vn=e=>ge(e)?Vr(e):e;function be(e){return e?e.__v_isRef===!0:!1}function nn(e){return Qi(e,!1)}function Qi(e,t){return be(e)?e:new Xi(e,t)}class Xi{constructor(t,o){this.dep=new Pn,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=o?t:se(t),this._value=o?t:Se(t),this.__v_isShallow=o}get value(){return this.dep.track(),this._value}set value(t){let o=this._rawValue,f=this.__v_isShallow||qe(t)||ft(t);t=f?t:se(t),nt(t,o)&&(this._rawValue=t,this._value=f?t:Se(t),this.dep.trigger())}}function eo(e){return be(e)?e.value:e}let to={get:(e,t,o)=>t==="__v_raw"?e:eo(Reflect.get(e,t,o)),set:(e,t,o,f)=>{let m=e[t];return be(m)&&!be(o)?(m.value=o,!0):Reflect.set(e,t,o,f)}};function Wr(e){return Tt(e)?e:new Proxy(e,to)}class no{constructor(t,o,f){this.fn=t,this.setter=o,this._value=void 0,this.dep=new Pn(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=Ct-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!o,this.isSSR=f}notify(){if(this.flags|=16,!(this.flags&8)&&pe!==this)return Ar(this,!0),!0}get value(){let t=this.dep.track();return Rr(this),t&&(t.version=this.dep.version),this._value}set value(t){this.setter&&this.setter(t)}}function ro(e,t,o=!1){let f,m;return ee(e)?f=e:(f=e.get,m=e.set),new no(f,m,o)}let rn={},sn=new WeakMap,pt;function so(e,t=!1,o=pt){if(o){let f=sn.get(o);f||sn.set(o,f=[]),f.push(e)}}function io(e,t,o=fe){let{immediate:f,deep:m,once:g,scheduler:h,augmentJob:i,call:b}=o,_=w=>m?w:qe(w)||m===!1||m===0?rt(w,1):rt(w),d,n,l,a,s=!1,r=!1;if(be(e)?(n=()=>e.value,s=qe(e)):Tt(e)?(n=()=>_(e),s=!0):ne(e)?(r=!0,s=e.some(w=>Tt(w)||qe(w)),n=()=>e.map(w=>{if(be(w))return w.value;if(Tt(w))return _(w);if(ee(w))return b?b(w,2):w()})):ee(e)?t?n=b?()=>b(e,2):e:n=()=>{if(l){Be();try{l()}finally{Ke()}}let w=pt;pt=d;try{return b?b(e,3,[a]):e(a)}finally{pt=w}}:n=Me,t&&m){let w=n,$=m===!0?1/0:m;n=()=>rt(w(),$)}let p=Di(),c=()=>{d.stop(),p&&p.active&&Sn(p.effects,d)};if(g&&t){let w=t;t=(...$)=>{w(...$),c()}}let u=r?new Array(e.length).fill(rn):rn,y=w=>{if(!(!(d.flags&1)||!d.dirty&&!w))if(t){let $=d.run();if(m||s||(r?$.some((O,j)=>nt(O,u[j])):nt($,u))){l&&l();let O=pt;pt=d;try{let j=[$,u===rn?void 0:r&&u[0]===rn?[]:u,a];b?b(t,3,j):t(...j),u=$}finally{pt=O}}}else d.run()};return i&&i(y),d=new jr(n),d.scheduler=h?()=>h(y,!1):y,a=w=>so(w,!1,d),l=d.onStop=()=>{let w=sn.get(d);if(w){if(b)b(w,4);else for(let $ of w)$();sn.delete(d)}},t?f?y(!0):u=d.run():h?h(y.bind(null,!0),!0):d.run(),c.pause=d.pause.bind(d),c.resume=d.resume.bind(d),c.stop=c,c}function rt(e,t=1/0,o){if(t<=0||!ge(e)||e.__v_skip||(o=o||new Set,o.has(e)))return e;if(o.add(e),t--,be(e))rt(e.value,t,o);else if(ne(e))for(let f=0;f<e.length;f++)rt(e[f],t,o);else if(vi(e)||jt(e))e.forEach(f=>{rt(f,t,o)});else if(wi(e)){for(let f in e)rt(e[f],t,o);for(let f of Object.getOwnPropertySymbols(e))Object.prototype.propertyIsEnumerable.call(e,f)&&rt(e[f],t,o)}return e}let Et=[],Wn=!1;function tc(e,...t){if(Wn)return;Wn=!0,Be();let o=Et.length?Et[Et.length-1].component:null,f=o&&o.appContext.config.warnHandler,m=oo();if(f)_t(f,o,11,[e+t.map(g=>{var h,i;return(i=(h=g.toString)==null?void 0:h.call(g))!=null?i:JSON.stringify(g)}).join(""),o&&o.proxy,m.map(({vnode:g})=>`at <${Ls(o,g.type)}>`).join(`
`),m]);else{let g=[`[Vue warn]: ${e}`,...t];m.length&&g.push(`
`,...ao(m)),console.warn(...g)}Ke(),Wn=!1}function oo(){let e=Et[Et.length-1];if(!e)return[];let t=[];for(;e;){let o=t[0];o&&o.vnode===e?o.recurseCount++:t.push({vnode:e,recurseCount:0});let f=e.component&&e.component.parent;e=f&&f.vnode}return t}function ao(e){let t=[];return e.forEach((o,f)=>{t.push(...f===0?[]:[`
`],...lo(o))}),t}function lo({vnode:e,recurseCount:t}){let o=t>0?`... (${t} recursive calls)`:"",f=e.component?e.component.parent==null:!1,m=` at <${Ls(e.component,e.type,f)}`,g=">"+o;return e.props?[m,...co(e.props),g]:[m+g]}function co(e){let t=[],o=Object.keys(e);return o.slice(0,3).forEach(f=>{t.push(...Hr(f,e[f]))}),o.length>3&&t.push(" ..."),t}function Hr(e,t,o){return ye(t)?(t=JSON.stringify(t),o?t:[`${e}=${t}`]):typeof t=="number"||typeof t=="boolean"||t==null?o?t:[`${e}=${t}`]:be(t)?(t=Hr(e,se(t.value),!0),o?t:[`${e}=Ref<`,t,">"]):ee(t)?[`${e}=fn${t.name?`<${t.name}>`:""}`]:(t=se(t),o?t:[`${e}=`,t])}function _t(e,t,o,f){try{return f?e(...f):e()}catch(m){on(m,t,o)}}function Le(e,t,o,f){if(ee(e)){let m=_t(e,t,o,f);return m&&_r(m)&&m.catch(g=>{on(g,t,o)}),m}if(ne(e)){let m=[];for(let g=0;g<e.length;g++)m.push(Le(e[g],t,o,f));return m}}function on(e,t,o,f=!0){let m=t?t.vnode:null,{errorHandler:g,throwUnhandledErrorInProduction:h}=t&&t.appContext.config||fe;if(t){let i=t.parent,b=t.proxy,_=`https://vuejs.org/error-reference/#runtime-${o}`;for(;i;){let d=i.ec;if(d){for(let n=0;n<d.length;n++)if(d[n](e,b,_)===!1)return}i=i.parent}if(g){Be(),_t(g,null,10,[e,b,_]),Ke();return}}uo(e,o,m,f,h)}function uo(e,t,o,f=!0,m=!1){if(m)throw e;console.error(e)}let je=[],Ne=-1,wt=[],st=null,xt=0,Br=Promise.resolve(),an=null;function fo(e){let t=an||Br;return e?t.then(this?e.bind(this):e):t}function po(e){let t=Ne+1,o=je.length;for(;t<o;){let f=t+o>>>1,m=je[f],g=Pt(m);g<e||g===e&&m.flags&2?t=f+1:o=f}return t}function Hn(e){if(!(e.flags&1)){let t=Pt(e),o=je[je.length-1];!o||!(e.flags&2)&&t>=Pt(o)?je.push(e):je.splice(po(t),0,e),e.flags|=1,Kr()}}function Kr(){an||(an=Br.then(Jr))}function ho(e){ne(e)?wt.push(...e):st&&e.id===-1?st.splice(xt+1,0,e):e.flags&1||(wt.push(e),e.flags|=1),Kr()}function Zr(e,t,o=Ne+1){for(;o<je.length;o++){let f=je[o];if(f&&f.flags&2){if(e&&f.id!==e.uid)continue;je.splice(o,1),o--,f.flags&4&&(f.flags&=-2),f(),f.flags&4||(f.flags&=-2)}}}function Gr(e){if(wt.length){let t=[...new Set(wt)].sort((o,f)=>Pt(o)-Pt(f));if(wt.length=0,st){st.push(...t);return}for(st=t,xt=0;xt<st.length;xt++){let o=st[xt];o.flags&4&&(o.flags&=-2),o.flags&8||o(),o.flags&=-2}st=null,xt=0}}let Pt=e=>e.id==null?e.flags&2?-1:1/0:e.id;function Jr(e){try{for(Ne=0;Ne<je.length;Ne++){let t=je[Ne];t&&!(t.flags&8)&&(t.flags&4&&(t.flags&=-2),_t(t,t.i,t.i?15:14),t.flags&4||(t.flags&=-2))}}finally{for(;Ne<je.length;Ne++){let t=je[Ne];t&&(t.flags&=-2)}Ne=-1,je.length=0,Gr(),an=null,(je.length||wt.length)&&Jr()}}let Fe=null,Yr=null;function ln(e){let t=Fe;return Fe=e,Yr=e&&e.type.__scopeId||null,t}function mo(e,t=Fe,o){if(!t||e._n)return e;let f=(...m)=>{f._d&&Cs(-1);let g=ln(t),h;try{h=e(...m)}finally{ln(g),f._d&&Cs(1)}return h};return f._n=!0,f._c=!0,f._d=!0,f}function dt(e,t,o,f){let m=e.dirs,g=t&&t.dirs;for(let h=0;h<m.length;h++){let i=m[h];g&&(i.oldValue=g[h].value);let b=i.dir[f];b&&(Be(),Le(b,o,8,[e.el,i,e,t]),Ke())}}let go=Symbol("_vte"),yo=e=>e.__isTeleport;function Bn(e,t){e.shapeFlag&6&&e.component?(e.transition=t,Bn(e.component.subTree,t)):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function vo(e,t){return ee(e)?we({name:e.name},t,{setup:e}):e}function Qr(e){e.ids=[e.ids[0]+e.ids[2]+++"-",0,0]}function cn(e,t,o,f,m=!1){if(ne(e)){e.forEach((s,r)=>cn(s,t&&(ne(t)?t[r]:t),o,f,m));return}if(qt(f)&&!m){f.shapeFlag&512&&f.type.__asyncResolved&&f.component.subTree.component&&cn(e,t,o,f.component.subTree);return}let g=f.shapeFlag&4?sr(f.component):f.el,h=m?null:g,{i,r:b}=e,_=t&&t.r,d=i.refs===fe?i.refs={}:i.refs,n=i.setupState,l=se(n),a=n===fe?()=>!1:s=>oe(l,s);if(_!=null&&_!==b&&(ye(_)?(d[_]=null,a(_)&&(n[_]=null)):be(_)&&(_.value=null)),ee(b))_t(b,i,12,[h,d]);else{let s=ye(b),r=be(b);if(s||r){let p=()=>{if(e.f){let c=s?a(b)?n[b]:d[b]:b.value;m?ne(c)&&Sn(c,g):ne(c)?c.includes(g)||c.push(g):s?(d[b]=[g],a(b)&&(n[b]=d[b])):(b.value=[g],e.k&&(d[e.k]=b.value))}else s?(d[b]=h,a(b)&&(n[b]=h)):r&&(b.value=h,e.k&&(d[e.k]=h))};h?(p.id=-1,Re(p,o)):p()}}}Yt().requestIdleCallback,Yt().cancelIdleCallback;let qt=e=>!!e.type.__asyncLoader,Xr=e=>e.type.__isKeepAlive;function bo(e,t){es(e,"a",t)}function _o(e,t){es(e,"da",t)}function es(e,t,o=Ae){let f=e.__wdc||(e.__wdc=()=>{let m=o;for(;m;){if(m.isDeactivated)return;m=m.parent}return e()});if(un(t,f,o),o){let m=o.parent;for(;m&&m.parent;)Xr(m.parent.vnode)&&wo(f,t,o,m),m=m.parent}}function wo(e,t,o,f){let m=un(t,e,f,!0);Kn(()=>{Sn(f[t],m)},o)}function un(e,t,o=Ae,f=!1){if(o){let m=o[e]||(o[e]=[]),g=t.__weh||(t.__weh=(...h)=>{Be();let i=Ut(o),b=Le(t,o,e,h);return i(),Ke(),b});return f?m.unshift(g):m.push(g),g}}let Je=e=>(t,o=Ae)=>{(!Vt||e==="sp")&&un(e,(...f)=>t(...f),o)},xo=Je("bm"),ts=Je("m"),$o=Je("bu"),So=Je("u"),jo=Je("bum"),Kn=Je("um"),Oo=Je("sp"),Ao=Je("rtg"),ko=Je("rtc");function Co(e,t=Ae){un("ec",e,t)}let Ro=Symbol.for("v-ndc"),Zn=e=>e?Ps(e)?sr(e):Zn(e.parent):null,Mt=we(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>Zn(e.parent),$root:e=>Zn(e.root),$host:e=>e.ce,$emit:e=>e.emit,$options:e=>is(e),$forceUpdate:e=>e.f||(e.f=()=>{Hn(e.update)}),$nextTick:e=>e.n||(e.n=fo.bind(e.proxy)),$watch:e=>Qo.bind(e)}),Gn=(e,t)=>e!==fe&&!e.__isScriptSetup&&oe(e,t),Do={get({_:e},t){if(t==="__v_skip")return!0;let{ctx:o,setupState:f,data:m,props:g,accessCache:h,type:i,appContext:b}=e,_;if(t[0]!=="$"){let a=h[t];if(a!==void 0)switch(a){case 1:return f[t];case 2:return m[t];case 4:return o[t];case 3:return g[t]}else{if(Gn(f,t))return h[t]=1,f[t];if(m!==fe&&oe(m,t))return h[t]=2,m[t];if((_=e.propsOptions[0])&&oe(_,t))return h[t]=3,g[t];if(o!==fe&&oe(o,t))return h[t]=4,o[t];Jn&&(h[t]=0)}}let d=Mt[t],n,l;if(d)return t==="$attrs"&&xe(e.attrs,"get",""),d(e);if((n=i.__cssModules)&&(n=n[t]))return n;if(o!==fe&&oe(o,t))return h[t]=4,o[t];if(l=b.config.globalProperties,oe(l,t))return l[t]},set({_:e},t,o){let{data:f,setupState:m,ctx:g}=e;return Gn(m,t)?(m[t]=o,!0):f!==fe&&oe(f,t)?(f[t]=o,!0):oe(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(g[t]=o,!0)},has({_:{data:e,setupState:t,accessCache:o,ctx:f,appContext:m,propsOptions:g}},h){let i;return!!o[h]||e!==fe&&oe(e,h)||Gn(t,h)||(i=g[0])&&oe(i,h)||oe(f,h)||oe(Mt,h)||oe(m.config.globalProperties,h)},defineProperty(e,t,o){return o.get!=null?e._.accessCache[t]=0:oe(o,"value")&&this.set(e,t,o.value,null),Reflect.defineProperty(e,t,o)}};function ns(e){return ne(e)?e.reduce((t,o)=>(t[o]=null,t),{}):e}let Jn=!0;function Io(e){let t=is(e),o=e.proxy,f=e.ctx;Jn=!1,t.beforeCreate&&rs(t.beforeCreate,e,"bc");let{data:m,computed:g,methods:h,watch:i,provide:b,inject:_,created:d,beforeMount:n,mounted:l,beforeUpdate:a,updated:s,activated:r,deactivated:p,beforeDestroy:c,beforeUnmount:u,destroyed:y,unmounted:w,render:$,renderTracked:O,renderTriggered:j,errorCaptured:v,serverPrefetch:x,expose:S,inheritAttrs:k,components:T,directives:E,filters:W}=t;if(_&&To(_,f,null),h)for(let I in h){let P=h[I];ee(P)&&(f[I]=P.bind(o))}if(m){let I=m.call(o,o);ge(I)&&(e.data=It(I))}if(Jn=!0,g)for(let I in g){let P=g[I],B=ee(P)?P.bind(o,o):ee(P.get)?P.get.bind(o,o):Me,Q=!ee(P)&&ee(P.set)?P.set.bind(o):Me,J=Ns({get:B,set:Q});Object.defineProperty(f,I,{enumerable:!0,configurable:!0,get:()=>J.value,set:Y=>J.value=Y})}if(i)for(let I in i)ss(i[I],f,o,I);if(b){let I=ee(b)?b.call(o):b;Reflect.ownKeys(I).forEach(P=>{No(P,I[P])})}d&&rs(d,e,"c");function R(I,P){ne(P)?P.forEach(B=>I(B.bind(o))):P&&I(P.bind(o))}if(R(xo,n),R(ts,l),R($o,a),R(So,s),R(bo,r),R(_o,p),R(Co,v),R(ko,O),R(Ao,j),R(jo,u),R(Kn,w),R(Oo,x),ne(S))if(S.length){let I=e.exposed||(e.exposed={});S.forEach(P=>{Object.defineProperty(I,P,{get:()=>o[P],set:B=>o[P]=B})})}else e.exposed||(e.exposed={});$&&e.render===Me&&(e.render=$),k!=null&&(e.inheritAttrs=k),T&&(e.components=T),E&&(e.directives=E),x&&Qr(e)}function To(e,t,o=Me){ne(e)&&(e=Yn(e));for(let f in e){let m=e[f],g;ge(m)?"default"in m?g=pn(m.from||f,m.default,!0):g=pn(m.from||f):g=pn(m),be(g)?Object.defineProperty(t,f,{enumerable:!0,configurable:!0,get:()=>g.value,set:h=>g.value=h}):t[f]=g}}function rs(e,t,o){Le(ne(e)?e.map(f=>f.bind(t.proxy)):e.bind(t.proxy),t,o)}function ss(e,t,o,f){let m=f.includes(".")?$s(o,f):()=>o[f];if(ye(e)){let g=t[e];ee(g)&&dn(m,g)}else if(ee(e))dn(m,e.bind(o));else if(ge(e))if(ne(e))e.forEach(g=>ss(g,t,o,f));else{let g=ee(e.handler)?e.handler.bind(o):t[e.handler];ee(g)&&dn(m,g,e)}}function is(e){let t=e.type,{mixins:o,extends:f}=t,{mixins:m,optionsCache:g,config:{optionMergeStrategies:h}}=e.appContext,i=g.get(t),b;return i?b=i:!m.length&&!o&&!f?b=t:(b={},m.length&&m.forEach(_=>fn(b,_,h,!0)),fn(b,t,h)),ge(t)&&g.set(t,b),b}function fn(e,t,o,f=!1){let{mixins:m,extends:g}=t;g&&fn(e,g,o,!0),m&&m.forEach(h=>fn(e,h,o,!0));for(let h in t)if(!(f&&h==="expose")){let i=Eo[h]||o&&o[h];e[h]=i?i(e[h],t[h]):t[h]}return e}let Eo={data:os,props:as,emits:as,methods:Lt,computed:Lt,beforeCreate:Oe,created:Oe,beforeMount:Oe,mounted:Oe,beforeUpdate:Oe,updated:Oe,beforeDestroy:Oe,beforeUnmount:Oe,destroyed:Oe,unmounted:Oe,activated:Oe,deactivated:Oe,errorCaptured:Oe,serverPrefetch:Oe,components:Lt,directives:Lt,watch:qo,provide:os,inject:Po};function os(e,t){return t?e?function(){return we(ee(e)?e.call(this,this):e,ee(t)?t.call(this,this):t)}:t:e}function Po(e,t){return Lt(Yn(e),Yn(t))}function Yn(e){if(ne(e)){let t={};for(let o=0;o<e.length;o++)t[e[o]]=e[o];return t}return e}function Oe(e,t){return e?[...new Set([].concat(e,t))]:t}function Lt(e,t){return e?we(Object.create(null),e,t):t}function as(e,t){return e?ne(e)&&ne(t)?[...new Set([...e,...t])]:we(Object.create(null),ns(e),ns(t??{})):t}function qo(e,t){if(!e)return t;if(!t)return e;let o=we(Object.create(null),e);for(let f in t)o[f]=Oe(e[f],t[f]);return o}function ls(){return{app:null,config:{isNativeTag:gi,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Mo=0;function Lo(e,t){return function(o,f=null){ee(o)||(o=we({},o)),f!=null&&!ge(f)&&(f=null);let m=ls(),g=new WeakSet,h=[],i=!1,b=m.app={_uid:Mo++,_component:o,_props:f,_container:null,_context:m,_instance:null,version:ja,get config(){return m.config},set config(_){},use(_,...d){return g.has(_)||(_&&ee(_.install)?(g.add(_),_.install(b,...d)):ee(_)&&(g.add(_),_(b,...d))),b},mixin(_){return m.mixins.includes(_)||m.mixins.push(_),b},component(_,d){return d?(m.components[_]=d,b):m.components[_]},directive(_,d){return d?(m.directives[_]=d,b):m.directives[_]},mount(_,d,n){if(!i){let l=b._ceVNode||Qe(o,f);return l.appContext=m,n===!0?n="svg":n===!1&&(n=void 0),e(l,_,n),i=!0,b._container=_,_.__vue_app__=b,sr(l.component)}},onUnmount(_){h.push(_)},unmount(){i&&(Le(h,b._instance,16),e(null,b._container),delete b._container.__vue_app__)},provide(_,d){return m.provides[_]=d,b},runWithContext(_){let d=$t;$t=b;try{return _()}finally{$t=d}}};return b}}let $t=null;function No(e,t){if(Ae){let o=Ae.provides,f=Ae.parent&&Ae.parent.provides;f===o&&(o=Ae.provides=Object.create(f)),o[e]=t}}function pn(e,t,o=!1){let f=Ae||Fe;if(f||$t){let m=$t?$t._context.provides:f?f.parent==null?f.vnode.appContext&&f.vnode.appContext.provides:f.parent.provides:void 0;if(m&&e in m)return m[e];if(arguments.length>1)return o&&ee(t)?t.call(f&&f.proxy):t}}let cs={},us=()=>Object.create(cs),fs=e=>Object.getPrototypeOf(e)===cs;function Fo(e,t,o,f=!1){let m={},g=us();e.propsDefaults=Object.create(null),ps(e,t,m,g);for(let h in e.propsOptions[0])h in m||(m[h]=void 0);o?e.props=f?m:Ji(m):e.type.props?e.props=m:e.props=g,e.attrs=g}function zo(e,t,o,f){let{props:m,attrs:g,vnode:{patchFlag:h}}=e,i=se(m),[b]=e.propsOptions,_=!1;if((f||h>0)&&!(h&16)){if(h&8){let d=e.vnode.dynamicProps;for(let n=0;n<d.length;n++){let l=d[n];if(hn(e.emitsOptions,l))continue;let a=t[l];if(b)if(oe(g,l))a!==g[l]&&(g[l]=a,_=!0);else{let s=tt(l);m[s]=Qn(b,i,s,a,e,!1)}else a!==g[l]&&(g[l]=a,_=!0)}}}else{ps(e,t,m,g)&&(_=!0);let d;for(let n in i)(!t||!oe(t,n)&&((d=ct(n))===n||!oe(t,d)))&&(b?o&&(o[n]!==void 0||o[d]!==void 0)&&(m[n]=Qn(b,i,n,void 0,e,!0)):delete m[n]);if(g!==i)for(let n in g)(!t||!oe(t,n))&&(delete g[n],_=!0)}_&&Ze(e.attrs,"set","")}function ps(e,t,o,f){let[m,g]=e.propsOptions,h=!1,i;if(t)for(let b in t){if(Ot(b))continue;let _=t[b],d;m&&oe(m,d=tt(b))?!g||!g.includes(d)?o[d]=_:(i||(i={}))[d]=_:hn(e.emitsOptions,b)||(!(b in f)||_!==f[b])&&(f[b]=_,h=!0)}if(g){let b=se(o),_=i||fe;for(let d=0;d<g.length;d++){let n=g[d];o[n]=Qn(m,b,n,_[n],e,!oe(_,n))}}return h}function Qn(e,t,o,f,m,g){let h=e[o];if(h!=null){let i=oe(h,"default");if(i&&f===void 0){let b=h.default;if(h.type!==Function&&!h.skipFactory&&ee(b)){let{propsDefaults:_}=m;if(o in _)f=_[o];else{let d=Ut(m);f=_[o]=b.call(null,t),d()}}else f=b;m.ce&&m.ce._setProp(o,f)}h[0]&&(g&&!i?f=!1:h[1]&&(f===""||f===ct(o))&&(f=!0))}return f}let Uo=new WeakMap;function ds(e,t,o=!1){let f=o?Uo:t.propsCache,m=f.get(e);if(m)return m;let g=e.props,h={},i=[],b=!1;if(!ee(e)){let d=n=>{b=!0;let[l,a]=ds(n,t,!0);we(h,l),a&&i.push(...a)};!o&&t.mixins.length&&t.mixins.forEach(d),e.extends&&d(e.extends),e.mixins&&e.mixins.forEach(d)}if(!g&&!b)return ge(e)&&f.set(e,yt),yt;if(ne(g))for(let d=0;d<g.length;d++){let n=tt(g[d]);hs(n)&&(h[n]=fe)}else if(g)for(let d in g){let n=tt(d);if(hs(n)){let l=g[d],a=h[n]=ne(l)||ee(l)?{type:l}:we({},l),s=a.type,r=!1,p=!0;if(ne(s))for(let c=0;c<s.length;++c){let u=s[c],y=ee(u)&&u.name;if(y==="Boolean"){r=!0;break}else y==="String"&&(p=!1)}else r=ee(s)&&s.name==="Boolean";a[0]=r,a[1]=p,(r||oe(a,"default"))&&i.push(n)}}let _=[h,i];return ge(e)&&f.set(e,_),_}function hs(e){return e[0]!=="$"&&!Ot(e)}let ms=e=>e[0]==="_"||e==="$stable",Xn=e=>ne(e)?e.map(ze):[ze(e)],Vo=(e,t,o)=>{if(t._n)return t;let f=mo((...m)=>Xn(t(...m)),o);return f._c=!1,f},gs=(e,t,o)=>{let f=e._ctx;for(let m in e){if(ms(m))continue;let g=e[m];if(ee(g))t[m]=Vo(m,g,f);else if(g!=null){let h=Xn(g);t[m]=()=>h}}},ys=(e,t)=>{let o=Xn(t);e.slots.default=()=>o},vs=(e,t,o)=>{for(let f in t)(o||f!=="_")&&(e[f]=t[f])},Wo=(e,t,o)=>{let f=e.slots=us();if(e.vnode.shapeFlag&32){let m=t._;m?(vs(f,t,o),o&&xr(f,"_",m,!0)):gs(t,f)}else t&&ys(e,t)},Ho=(e,t,o)=>{let{vnode:f,slots:m}=e,g=!0,h=fe;if(f.shapeFlag&32){let i=t._;i?o&&i===1?g=!1:vs(m,t,o):(g=!t.$stable,gs(t,m)),h=t}else t&&(ys(e,t),h={default:1});if(g)for(let i in m)!ms(i)&&h[i]==null&&delete m[i]},Re=ia;function Bo(e){return Ko(e)}function Ko(e,t){let o=Yt();o.__VUE__=!0;let{insert:f,remove:m,patchProp:g,createElement:h,createText:i,createComment:b,setText:_,setElementText:d,parentNode:n,nextSibling:l,setScopeId:a=Me,insertStaticContent:s}=e,r=(A,C,D,N=null,q=null,L=null,V=void 0,U=null,z=!!C.dynamicChildren)=>{if(A===C)return;A&&!zt(A,C)&&(N=Ee(A),te(A,q,L,!0),A=null),C.patchFlag===-2&&(z=!1,C.dynamicChildren=null);let{type:F,ref:Z,shapeFlag:H}=C;switch(F){case mn:p(A,C,D,N);break;case mt:c(A,C,D,N);break;case tr:A==null&&u(C,D,N,V);break;case Ye:T(A,C,D,N,q,L,V,U,z);break;default:H&1?$(A,C,D,N,q,L,V,U,z):H&6?E(A,C,D,N,q,L,V,U,z):(H&64||H&128)&&F.process(A,C,D,N,q,L,V,U,z,ve)}Z!=null&&q&&cn(Z,A&&A.ref,L,C||A,!C)},p=(A,C,D,N)=>{if(A==null)f(C.el=i(C.children),D,N);else{let q=C.el=A.el;C.children!==A.children&&_(q,C.children)}},c=(A,C,D,N)=>{A==null?f(C.el=b(C.children||""),D,N):C.el=A.el},u=(A,C,D,N)=>{[A.el,A.anchor]=s(A.children,C,D,N,A.el,A.anchor)},y=({el:A,anchor:C},D,N)=>{let q;for(;A&&A!==C;)q=l(A),f(A,D,N),A=q;f(C,D,N)},w=({el:A,anchor:C})=>{let D;for(;A&&A!==C;)D=l(A),m(A),A=D;m(C)},$=(A,C,D,N,q,L,V,U,z)=>{C.type==="svg"?V="svg":C.type==="math"&&(V="mathml"),A==null?O(C,D,N,q,L,V,U,z):x(A,C,q,L,V,U,z)},O=(A,C,D,N,q,L,V,U)=>{let z,F,{props:Z,shapeFlag:H,transition:G,dirs:X}=A;if(z=A.el=h(A.type,L,Z&&Z.is,Z),H&8?d(z,A.children):H&16&&v(A.children,z,null,N,q,er(A,L),V,U),X&&dt(A,null,N,"created"),j(z,A,A.scopeId,V,N),Z){for(let he in Z)he!=="value"&&!Ot(he)&&g(z,he,null,Z[he],L,N);"value"in Z&&g(z,"value",null,Z.value,L),(F=Z.onVnodeBeforeMount)&&Ue(F,N,A)}X&&dt(A,null,N,"beforeMount");let re=Zo(q,G);re&&G.beforeEnter(z),f(z,C,D),((F=Z&&Z.onVnodeMounted)||re||X)&&Re(()=>{F&&Ue(F,N,A),re&&G.enter(z),X&&dt(A,null,N,"mounted")},q)},j=(A,C,D,N,q)=>{if(D&&a(A,D),N)for(let L=0;L<N.length;L++)a(A,N[L]);if(q){let L=q.subTree;if(C===L||As(L.type)&&(L.ssContent===C||L.ssFallback===C)){let V=q.vnode;j(A,V,V.scopeId,V.slotScopeIds,q.parent)}}},v=(A,C,D,N,q,L,V,U,z=0)=>{for(let F=z;F<A.length;F++){let Z=A[F]=U?it(A[F]):ze(A[F]);r(null,Z,C,D,N,q,L,V,U)}},x=(A,C,D,N,q,L,V)=>{let U=C.el=A.el,{patchFlag:z,dynamicChildren:F,dirs:Z}=C;z|=A.patchFlag&16;let H=A.props||fe,G=C.props||fe,X;if(D&&ht(D,!1),(X=G.onVnodeBeforeUpdate)&&Ue(X,D,C,A),Z&&dt(C,A,D,"beforeUpdate"),D&&ht(D,!0),(H.innerHTML&&G.innerHTML==null||H.textContent&&G.textContent==null)&&d(U,""),F?S(A.dynamicChildren,F,U,D,N,er(C,q),L):V||B(A,C,U,null,D,N,er(C,q),L,!1),z>0){if(z&16)k(U,H,G,D,q);else if(z&2&&H.class!==G.class&&g(U,"class",null,G.class,q),z&4&&g(U,"style",H.style,G.style,q),z&8){let re=C.dynamicProps;for(let he=0;he<re.length;he++){let le=re[he],Ie=H[le],ke=G[le];(ke!==Ie||le==="value")&&g(U,le,Ie,ke,q,D)}}z&1&&A.children!==C.children&&d(U,C.children)}else!V&&F==null&&k(U,H,G,D,q);((X=G.onVnodeUpdated)||Z)&&Re(()=>{X&&Ue(X,D,C,A),Z&&dt(C,A,D,"updated")},N)},S=(A,C,D,N,q,L,V)=>{for(let U=0;U<C.length;U++){let z=A[U],F=C[U],Z=z.el&&(z.type===Ye||!zt(z,F)||z.shapeFlag&70)?n(z.el):D;r(z,F,Z,null,N,q,L,V,!0)}},k=(A,C,D,N,q)=>{if(C!==D){if(C!==fe)for(let L in C)!Ot(L)&&!(L in D)&&g(A,L,C[L],null,q,N);for(let L in D){if(Ot(L))continue;let V=D[L],U=C[L];V!==U&&L!=="value"&&g(A,L,U,V,q,N)}"value"in D&&g(A,"value",C.value,D.value,q)}},T=(A,C,D,N,q,L,V,U,z)=>{let F=C.el=A?A.el:i(""),Z=C.anchor=A?A.anchor:i(""),{patchFlag:H,dynamicChildren:G,slotScopeIds:X}=C;X&&(U=U?U.concat(X):X),A==null?(f(F,D,N),f(Z,D,N),v(C.children||[],D,Z,q,L,V,U,z)):H>0&&H&64&&G&&A.dynamicChildren?(S(A.dynamicChildren,G,D,q,L,V,U),(C.key!=null||q&&C===q.subTree)&&bs(A,C,!0)):B(A,C,D,Z,q,L,V,U,z)},E=(A,C,D,N,q,L,V,U,z)=>{C.slotScopeIds=U,A==null?C.shapeFlag&512?q.ctx.activate(C,D,N,V,z):W(C,D,N,q,L,V,z):R(A,C,z)},W=(A,C,D,N,q,L,V)=>{let U=A.component=ga(A,N,q);if(Xr(A)&&(U.ctx.renderer=ve),ya(U,!1,V),U.asyncDep){if(q&&q.registerDep(U,I,V),!A.el){let z=U.subTree=Qe(mt);c(null,z,C,D)}}else I(U,A,C,D,q,L,V)},R=(A,C,D)=>{let N=C.component=A.component;if(ra(A,C,D))if(N.asyncDep&&!N.asyncResolved){P(N,C,D);return}else N.next=C,N.update();else C.el=A.el,N.vnode=C},I=(A,C,D,N,q,L,V)=>{let U=()=>{if(A.isMounted){let{next:H,bu:G,u:X,parent:re,vnode:he}=A;{let We=_s(A);if(We){H&&(H.el=he.el,P(A,H,V)),We.asyncDep.then(()=>{A.isUnmounted||U()});return}}let le=H,Ie;ht(A,!1),H?(H.el=he.el,P(A,H,V)):H=he,G&&An(G),(Ie=H.props&&H.props.onVnodeBeforeUpdate)&&Ue(Ie,re,H,he),ht(A,!0);let ke=js(A),Ve=A.subTree;A.subTree=ke,r(Ve,ke,n(Ve.el),Ee(Ve),A,q,L),H.el=ke.el,le===null&&sa(A,ke.el),X&&Re(X,q),(Ie=H.props&&H.props.onVnodeUpdated)&&Re(()=>Ue(Ie,re,H,he),q)}else{let H,{el:G,props:X}=C,{bm:re,m:he,parent:le,root:Ie,type:ke}=A,Ve=qt(C);ht(A,!1),re&&An(re),!Ve&&(H=X&&X.onVnodeBeforeMount)&&Ue(H,le,C),ht(A,!0);{Ie.ce&&Ie.ce._injectChildStyle(ke);let We=A.subTree=js(A);r(null,We,D,N,A,q,L),C.el=We.el}if(he&&Re(he,q),!Ve&&(H=X&&X.onVnodeMounted)){let We=C;Re(()=>Ue(H,le,We),q)}(C.shapeFlag&256||le&&qt(le.vnode)&&le.vnode.shapeFlag&256)&&A.a&&Re(A.a,q),A.isMounted=!0,C=D=N=null}};A.scope.on();let z=A.effect=new jr(U);A.scope.off();let F=A.update=z.run.bind(z),Z=A.job=z.runIfDirty.bind(z);Z.i=A,Z.id=A.uid,z.scheduler=()=>Hn(Z),ht(A,!0),F()},P=(A,C,D)=>{C.component=A;let N=A.vnode.props;A.vnode=C,A.next=null,zo(A,C.props,N,D),Ho(A,C.children,D),Be(),Zr(A),Ke()},B=(A,C,D,N,q,L,V,U,z=!1)=>{let F=A&&A.children,Z=A?A.shapeFlag:0,H=C.children,{patchFlag:G,shapeFlag:X}=C;if(G>0){if(G&128){J(F,H,D,N,q,L,V,U,z);return}else if(G&256){Q(F,H,D,N,q,L,V,U,z);return}}X&8?(Z&16&&$e(F,q,L),H!==F&&d(D,H)):Z&16?X&16?J(F,H,D,N,q,L,V,U,z):$e(F,q,L,!0):(Z&8&&d(D,""),X&16&&v(H,D,N,q,L,V,U,z))},Q=(A,C,D,N,q,L,V,U,z)=>{A=A||yt,C=C||yt;let F=A.length,Z=C.length,H=Math.min(F,Z),G;for(G=0;G<H;G++){let X=C[G]=z?it(C[G]):ze(C[G]);r(A[G],X,D,null,q,L,V,U,z)}F>Z?$e(A,q,L,!0,!1,H):v(C,D,N,q,L,V,U,z,H)},J=(A,C,D,N,q,L,V,U,z)=>{let F=0,Z=C.length,H=A.length-1,G=Z-1;for(;F<=H&&F<=G;){let X=A[F],re=C[F]=z?it(C[F]):ze(C[F]);if(zt(X,re))r(X,re,D,null,q,L,V,U,z);else break;F++}for(;F<=H&&F<=G;){let X=A[H],re=C[G]=z?it(C[G]):ze(C[G]);if(zt(X,re))r(X,re,D,null,q,L,V,U,z);else break;H--,G--}if(F>H){if(F<=G){let X=G+1,re=X<Z?C[X].el:N;for(;F<=G;)r(null,C[F]=z?it(C[F]):ze(C[F]),D,re,q,L,V,U,z),F++}}else if(F>G)for(;F<=H;)te(A[F],q,L,!0),F++;else{let X=F,re=F,he=new Map;for(F=re;F<=G;F++){let Te=C[F]=z?it(C[F]):ze(C[F]);Te.key!=null&&he.set(Te.key,F)}let le,Ie=0,ke=G-re+1,Ve=!1,We=0,Kt=new Array(ke);for(F=0;F<ke;F++)Kt[F]=0;for(F=X;F<=H;F++){let Te=A[F];if(Ie>=ke){te(Te,q,L,!0);continue}let He;if(Te.key!=null)He=he.get(Te.key);else for(le=re;le<=G;le++)if(Kt[le-re]===0&&zt(Te,C[le])){He=le;break}He===void 0?te(Te,q,L,!0):(Kt[He-re]=F+1,He>=We?We=He:Ve=!0,r(Te,C[He],D,null,q,L,V,U,z),Ie++)}let fi=Ve?Go(Kt):yt;for(le=fi.length-1,F=ke-1;F>=0;F--){let Te=re+F,He=C[Te],pi=Te+1<Z?C[Te+1].el:N;Kt[F]===0?r(null,He,D,pi,q,L,V,U,z):Ve&&(le<0||F!==fi[le]?Y(He,D,pi,2):le--)}}},Y=(A,C,D,N,q=null)=>{let{el:L,type:V,transition:U,children:z,shapeFlag:F}=A;if(F&6){Y(A.component.subTree,C,D,N);return}if(F&128){A.suspense.move(C,D,N);return}if(F&64){V.move(A,C,D,ve);return}if(V===Ye){f(L,C,D);for(let Z=0;Z<z.length;Z++)Y(z[Z],C,D,N);f(A.anchor,C,D);return}if(V===tr){y(A,C,D);return}if(N!==2&&F&1&&U)if(N===0)U.beforeEnter(L),f(L,C,D),Re(()=>U.enter(L),q);else{let{leave:Z,delayLeave:H,afterLeave:G}=U,X=()=>f(L,C,D),re=()=>{Z(L,()=>{X(),G&&G()})};H?H(L,X,re):re()}else f(L,C,D)},te=(A,C,D,N=!1,q=!1)=>{let{type:L,props:V,ref:U,children:z,dynamicChildren:F,shapeFlag:Z,patchFlag:H,dirs:G,cacheIndex:X}=A;if(H===-2&&(q=!1),U!=null&&cn(U,null,D,A,!0),X!=null&&(C.renderCache[X]=void 0),Z&256){C.ctx.deactivate(A);return}let re=Z&1&&G,he=!qt(A),le;if(he&&(le=V&&V.onVnodeBeforeUnmount)&&Ue(le,C,A),Z&6)me(A.component,D,N);else{if(Z&128){A.suspense.unmount(D,N);return}re&&dt(A,null,C,"beforeUnmount"),Z&64?A.type.remove(A,C,D,ve,N):F&&!F.hasOnce&&(L!==Ye||H>0&&H&64)?$e(F,C,D,!1,!0):(L===Ye&&H&384||!q&&Z&16)&&$e(z,C,D),N&&ie(A)}(he&&(le=V&&V.onVnodeUnmounted)||re)&&Re(()=>{le&&Ue(le,C,A),re&&dt(A,null,C,"unmounted")},D)},ie=A=>{let{type:C,el:D,anchor:N,transition:q}=A;if(C===Ye){K(D,N);return}if(C===tr){w(A);return}let L=()=>{m(D),q&&!q.persisted&&q.afterLeave&&q.afterLeave()};if(A.shapeFlag&1&&q&&!q.persisted){let{leave:V,delayLeave:U}=q,z=()=>V(D,L);U?U(A.el,L,z):z()}else L()},K=(A,C)=>{let D;for(;A!==C;)D=l(A),m(A),A=D;m(C)},me=(A,C,D)=>{let{bum:N,scope:q,job:L,subTree:V,um:U,m:z,a:F}=A;ws(z),ws(F),N&&An(N),q.stop(),L&&(L.flags|=8,te(V,A,C,D)),U&&Re(U,C),Re(()=>{A.isUnmounted=!0},C),C&&C.pendingBranch&&!C.isUnmounted&&A.asyncDep&&!A.asyncResolved&&A.suspenseId===C.pendingId&&(C.deps--,C.deps===0&&C.resolve())},$e=(A,C,D,N=!1,q=!1,L=0)=>{for(let V=L;V<A.length;V++)te(A[V],C,D,N,q)},Ee=A=>{if(A.shapeFlag&6)return Ee(A.component.subTree);if(A.shapeFlag&128)return A.suspense.next();let C=l(A.anchor||A.el),D=C&&C[go];return D?l(D):C},Bt=!1,_n=(A,C,D)=>{A==null?C._vnode&&te(C._vnode,null,null,!0):r(C._vnode||null,A,C,null,null,null,D),C._vnode=A,Bt||(Bt=!0,Zr(),Gr(),Bt=!1)},ve={p:r,um:te,m:Y,r:ie,mt:W,mc:v,pc:B,pbc:S,n:Ee,o:e};return{render:_n,hydrate:void 0,createApp:Lo(_n)}}function er({type:e,props:t},o){return o==="svg"&&e==="foreignObject"||o==="mathml"&&e==="annotation-xml"&&t&&t.encoding&&t.encoding.includes("html")?void 0:o}function ht({effect:e,job:t},o){o?(e.flags|=32,t.flags|=4):(e.flags&=-33,t.flags&=-5)}function Zo(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}function bs(e,t,o=!1){let f=e.children,m=t.children;if(ne(f)&&ne(m))for(let g=0;g<f.length;g++){let h=f[g],i=m[g];i.shapeFlag&1&&!i.dynamicChildren&&((i.patchFlag<=0||i.patchFlag===32)&&(i=m[g]=it(m[g]),i.el=h.el),!o&&i.patchFlag!==-2&&bs(h,i)),i.type===mn&&(i.el=h.el)}}function Go(e){let t=e.slice(),o=[0],f,m,g,h,i,b=e.length;for(f=0;f<b;f++){let _=e[f];if(_!==0){if(m=o[o.length-1],e[m]<_){t[f]=m,o.push(f);continue}for(g=0,h=o.length-1;g<h;)i=g+h>>1,e[o[i]]<_?g=i+1:h=i;_<e[o[g]]&&(g>0&&(t[f]=o[g-1]),o[g]=f)}}for(g=o.length,h=o[g-1];g-- >0;)o[g]=h,h=t[h];return o}function _s(e){let t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:_s(t)}function ws(e){if(e)for(let t=0;t<e.length;t++)e[t].flags|=8}let Jo=Symbol.for("v-scx"),Yo=()=>pn(Jo);function dn(e,t,o){return xs(e,t,o)}function xs(e,t,o=fe){let{immediate:f,deep:m,flush:g,once:h}=o,i=we({},o),b=t&&f||!t&&g!=="post",_;if(Vt){if(g==="sync"){let a=Yo();_=a.__watcherHandles||(a.__watcherHandles=[])}else if(!b){let a=()=>{};return a.stop=Me,a.resume=Me,a.pause=Me,a}}let d=Ae;i.call=(a,s,r)=>Le(a,d,s,r);let n=!1;g==="post"?i.scheduler=a=>{Re(a,d&&d.suspense)}:g!=="sync"&&(n=!0,i.scheduler=(a,s)=>{s?a():Hn(a)}),i.augmentJob=a=>{t&&(a.flags|=4),n&&(a.flags|=2,d&&(a.id=d.uid,a.i=d))};let l=io(e,t,i);return Vt&&(_?_.push(l):b&&l()),l}function Qo(e,t,o){let f=this.proxy,m=ye(e)?e.includes(".")?$s(f,e):()=>f[e]:e.bind(f,f),g;ee(t)?g=t:(g=t.handler,o=t);let h=Ut(this),i=xs(m,g.bind(f),o);return h(),i}function $s(e,t){let o=t.split(".");return()=>{let f=e;for(let m=0;m<o.length&&f;m++)f=f[o[m]];return f}}let Xo=(e,t)=>t==="modelValue"||t==="model-value"?e.modelModifiers:e[`${t}Modifiers`]||e[`${tt(t)}Modifiers`]||e[`${ct(t)}Modifiers`];function ea(e,t,...o){if(e.isUnmounted)return;let f=e.vnode.props||fe,m=o,g=t.startsWith("update:"),h=g&&Xo(f,t.slice(7));h&&(h.trim&&(m=o.map(d=>ye(d)?d.trim():d)),h.number&&(m=o.map(Si)));let i,b=f[i=On(t)]||f[i=On(tt(t))];!b&&g&&(b=f[i=On(ct(t))]),b&&Le(b,e,6,m);let _=f[i+"Once"];if(_){if(!e.emitted)e.emitted={};else if(e.emitted[i])return;e.emitted[i]=!0,Le(_,e,6,m)}}function Ss(e,t,o=!1){let f=t.emitsCache,m=f.get(e);if(m!==void 0)return m;let g=e.emits,h={},i=!1;if(!ee(e)){let b=_=>{let d=Ss(_,t,!0);d&&(i=!0,we(h,d))};!o&&t.mixins.length&&t.mixins.forEach(b),e.extends&&b(e.extends),e.mixins&&e.mixins.forEach(b)}return!g&&!i?(ge(e)&&f.set(e,null),null):(ne(g)?g.forEach(b=>h[b]=null):we(h,g),ge(e)&&f.set(e,h),h)}function hn(e,t){return!e||!Zt(t)?!1:(t=t.slice(2).replace(/Once$/,""),oe(e,t[0].toLowerCase()+t.slice(1))||oe(e,ct(t))||oe(e,t))}function nc(){}function js(e){let{type:t,vnode:o,proxy:f,withProxy:m,propsOptions:[g],slots:h,attrs:i,emit:b,render:_,renderCache:d,props:n,data:l,setupState:a,ctx:s,inheritAttrs:r}=e,p=ln(e),c,u;try{if(o.shapeFlag&4){let w=m||f,$=w;c=ze(_.call($,w,d,n,a,l,s)),u=i}else{let w=t;c=ze(w.length>1?w(n,{attrs:i,slots:h,emit:b}):w(n,null)),u=t.props?i:ta(i)}}catch(w){Nt.length=0,on(w,e,1),c=Qe(mt)}let y=c;if(u&&r!==!1){let w=Object.keys(u),{shapeFlag:$}=y;w.length&&$&7&&(g&&w.some($n)&&(u=na(u,g)),y=St(y,u,!1,!0))}return o.dirs&&(y=St(y,null,!1,!0),y.dirs=y.dirs?y.dirs.concat(o.dirs):o.dirs),o.transition&&Bn(y,o.transition),c=y,ln(p),c}let ta=e=>{let t;for(let o in e)(o==="class"||o==="style"||Zt(o))&&((t||(t={}))[o]=e[o]);return t},na=(e,t)=>{let o={};for(let f in e)(!$n(f)||!(f.slice(9)in t))&&(o[f]=e[f]);return o};function ra(e,t,o){let{props:f,children:m,component:g}=e,{props:h,children:i,patchFlag:b}=t,_=g.emitsOptions;if(t.dirs||t.transition)return!0;if(o&&b>=0){if(b&1024)return!0;if(b&16)return f?Os(f,h,_):!!h;if(b&8){let d=t.dynamicProps;for(let n=0;n<d.length;n++){let l=d[n];if(h[l]!==f[l]&&!hn(_,l))return!0}}}else return(m||i)&&(!i||!i.$stable)?!0:f===h?!1:f?h?Os(f,h,_):!0:!!h;return!1}function Os(e,t,o){let f=Object.keys(t);if(f.length!==Object.keys(e).length)return!0;for(let m=0;m<f.length;m++){let g=f[m];if(t[g]!==e[g]&&!hn(o,g))return!0}return!1}function sa({vnode:e,parent:t},o){for(;t;){let f=t.subTree;if(f.suspense&&f.suspense.activeBranch===e&&(f.el=e.el),f===e)(e=t.vnode).el=o,t=t.parent;else break}}let As=e=>e.__isSuspense;function ia(e,t){t&&t.pendingBranch?ne(e)?t.effects.push(...e):t.effects.push(e):ho(e)}let Ye=Symbol.for("v-fgt"),mn=Symbol.for("v-txt"),mt=Symbol.for("v-cmt"),tr=Symbol.for("v-stc"),Nt=[],De=null;function ks(e=!1){Nt.push(De=e?null:[])}function oa(){Nt.pop(),De=Nt[Nt.length-1]||null}let Ft=1;function Cs(e,t=!1){Ft+=e,e<0&&De&&t&&(De.hasOnce=!0)}function Rs(e){return e.dynamicChildren=Ft>0?De||yt:null,oa(),Ft>0&&De&&De.push(e),e}function aa(e,t,o,f,m,g){return Rs(Ts(e,t,o,f,m,g,!0))}function la(e,t,o,f,m){return Rs(Qe(e,t,o,f,m,!0))}function Ds(e){return e?e.__v_isVNode===!0:!1}function zt(e,t){return e.type===t.type&&e.key===t.key}let Is=({key:e})=>e??null,gn=({ref:e,ref_key:t,ref_for:o})=>(typeof e=="number"&&(e=""+e),e!=null?ye(e)||be(e)||ee(e)?{i:Fe,r:e,k:t,f:!!o}:e:null);function Ts(e,t=null,o=null,f=0,m=null,g=e===Ye?0:1,h=!1,i=!1){let b={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Is(t),ref:t&&gn(t),scopeId:Yr,slotScopeIds:null,children:o,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:g,patchFlag:f,dynamicProps:m,dynamicChildren:null,appContext:null,ctx:Fe};return i?(nr(b,o),g&128&&e.normalize(b)):o&&(b.shapeFlag|=ye(o)?8:16),Ft>0&&!h&&De&&(b.patchFlag>0||g&6)&&b.patchFlag!==32&&De.push(b),b}let Qe=ca;function ca(e,t=null,o=null,f=0,m=null,g=!1){if((!e||e===Ro)&&(e=mt),Ds(e)){let i=St(e,t,!0);return o&&nr(i,o),Ft>0&&!g&&De&&(i.shapeFlag&6?De[De.indexOf(e)]=i:De.push(i)),i.patchFlag=-2,i}if(Sa(e)&&(e=e.__vccOpts),t){t=ua(t);let{class:i,style:b}=t;i&&!ye(i)&&(t.class=Cn(i)),ge(b)&&(Un(b)&&!ne(b)&&(b=we({},b)),t.style=kn(b))}let h=ye(e)?1:As(e)?128:yo(e)?64:ge(e)?4:ee(e)?2:0;return Ts(e,t,o,f,m,h,g,!0)}function ua(e){return e?Un(e)||fs(e)?we({},e):e:null}function St(e,t,o=!1,f=!1){let{props:m,ref:g,patchFlag:h,children:i,transition:b}=e,_=t?da(m||{},t):m,d={__v_isVNode:!0,__v_skip:!0,type:e.type,props:_,key:_&&Is(_),ref:t&&t.ref?o&&g?ne(g)?g.concat(gn(t)):[g,gn(t)]:gn(t):g,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:i,target:e.target,targetStart:e.targetStart,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==Ye?h===-1?16:h|16:h,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:b,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&St(e.ssContent),ssFallback:e.ssFallback&&St(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce};return b&&f&&Bn(d,b.clone(d)),d}function fa(e=" ",t=0){return Qe(mn,null,e,t)}function pa(e="",t=!1){return t?(ks(),la(mt,null,e)):Qe(mt,null,e)}function ze(e){return e==null||typeof e=="boolean"?Qe(mt):ne(e)?Qe(Ye,null,e.slice()):Ds(e)?it(e):Qe(mn,null,String(e))}function it(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:St(e)}function nr(e,t){let o=0,{shapeFlag:f}=e;if(t==null)t=null;else if(ne(t))o=16;else if(typeof t=="object")if(f&65){let m=t.default;m&&(m._c&&(m._d=!1),nr(e,m()),m._c&&(m._d=!0));return}else{o=32;let m=t._;!m&&!fs(t)?t._ctx=Fe:m===3&&Fe&&(Fe.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else ee(t)?(t={default:t,_ctx:Fe},o=32):(t=String(t),f&64?(o=16,t=[fa(t)]):o=8);e.children=t,e.shapeFlag|=o}function da(...e){let t={};for(let o=0;o<e.length;o++){let f=e[o];for(let m in f)if(m==="class")t.class!==f.class&&(t.class=Cn([t.class,f.class]));else if(m==="style")t.style=kn([t.style,f.style]);else if(Zt(m)){let g=t[m],h=f[m];h&&g!==h&&!(ne(g)&&g.includes(h))&&(t[m]=g?[].concat(g,h):h)}else m!==""&&(t[m]=f[m])}return t}function Ue(e,t,o,f=null){Le(e,t,7,[o,f])}let ha=ls(),ma=0;function ga(e,t,o){let f=e.type,m=(t?t.appContext:e.appContext)||ha,g={uid:ma++,vnode:e,type:f,parent:t,appContext:m,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Ri(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(m.provides),ids:t?t.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ds(f,m),emitsOptions:Ss(f,m),emit:null,emitted:null,propsDefaults:fe,inheritAttrs:f.inheritAttrs,ctx:fe,data:fe,props:fe,attrs:fe,slots:fe,refs:fe,setupState:fe,setupContext:null,suspense:o,suspenseId:o?o.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return g.ctx={_:g},g.root=t?t.root:g,g.emit=ea.bind(null,g),e.ce&&e.ce(g),g}let Ae=null,yn,rr;{let e=Yt(),t=(o,f)=>{let m;return(m=e[o])||(m=e[o]=[]),m.push(f),g=>{m.length>1?m.forEach(h=>h(g)):m[0](g)}};yn=t("__VUE_INSTANCE_SETTERS__",o=>Ae=o),rr=t("__VUE_SSR_SETTERS__",o=>Vt=o)}let Ut=e=>{let t=Ae;return yn(e),e.scope.on(),()=>{e.scope.off(),yn(t)}},Es=()=>{Ae&&Ae.scope.off(),yn(null)};function Ps(e){return e.vnode.shapeFlag&4}let Vt=!1;function ya(e,t=!1,o=!1){t&&rr(t);let{props:f,children:m}=e.vnode,g=Ps(e);Fo(e,f,g,t),Wo(e,m,o);let h=g?va(e,t):void 0;return t&&rr(!1),h}function va(e,t){let o=e.type;e.accessCache=Object.create(null),e.proxy=new Proxy(e.ctx,Do);let{setup:f}=o;if(f){Be();let m=e.setupContext=f.length>1?_a(e):null,g=Ut(e),h=_t(f,e,0,[e.props,m]),i=_r(h);if(Ke(),g(),(i||e.sp)&&!qt(e)&&Qr(e),i){if(h.then(Es,Es),t)return h.then(b=>{qs(e,b)}).catch(b=>{on(b,e,0)});e.asyncDep=h}else qs(e,h)}else Ms(e)}function qs(e,t,o){ee(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:ge(t)&&(e.setupState=Wr(t)),Ms(e)}function Ms(e,t,o){let f=e.type;e.render||(e.render=f.render||Me);{let m=Ut(e);Be();try{Io(e)}finally{Ke(),m()}}}let ba={get(e,t){return xe(e,"get",""),e[t]}};function _a(e){let t=o=>{e.exposed=o||{}};return{attrs:new Proxy(e.attrs,ba),slots:e.slots,emit:e.emit,expose:t}}function sr(e){return e.exposed?e.exposeProxy||(e.exposeProxy=new Proxy(Wr(Yi(e.exposed)),{get(t,o){if(o in t)return t[o];if(o in Mt)return Mt[o](e)},has(t,o){return o in t||o in Mt}})):e.proxy}let wa=/(?:^|[-_])(\w)/g,xa=e=>e.replace(wa,t=>t.toUpperCase()).replace(/[-_]/g,"");function $a(e,t=!0){return ee(e)?e.displayName||e.name:e.name||t&&e.__name}function Ls(e,t,o=!1){let f=$a(t);if(!f&&t.__file){let m=t.__file.match(/([^/\\]+)\.\w+$/);m&&(f=m[1])}if(!f&&e&&e.parent){let m=g=>{for(let h in g)if(g[h]===t)return h};f=m(e.components||e.parent.type.components)||m(e.appContext.components)}return f?xa(f):o?"App":"Anonymous"}function Sa(e){return ee(e)&&"__vccOpts"in e}let Ns=(e,t)=>ro(e,t,Vt),ja="3.5.13";let ir,Fs=typeof window<"u"&&window.trustedTypes;if(Fs)try{ir=Fs.createPolicy("vue",{createHTML:e=>e})}catch{}let zs=ir?e=>ir.createHTML(e):e=>e,Oa="http://www.w3.org/2000/svg",Aa="http://www.w3.org/1998/Math/MathML",Xe=typeof document<"u"?document:null,Us=Xe&&Xe.createElement("template"),ka={insert:(e,t,o)=>{t.insertBefore(e,o||null)},remove:e=>{let t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,o,f)=>{let m=t==="svg"?Xe.createElementNS(Oa,e):t==="mathml"?Xe.createElementNS(Aa,e):o?Xe.createElement(e,{is:o}):Xe.createElement(e);return e==="select"&&f&&f.multiple!=null&&m.setAttribute("multiple",f.multiple),m},createText:e=>Xe.createTextNode(e),createComment:e=>Xe.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>Xe.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,o,f,m,g){let h=o?o.previousSibling:t.lastChild;if(m&&(m===g||m.nextSibling))for(;t.insertBefore(m.cloneNode(!0),o),!(m===g||!(m=m.nextSibling)););else{Us.innerHTML=zs(f==="svg"?`<svg>${e}</svg>`:f==="mathml"?`<math>${e}</math>`:e);let i=Us.content;if(f==="svg"||f==="mathml"){let b=i.firstChild;for(;b.firstChild;)i.appendChild(b.firstChild);i.removeChild(b)}t.insertBefore(i,o)}return[h?h.nextSibling:t.firstChild,o?o.previousSibling:t.lastChild]}},Ca=Symbol("_vtc");function Ra(e,t,o){let f=e[Ca];f&&(t=(t?[t,...f]:[...f]).join(" ")),t==null?e.removeAttribute("class"):o?e.setAttribute("class",t):e.className=t}let Vs=Symbol("_vod"),Da=Symbol("_vsh"),Ia=Symbol(""),Ta=/(^|;)\s*display\s*:/;function Ea(e,t,o){let f=e.style,m=ye(o),g=!1;if(o&&!m){if(t)if(ye(t))for(let h of t.split(";")){let i=h.slice(0,h.indexOf(":")).trim();o[i]==null&&vn(f,i,"")}else for(let h in t)o[h]==null&&vn(f,h,"");for(let h in o)h==="display"&&(g=!0),vn(f,h,o[h])}else if(m){if(t!==o){let h=f[Ia];h&&(o+=";"+h),f.cssText=o,g=Ta.test(o)}}else t&&e.removeAttribute("style");Vs in e&&(e[Vs]=g?f.display:"",e[Da]&&(f.display="none"))}let Ws=/\s*!important$/;function vn(e,t,o){if(ne(o))o.forEach(f=>vn(e,t,f));else if(o==null&&(o=""),t.startsWith("--"))e.setProperty(t,o);else{let f=Pa(e,t);Ws.test(o)?e.setProperty(ct(f),o.replace(Ws,""),"important"):e[f]=o}}let Hs=["Webkit","Moz","ms"],or={};function Pa(e,t){let o=or[t];if(o)return o;let f=tt(t);if(f!=="filter"&&f in e)return or[t]=f;f=wr(f);for(let m=0;m<Hs.length;m++){let g=Hs[m]+f;if(g in e)return or[t]=g}return t}let Bs="http://www.w3.org/1999/xlink";function Ks(e,t,o,f,m,g=Ci(t)){f&&t.startsWith("xlink:")?o==null?e.removeAttributeNS(Bs,t.slice(6,t.length)):e.setAttributeNS(Bs,t,o):o==null||g&&!Sr(o)?e.removeAttribute(t):e.setAttribute(t,g?"":vt(o)?String(o):o)}function Zs(e,t,o,f,m){if(t==="innerHTML"||t==="textContent"){o!=null&&(e[t]=t==="innerHTML"?zs(o):o);return}let g=e.tagName;if(t==="value"&&g!=="PROGRESS"&&!g.includes("-")){let i=g==="OPTION"?e.getAttribute("value")||"":e.value,b=o==null?e.type==="checkbox"?"on":"":String(o);(i!==b||!("_value"in e))&&(e.value=b),o==null&&e.removeAttribute(t),e._value=o;return}let h=!1;if(o===""||o==null){let i=typeof e[t];i==="boolean"?o=Sr(o):o==null&&i==="string"?(o="",h=!0):i==="number"&&(o=0,h=!0)}try{e[t]=o}catch{}h&&e.removeAttribute(m||t)}function qa(e,t,o,f){e.addEventListener(t,o,f)}function Ma(e,t,o,f){e.removeEventListener(t,o,f)}let Gs=Symbol("_vei");function La(e,t,o,f,m=null){let g=e[Gs]||(e[Gs]={}),h=g[t];if(f&&h)h.value=f;else{let[i,b]=Na(t);if(f){let _=g[t]=Ua(f,m);qa(e,i,_,b)}else h&&(Ma(e,i,h,b),g[t]=void 0)}}let Js=/(?:Once|Passive|Capture)$/;function Na(e){let t;if(Js.test(e)){t={};let o;for(;o=e.match(Js);)e=e.slice(0,e.length-o[0].length),t[o[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):ct(e.slice(2)),t]}let ar=0,Fa=Promise.resolve(),za=()=>ar||(Fa.then(()=>ar=0),ar=Date.now());function Ua(e,t){let o=f=>{if(!f._vts)f._vts=Date.now();else if(f._vts<=o.attached)return;Le(Va(f,o.value),t,5,[f])};return o.value=e,o.attached=za(),o}function Va(e,t){if(ne(t)){let o=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{o.call(e),e._stopped=!0},t.map(f=>m=>!m._stopped&&f&&f(m))}else return t}let Ys=e=>e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123,Wa=(e,t,o,f,m,g)=>{let h=m==="svg";t==="class"?Ra(e,f,h):t==="style"?Ea(e,o,f):Zt(t)?$n(t)||La(e,t,o,f,g):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):Ha(e,t,f,h))?(Zs(e,t,f),!e.tagName.includes("-")&&(t==="value"||t==="checked"||t==="selected")&&Ks(e,t,f,h,g,t!=="value")):e._isVueCE&&(/[A-Z]/.test(t)||!ye(f))?Zs(e,tt(t),f,g,t):(t==="true-value"?e._trueValue=f:t==="false-value"&&(e._falseValue=f),Ks(e,t,f,h))};function Ha(e,t,o,f){if(f)return!!(t==="innerHTML"||t==="textContent"||t in e&&Ys(t)&&ee(o));if(t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA")return!1;if(t==="width"||t==="height"){let m=e.tagName;if(m==="IMG"||m==="VIDEO"||m==="CANVAS"||m==="SOURCE")return!1}return Ys(t)&&ye(o)?!1:t in e}let Ba=we({patchProp:Wa},ka),Qs;function Ka(){return Qs||(Qs=Bo(Ba))}let Za=(...e)=>{let t=Ka().createApp(...e),{mount:o}=t;return t.mount=f=>{let m=Ja(f);if(!m)return;let g=t._component;!ee(g)&&!g.render&&!g.template&&(g.template=m.innerHTML),m.nodeType===1&&(m.textContent="");let h=o(m,!1,Ga(m));return m instanceof Element&&(m.removeAttribute("v-cloak"),m.setAttribute("data-v-app","")),h},t};function Ga(e){if(e instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&e instanceof MathMLElement)return"mathml"}function Ja(e){return ye(e)?document.querySelector(e):e}let ot=e=>{let t=encodeURIComponent(String(e));return btoa(t)},Ya=e=>typeof e<"u"&&Object.keys(e).length>0,Qa=(e,t)=>t!==""?`&${e}=${t}`:"",Xa=e=>{let t=e.publicKey,o=ot(e.title),f=ot(e.currency),m=ot(e.description),g=ot(e.amount),h=ot(e.logo),i=ot(e.installments),b=e.order!==void 0?ot(e.orders):"",_=isNaN(e.amount)?!1:e.amount>0,d="4",n=Ya(e?.client)?ot(e.client.email):"";return`?publicKey=${t}&title=${o}&currency=${f}&description=${m}&amount=${g}&logo=${h}&installments=${i}&orders=${b}&monto=${_}&version=${d}${Qa("clientEmail",n)}`},Xs=(e,t)=>{if(!e)return e;let o=e.length-2,f="*".repeat(o);return e.substring(0,8)+f+e.substring(e.length-2)},el=(e,t)=>{let o=t.type?t.type.replace(/_/g," "):"Error",f=t.param||"",m=t.merchant_message||"",g=t.user_message||"";console.log(`%cJS%c${o}%c${f}%c${m}: ${g}`,"padding: 5px; border-radius: 4px 0 0 4px; background-color: #38d9a9; color: #222b31; text-transform: uppercase; font-size: 10px; font-family: sans-serif","padding: 5px; background-color: #222b31; color: #ff4f4f; text-transform: uppercase; font-size: 10px; font-family: sans-serif; border-left: 5px solid #ff4f4f;","padding: 5px; border-radius: 0 4px 4px 0; background-color: #08696b; color: #fff; text-transform: uppercase; font-size: 10px; font-family: sans-serif; font-weight: bold; text-shadow: 0 -1px 0 rgba(0, 0, 0, 0.3)","color: #FFF; font-family: sans-serif"),Object.assign(e,{error:t,token:null,order:null}),e._culqi()},tl=(e,t,o)=>{let{data:f}=o;if(!(f&&f._uniqueId!==e)){if(delete f._uniqueId,typeof f=="string")try{Object.assign(t,{error:JSON.parse(f)})}catch{switch(f){case"culqi_destroy_checkout":setTimeout(()=>{t.close()},500);break;case"checkout_cargando_recupera":Object.assign(t,{closeEvent:f,token:null,order:null}),t._culqi();break}}else if(typeof f.object=="string")switch(f.object){case"error":el(t,f);break;case"order":Object.assign(t,{order:f,error:null,token:null}),t._culqi(),t._methodActive();break;case"token":Object.assign(t,{order:null,error:null,token:f,methodValue:f.type}),t._culqi(),t._methodActive(),Culqi3DS._settings.card.email=f.email;break;case"paymentMethod":Object.assign(t,{methodValue:f.type}),t._methodActive();break;case"closeCheckout":Object.assign(t,{methodValue:f?.type,wasObjectCreated:f.wasObjectCreated}),Object.assign(t,{closeEvent:f,token:null,order:null}),t._closeCheckout(),t.close();break}}},nl=e=>{let t=document.createElement("style");t.type="text/css",t.innerHTML=`
    #${e} {
      width: 100%;
      height: 100%;
      z-index: 999999999999;
      position: fixed;
      top: 0;
      left: 0;
      background-color: rgba(0,0,0,0.62);
      border: 0px none transparent;
      margin: 0px;
    }
  `,document.head.appendChild(t)},lr=()=>{let{host:e,protocol:t}=window.location;return`${t}//${e}`},rl=e=>["culqi.com","cardinalcommerce.com"].some(t=>e.includes(t))?lr():null;var cr=(e=>(e.USD="USD",e.PEN="PEN",e))(cr||{}),ei=(e=>(e.TARJETA="tarjeta",e.YAPE="yape",e.CIP="cip",e.CUOTEALO="cuotealo",e.BILLETERA="billetera",e.BANCAMOVIL="bancaMovil",e.AGENTE="agente",e))(ei||{}),Wt=(e=>(e.ES="ES",e.EN="EN",e.PT="PT",e.DEFAULT="AUTO",e))(Wt||{}),bn=(e=>(e.LIVE="pk_live_",e.TEST="pk_test_",e))(bn||{}),ur=(e=>(e.LIVE="ord_live_",e.TEST="ord_test_",e))(ur||{}),ti=(e=>(e.ORDER="confirm_order",e.TOKEN="token",e.YAPE="yape",e))(ti||{});let fr={CUSTOM:4,CARD:3},sl="js_custom",il=["src"],ol=((e,t)=>{let o=e.__vccOpts||e;for(let[f,m]of t)o[f]=m;return o})(vo({__name:"App",props:{culqiInstance:{},uniqueId:{}},setup(e){let t=e,o=nn(""),f=nn(null),m=()=>{t.culqiInstance.isOpen&&(t.culqiInstance.urlParameters(),o.value=t.culqiInstance.getUrlParameters())},g=_=>_?JSON.parse(JSON.stringify(_)):void 0,h=()=>{let _=f.value;if(_){let d=_;d.addEventListener("load",()=>{let n={_settings:g(t.culqiInstance.getSettingsReal()),_options:g(t.culqiInstance.getOptions()),_publicKey:t.culqiInstance.getPublickey(),_client:g(t.culqiInstance.getClient()),_appearance:g(t.culqiInstance.getAppearance()),_uniqueId:t.uniqueId,_js_version_:sl};d.contentWindow.postMessage(n,"*"),d.contentWindow.postMessage({type:"handleModal",value:!0},"*")})}},i=_=>tl(t.uniqueId,t.culqiInstance,_);ts(()=>{window.addEventListener("message",i),m(),h()}),Kn(()=>{window.removeEventListener("message",i)});let b=Ns(()=>t.culqiInstance.isOpen);return(_,d)=>b.value?(ks(),aa("iframe",{key:0,ref_key:"checkoutIframe",ref:f,name:"checkout_frame",class:"culqi_checkout",allowtransparency:"true",src:o.value,allow:"clipboard-read; clipboard-write",style:{width:"100%",height:"100%",border:"none"}},null,8,il)):pa("",!0)}}),[["__scopeId","data-v-9a32aa2a"]]);function ni(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var ri={exports:{}},si;function al(){return si||(si=1,function(e,t){(function(o,f){e.exports=f()})(self,()=>{return o={7629:(m,g,h)=>{let i=h(375),b=h(8571),_=h(9474),d=h(1687),n=h(8652),l=h(8160),a=h(3292),s=h(6354),r=h(8901),p=h(9708),c=h(6914),u=h(2294),y=h(6133),w=h(1152),$=h(8863),O=h(2036),j={Base:class{constructor(v){this.type=v,this.$_root=null,this._definition={},this._reset()}_reset(){this._ids=new u.Ids,this._preferences=null,this._refs=new y.Manager,this._cache=null,this._valids=null,this._invalids=null,this._flags={},this._rules=[],this._singleRules=new Map,this.$_terms={},this.$_temp={ruleset:null,whens:{}}}describe(){return i(typeof p.describe=="function","Manifest functionality disabled"),p.describe(this)}allow(...v){return l.verifyFlat(v,"allow"),this._values(v,"_valids")}alter(v){i(v&&typeof v=="object"&&!Array.isArray(v),"Invalid targets argument"),i(!this._inRuleset(),"Cannot set alterations inside a ruleset");let x=this.clone();x.$_terms.alterations=x.$_terms.alterations||[];for(let S in v){let k=v[S];i(typeof k=="function","Alteration adjuster for",S,"must be a function"),x.$_terms.alterations.push({target:S,adjuster:k})}return x.$_temp.ruleset=!1,x}artifact(v){return i(v!==void 0,"Artifact cannot be undefined"),i(!this._cache,"Cannot set an artifact with a rule cache"),this.$_setFlag("artifact",v)}cast(v){return i(v===!1||typeof v=="string","Invalid to value"),i(v===!1||this._definition.cast[v],"Type",this.type,"does not support casting to",v),this.$_setFlag("cast",v===!1?void 0:v)}default(v,x){return this._default("default",v,x)}description(v){return i(v&&typeof v=="string","Description must be a non-empty string"),this.$_setFlag("description",v)}empty(v){let x=this.clone();return v!==void 0&&(v=x.$_compile(v,{override:!1})),x.$_setFlag("empty",v,{clone:!1})}error(v){return i(v,"Missing error"),i(v instanceof Error||typeof v=="function","Must provide a valid Error object or a function"),this.$_setFlag("error",v)}example(v,x={}){return i(v!==void 0,"Missing example"),l.assertOptions(x,["override"]),this._inner("examples",v,{single:!0,override:x.override})}external(v,x){return typeof v=="object"&&(i(!x,"Cannot combine options with description"),x=v.description,v=v.method),i(typeof v=="function","Method must be a function"),i(x===void 0||x&&typeof x=="string","Description must be a non-empty string"),this._inner("externals",{method:v,description:x},{single:!0})}failover(v,x){return this._default("failover",v,x)}forbidden(){return this.presence("forbidden")}id(v){return v?(i(typeof v=="string","id must be a non-empty string"),i(/^[^\.]+$/.test(v),"id cannot contain period character"),this.$_setFlag("id",v)):this.$_setFlag("id",void 0)}invalid(...v){return this._values(v,"_invalids")}label(v){return i(v&&typeof v=="string","Label name must be a non-empty string"),this.$_setFlag("label",v)}meta(v){return i(v!==void 0,"Meta cannot be undefined"),this._inner("metas",v,{single:!0})}note(...v){i(v.length,"Missing notes");for(let x of v)i(x&&typeof x=="string","Notes must be non-empty strings");return this._inner("notes",v)}only(v=!0){return i(typeof v=="boolean","Invalid mode:",v),this.$_setFlag("only",v)}optional(){return this.presence("optional")}prefs(v){i(v,"Missing preferences"),i(v.context===void 0,"Cannot override context"),i(v.externals===void 0,"Cannot override externals"),i(v.warnings===void 0,"Cannot override warnings"),i(v.debug===void 0,"Cannot override debug"),l.checkPreferences(v);let x=this.clone();return x._preferences=l.preferences(x._preferences,v),x}presence(v){return i(["optional","required","forbidden"].includes(v),"Unknown presence mode",v),this.$_setFlag("presence",v)}raw(v=!0){return this.$_setFlag("result",v?"raw":void 0)}result(v){return i(["raw","strip"].includes(v),"Unknown result mode",v),this.$_setFlag("result",v)}required(){return this.presence("required")}strict(v){let x=this.clone(),S=v!==void 0&&!v;return x._preferences=l.preferences(x._preferences,{convert:S}),x}strip(v=!0){return this.$_setFlag("result",v?"strip":void 0)}tag(...v){i(v.length,"Missing tags");for(let x of v)i(x&&typeof x=="string","Tags must be non-empty strings");return this._inner("tags",v)}unit(v){return i(v&&typeof v=="string","Unit name must be a non-empty string"),this.$_setFlag("unit",v)}valid(...v){l.verifyFlat(v,"valid");let x=this.allow(...v);return x.$_setFlag("only",!!x._valids,{clone:!1}),x}when(v,x){let S=this.clone();S.$_terms.whens||(S.$_terms.whens=[]);let k=a.when(S,v,x);if(!["any","link"].includes(S.type)){let T=k.is?[k]:k.switch;for(let E of T)i(!E.then||E.then.type==="any"||E.then.type===S.type,"Cannot combine",S.type,"with",E.then&&E.then.type),i(!E.otherwise||E.otherwise.type==="any"||E.otherwise.type===S.type,"Cannot combine",S.type,"with",E.otherwise&&E.otherwise.type)}return S.$_terms.whens.push(k),S.$_mutateRebuild()}cache(v){i(!this._inRuleset(),"Cannot set caching inside a ruleset"),i(!this._cache,"Cannot override schema cache"),i(this._flags.artifact===void 0,"Cannot cache a rule with an artifact");let x=this.clone();return x._cache=v||n.provider.provision(),x.$_temp.ruleset=!1,x}clone(){let v=Object.create(Object.getPrototypeOf(this));return this._assign(v)}concat(v){i(l.isSchema(v),"Invalid schema object"),i(this.type==="any"||v.type==="any"||v.type===this.type,"Cannot merge type",this.type,"with another type:",v.type),i(!this._inRuleset(),"Cannot concatenate onto a schema with open ruleset"),i(!v._inRuleset(),"Cannot concatenate a schema with open ruleset");let x=this.clone();if(this.type==="any"&&v.type!=="any"){let S=v.clone();for(let k of Object.keys(x))k!=="type"&&(S[k]=x[k]);x=S}x._ids.concat(v._ids),x._refs.register(v,y.toSibling),x._preferences=x._preferences?l.preferences(x._preferences,v._preferences):v._preferences,x._valids=O.merge(x._valids,v._valids,v._invalids),x._invalids=O.merge(x._invalids,v._invalids,v._valids);for(let S of v._singleRules.keys())x._singleRules.has(S)&&(x._rules=x._rules.filter(k=>k.keep||k.name!==S),x._singleRules.delete(S));for(let S of v._rules)v._definition.rules[S.method].multi||x._singleRules.set(S.name,S),x._rules.push(S);if(x._flags.empty&&v._flags.empty){x._flags.empty=x._flags.empty.concat(v._flags.empty);let S=Object.assign({},v._flags);delete S.empty,d(x._flags,S)}else if(v._flags.empty){x._flags.empty=v._flags.empty;let S=Object.assign({},v._flags);delete S.empty,d(x._flags,S)}else d(x._flags,v._flags);for(let S in v.$_terms){let k=v.$_terms[S];k?x.$_terms[S]?x.$_terms[S]=x.$_terms[S].concat(k):x.$_terms[S]=k.slice():x.$_terms[S]||(x.$_terms[S]=k)}return this.$_root._tracer&&this.$_root._tracer._combine(x,[this,v]),x.$_mutateRebuild()}extend(v){return i(!v.base,"Cannot extend type with another base"),r.type(this,v)}extract(v){return v=Array.isArray(v)?v:v.split("."),this._ids.reach(v)}fork(v,x){i(!this._inRuleset(),"Cannot fork inside a ruleset");let S=this;for(let k of[].concat(v))k=Array.isArray(k)?k:k.split("."),S=S._ids.fork(k,x,S);return S.$_temp.ruleset=!1,S}rule(v){let x=this._definition;l.assertOptions(v,Object.keys(x.modifiers)),i(this.$_temp.ruleset!==!1,"Cannot apply rules to empty ruleset or the last rule added does not support rule properties");let S=this.$_temp.ruleset===null?this._rules.length-1:this.$_temp.ruleset;i(S>=0&&S<this._rules.length,"Cannot apply rules to empty ruleset");let k=this.clone();for(let T=S;T<k._rules.length;++T){let E=k._rules[T],W=b(E);for(let R in v)x.modifiers[R](W,v[R]),i(W.name===E.name,"Cannot change rule name");k._rules[T]=W,k._singleRules.get(W.name)===E&&k._singleRules.set(W.name,W)}return k.$_temp.ruleset=!1,k.$_mutateRebuild()}get ruleset(){i(!this._inRuleset(),"Cannot start a new ruleset without closing the previous one");let v=this.clone();return v.$_temp.ruleset=v._rules.length,v}get $(){return this.ruleset}tailor(v){v=[].concat(v),i(!this._inRuleset(),"Cannot tailor inside a ruleset");let x=this;if(this.$_terms.alterations)for(let{target:S,adjuster:k}of this.$_terms.alterations)v.includes(S)&&(x=k(x),i(l.isSchema(x),"Alteration adjuster for",S,"failed to return a schema object"));return x=x.$_modify({each:S=>S.tailor(v),ref:!1}),x.$_temp.ruleset=!1,x.$_mutateRebuild()}tracer(){return w.location?w.location(this):this}validate(v,x){return $.entry(v,this,x)}validateAsync(v,x){return $.entryAsync(v,this,x)}$_addRule(v){typeof v=="string"&&(v={name:v}),i(v&&typeof v=="object","Invalid options"),i(v.name&&typeof v.name=="string","Invalid rule name");for(let E in v)i(E[0]!=="_","Cannot set private rule properties");let x=Object.assign({},v);x._resolve=[],x.method=x.method||x.name;let S=this._definition.rules[x.method],k=x.args;i(S,"Unknown rule",x.method);let T=this.clone();if(k){i(Object.keys(k).length===1||Object.keys(k).length===this._definition.rules[x.name].args.length,"Invalid rule definition for",this.type,x.name);for(let E in k){let W=k[E];if(S.argsByName){let R=S.argsByName.get(E);if(R.ref&&l.isResolvable(W))x._resolve.push(E),T.$_mutateRegister(W);else if(R.normalize&&(W=R.normalize(W),k[E]=W),R.assert){let I=l.validateArg(W,E,R);i(!I,I,"or reference")}}W!==void 0?k[E]=W:delete k[E]}}return S.multi||(T._ruleRemove(x.name,{clone:!1}),T._singleRules.set(x.name,x)),T.$_temp.ruleset===!1&&(T.$_temp.ruleset=null),S.priority?T._rules.unshift(x):T._rules.push(x),T}$_compile(v,x){return a.schema(this.$_root,v,x)}$_createError(v,x,S,k,T,E={}){let W=E.flags!==!1?this._flags:{},R=E.messages?c.merge(this._definition.messages,E.messages):this._definition.messages;return new s.Report(v,x,S,W,R,k,T)}$_getFlag(v){return this._flags[v]}$_getRule(v){return this._singleRules.get(v)}$_mapLabels(v){return v=Array.isArray(v)?v:v.split("."),this._ids.labels(v)}$_match(v,x,S,k){(S=Object.assign({},S)).abortEarly=!0,S._externals=!1,x.snapshot();let T=!$.validate(v,this,x,S,k).errors;return x.restore(),T}$_modify(v){return l.assertOptions(v,["each","once","ref","schema"]),u.schema(this,v)||this}$_mutateRebuild(){return i(!this._inRuleset(),"Cannot add this rule inside a ruleset"),this._refs.reset(),this._ids.reset(),this.$_modify({each:(v,{source:x,name:S,path:k,key:T})=>{let E=this._definition[x][S]&&this._definition[x][S].register;E!==!1&&this.$_mutateRegister(v,{family:E,key:T})}}),this._definition.rebuild&&this._definition.rebuild(this),this.$_temp.ruleset=!1,this}$_mutateRegister(v,{family:x,key:S}={}){this._refs.register(v,x),this._ids.register(v,{key:S})}$_property(v){return this._definition.properties[v]}$_reach(v){return this._ids.reach(v)}$_rootReferences(){return this._refs.roots()}$_setFlag(v,x,S={}){i(v[0]==="_"||!this._inRuleset(),"Cannot set flag inside a ruleset");let k=this._definition.flags[v]||{};if(_(x,k.default)&&(x=void 0),_(x,this._flags[v]))return this;let T=S.clone!==!1?this.clone():this;return x!==void 0?(T._flags[v]=x,T.$_mutateRegister(x)):delete T._flags[v],v[0]!=="_"&&(T.$_temp.ruleset=!1),T}$_parent(v,...x){return this[v][l.symbols.parent].call(this,...x)}$_validate(v,x,S){return $.validate(v,this,x,S)}_assign(v){v.type=this.type,v.$_root=this.$_root,v.$_temp=Object.assign({},this.$_temp),v.$_temp.whens={},v._ids=this._ids.clone(),v._preferences=this._preferences,v._valids=this._valids&&this._valids.clone(),v._invalids=this._invalids&&this._invalids.clone(),v._rules=this._rules.slice(),v._singleRules=b(this._singleRules,{shallow:!0}),v._refs=this._refs.clone(),v._flags=Object.assign({},this._flags),v._cache=null,v.$_terms={};for(let x in this.$_terms)v.$_terms[x]=this.$_terms[x]?this.$_terms[x].slice():null;v.$_super={};for(let x in this.$_super)v.$_super[x]=this._super[x].bind(v);return v}_bare(){let v=this.clone();v._reset();let x=v._definition.terms;for(let S in x){let k=x[S];v.$_terms[S]=k.init}return v.$_mutateRebuild()}_default(v,x,S={}){return l.assertOptions(S,"literal"),i(x!==void 0,"Missing",v,"value"),i(typeof x=="function"||!S.literal,"Only function value supports literal option"),typeof x=="function"&&S.literal&&(x={[l.symbols.literal]:!0,literal:x}),this.$_setFlag(v,x)}_generate(v,x,S){if(!this.$_terms.whens)return{schema:this};let k=[],T=[];for(let R=0;R<this.$_terms.whens.length;++R){let I=this.$_terms.whens[R];if(I.concat){k.push(I.concat),T.push(`${R}.concat`);continue}let P=I.ref?I.ref.resolve(v,x,S):v,B=I.is?[I]:I.switch,Q=T.length;for(let J=0;J<B.length;++J){let{is:Y,then:te,otherwise:ie}=B[J],K=`${R}${I.switch?"."+J:""}`;if(Y.$_match(P,x.nest(Y,`${K}.is`),S)){if(te){let me=x.localize([...x.path,`${K}.then`],x.ancestors,x.schemas),{schema:$e,id:Ee}=te._generate(v,me,S);k.push($e),T.push(`${K}.then${Ee?`(${Ee})`:""}`);break}}else if(ie){let me=x.localize([...x.path,`${K}.otherwise`],x.ancestors,x.schemas),{schema:$e,id:Ee}=ie._generate(v,me,S);k.push($e),T.push(`${K}.otherwise${Ee?`(${Ee})`:""}`);break}}if(I.break&&T.length>Q)break}let E=T.join(", ");if(x.mainstay.tracer.debug(x,"rule","when",E),!E)return{schema:this};if(!x.mainstay.tracer.active&&this.$_temp.whens[E])return{schema:this.$_temp.whens[E],id:E};let W=this;this._definition.generate&&(W=this._definition.generate(this,v,x,S));for(let R of k)W=W.concat(R);return this.$_root._tracer&&this.$_root._tracer._combine(W,[this,...k]),this.$_temp.whens[E]=W,{schema:W,id:E}}_inner(v,x,S={}){i(!this._inRuleset(),`Cannot set ${v} inside a ruleset`);let k=this.clone();return k.$_terms[v]&&!S.override||(k.$_terms[v]=[]),S.single?k.$_terms[v].push(x):k.$_terms[v].push(...x),k.$_temp.ruleset=!1,k}_inRuleset(){return this.$_temp.ruleset!==null&&this.$_temp.ruleset!==!1}_ruleRemove(v,x={}){if(!this._singleRules.has(v))return this;let S=x.clone!==!1?this.clone():this;S._singleRules.delete(v);let k=[];for(let T=0;T<S._rules.length;++T){let E=S._rules[T];E.name!==v||E.keep?k.push(E):S._inRuleset()&&T<S.$_temp.ruleset&&--S.$_temp.ruleset}return S._rules=k,S}_values(v,x){l.verifyFlat(v,x.slice(1,-1));let S=this.clone(),k=v[0]===l.symbols.override;if(k&&(v=v.slice(1)),!S[x]&&v.length?S[x]=new O:k&&(S[x]=v.length?new O:null,S.$_mutateRebuild()),!S[x])return S;k&&S[x].override();for(let T of v){i(T!==void 0,"Cannot call allow/valid/invalid with undefined"),i(T!==l.symbols.override,"Override must be the first value");let E=x==="_invalids"?"_valids":"_invalids";S[E]&&(S[E].remove(T),S[E].length||(i(x==="_valids"||!S._flags.only,"Setting invalid value",T,"leaves schema rejecting all values due to previous valid rule"),S[E]=null)),S[x].add(T,S._refs)}return S}}};j.Base.prototype[l.symbols.any]={version:l.version,compile:a.compile,root:"$_root"},j.Base.prototype.isImmutable=!0,j.Base.prototype.deny=j.Base.prototype.invalid,j.Base.prototype.disallow=j.Base.prototype.invalid,j.Base.prototype.equal=j.Base.prototype.valid,j.Base.prototype.exist=j.Base.prototype.required,j.Base.prototype.not=j.Base.prototype.invalid,j.Base.prototype.options=j.Base.prototype.prefs,j.Base.prototype.preferences=j.Base.prototype.prefs,m.exports=new j.Base},8652:(m,g,h)=>{let i=h(375),b=h(8571),_=h(8160),d={max:1e3,supported:new Set(["undefined","boolean","number","string"])};g.provider={provision:n=>new d.Cache(n)},d.Cache=class{constructor(n={}){_.assertOptions(n,["max"]),i(n.max===void 0||n.max&&n.max>0&&isFinite(n.max),"Invalid max cache size"),this._max=n.max||d.max,this._map=new Map,this._list=new d.List}get length(){return this._map.size}set(n,l){if(n!==null&&!d.supported.has(typeof n))return;let a=this._map.get(n);if(a)return a.value=l,void this._list.first(a);a=this._list.unshift({key:n,value:l}),this._map.set(n,a),this._compact()}get(n){let l=this._map.get(n);if(l)return this._list.first(l),b(l.value)}_compact(){if(this._map.size>this._max){let n=this._list.pop();this._map.delete(n.key)}}},d.List=class{constructor(){this.tail=null,this.head=null}unshift(n){return n.next=null,n.prev=this.head,this.head&&(this.head.next=n),this.head=n,this.tail||(this.tail=n),n}first(n){n!==this.head&&(this._remove(n),this.unshift(n))}pop(){return this._remove(this.tail)}_remove(n){let{next:l,prev:a}=n;return l.prev=a,a&&(a.next=l),n===this.tail&&(this.tail=l),n.prev=null,n.next=null,n}}},8160:(m,g,h)=>{let i=h(375),b=h(7916),_=h(5934),d,n,l={isoDate:/^(?:[-+]\d{2})?(?:\d{4}(?!\d{2}\b))(?:(-?)(?:(?:0[1-9]|1[0-2])(?:\1(?:[12]\d|0[1-9]|3[01]))?|W(?:[0-4]\d|5[0-2])(?:-?[1-7])?|(?:00[1-9]|0[1-9]\d|[12]\d{2}|3(?:[0-5]\d|6[1-6])))(?![T]$|[T][\d]+Z$)(?:[T\s](?:(?:(?:[01]\d|2[0-3])(?:(:?)[0-5]\d)?|24\:?00)(?:[.,]\d+(?!:))?)(?:\2[0-5]\d(?:[.,]\d+)?)?(?:[Z]|(?:[+-])(?:[01]\d|2[0-3])(?::?[0-5]\d)?)?)?)?$/};g.version=_.version,g.defaults={abortEarly:!0,allowUnknown:!1,artifacts:!1,cache:!0,context:null,convert:!0,dateFormat:"iso",errors:{escapeHtml:!1,label:"path",language:null,render:!0,stack:!1,wrap:{label:'"',array:"[]"}},externals:!0,messages:{},nonEnumerables:!1,noDefaults:!1,presence:"optional",skipFunctions:!1,stripUnknown:!1,warnings:!1},g.symbols={any:Symbol.for("@hapi/joi/schema"),arraySingle:Symbol("arraySingle"),deepDefault:Symbol("deepDefault"),errors:Symbol("errors"),literal:Symbol("literal"),override:Symbol("override"),parent:Symbol("parent"),prefs:Symbol("prefs"),ref:Symbol("ref"),template:Symbol("template"),values:Symbol("values")},g.assertOptions=function(a,s,r="Options"){i(a&&typeof a=="object"&&!Array.isArray(a),"Options must be of type object");let p=Object.keys(a).filter(c=>!s.includes(c));i(p.length===0,`${r} contain unknown keys: ${p}`)},g.checkPreferences=function(a){n=n||h(3378);let s=n.preferences.validate(a);if(s.error)throw new b([s.error.details[0].message])},g.compare=function(a,s,r){switch(r){case"=":return a===s;case">":return a>s;case"<":return a<s;case">=":return a>=s;case"<=":return a<=s}},g.default=function(a,s){return a===void 0?s:a},g.isIsoDate=function(a){return l.isoDate.test(a)},g.isNumber=function(a){return typeof a=="number"&&!isNaN(a)},g.isResolvable=function(a){return!!a&&(a[g.symbols.ref]||a[g.symbols.template])},g.isSchema=function(a,s={}){let r=a&&a[g.symbols.any];return!!r&&(i(s.legacy||r.version===g.version,"Cannot mix different versions of joi schemas"),!0)},g.isValues=function(a){return a[g.symbols.values]},g.limit=function(a){return Number.isSafeInteger(a)&&a>=0},g.preferences=function(a,s){d=d||h(6914),a=a||{},s=s||{};let r=Object.assign({},a,s);return s.errors&&a.errors&&(r.errors=Object.assign({},a.errors,s.errors),r.errors.wrap=Object.assign({},a.errors.wrap,s.errors.wrap)),s.messages&&(r.messages=d.compile(s.messages,a.messages)),delete r[g.symbols.prefs],r},g.tryWithPath=function(a,s,r={}){try{return a()}catch(p){throw p.path!==void 0?p.path=s+"."+p.path:p.path=s,r.append&&(p.message=`${p.message} (${p.path})`),p}},g.validateArg=function(a,s,{assert:r,message:p}){if(g.isSchema(r)){let c=r.validate(a);return c.error?c.error.message:void 0}if(!r(a))return s?`${s} ${p}`:p},g.verifyFlat=function(a,s){for(let r of a)i(!Array.isArray(r),"Method no longer accepts array arguments:",s)}},3292:(m,g,h)=>{let i=h(375),b=h(8160),_=h(6133),d={};g.schema=function(n,l,a={}){b.assertOptions(a,["appendPath","override"]);try{return d.schema(n,l,a)}catch(s){throw a.appendPath&&s.path!==void 0&&(s.message=`${s.message} (${s.path})`),s}},d.schema=function(n,l,a){i(l!==void 0,"Invalid undefined schema"),Array.isArray(l)&&(i(l.length,"Invalid empty array schema"),l.length===1&&(l=l[0]));let s=(r,...p)=>a.override!==!1?r.valid(n.override,...p):r.valid(...p);if(d.simple(l))return s(n,l);if(typeof l=="function")return n.custom(l);if(i(typeof l=="object","Invalid schema content:",typeof l),b.isResolvable(l))return s(n,l);if(b.isSchema(l))return l;if(Array.isArray(l)){for(let r of l)if(!d.simple(r))return n.alternatives().try(...l);return s(n,...l)}return l instanceof RegExp?n.string().regex(l):l instanceof Date?s(n.date(),l):(i(Object.getPrototypeOf(l)===Object.getPrototypeOf({}),"Schema can only contain plain objects"),n.object().keys(l))},g.ref=function(n,l){return _.isRef(n)?n:_.create(n,l)},g.compile=function(n,l,a={}){b.assertOptions(a,["legacy"]);let s=l&&l[b.symbols.any];if(s)return i(a.legacy||s.version===b.version,"Cannot mix different versions of joi schemas:",s.version,b.version),l;if(typeof l!="object"||!a.legacy)return g.schema(n,l,{appendPath:!0});let r=d.walk(l);return r?r.compile(r.root,l):g.schema(n,l,{appendPath:!0})},d.walk=function(n){if(typeof n!="object")return null;if(Array.isArray(n)){for(let a of n){let s=d.walk(a);if(s)return s}return null}let l=n[b.symbols.any];if(l)return{root:n[l.root],compile:l.compile};i(Object.getPrototypeOf(n)===Object.getPrototypeOf({}),"Schema can only contain plain objects");for(let a in n){let s=d.walk(n[a]);if(s)return s}return null},d.simple=function(n){return n===null||["boolean","string","number"].includes(typeof n)},g.when=function(n,l,a){if(a===void 0&&(i(l&&typeof l=="object","Missing options"),a=l,l=_.create(".")),Array.isArray(a)&&(a={switch:a}),b.assertOptions(a,["is","not","then","otherwise","switch","break"]),b.isSchema(l))return i(a.is===void 0,'"is" can not be used with a schema condition'),i(a.not===void 0,'"not" can not be used with a schema condition'),i(a.switch===void 0,'"switch" can not be used with a schema condition'),d.condition(n,{is:l,then:a.then,otherwise:a.otherwise,break:a.break});if(i(_.isRef(l)||typeof l=="string","Invalid condition:",l),i(a.not===void 0||a.is===void 0,'Cannot combine "is" with "not"'),a.switch===void 0){let r=a;a.not!==void 0&&(r={is:a.not,then:a.otherwise,otherwise:a.then,break:a.break});let p=r.is!==void 0?n.$_compile(r.is):n.$_root.invalid(null,!1,0,"").required();return i(r.then!==void 0||r.otherwise!==void 0,'options must have at least one of "then", "otherwise", or "switch"'),i(r.break===void 0||r.then===void 0||r.otherwise===void 0,"Cannot specify then, otherwise, and break all together"),a.is===void 0||_.isRef(a.is)||b.isSchema(a.is)||(p=p.required()),d.condition(n,{ref:g.ref(l),is:p,then:r.then,otherwise:r.otherwise,break:r.break})}i(Array.isArray(a.switch),'"switch" must be an array'),i(a.is===void 0,'Cannot combine "switch" with "is"'),i(a.not===void 0,'Cannot combine "switch" with "not"'),i(a.then===void 0,'Cannot combine "switch" with "then"');let s={ref:g.ref(l),switch:[],break:a.break};for(let r=0;r<a.switch.length;++r){let p=a.switch[r],c=r===a.switch.length-1;b.assertOptions(p,c?["is","then","otherwise"]:["is","then"]),i(p.is!==void 0,'Switch statement missing "is"'),i(p.then!==void 0,'Switch statement missing "then"');let u={is:n.$_compile(p.is),then:n.$_compile(p.then)};if(_.isRef(p.is)||b.isSchema(p.is)||(u.is=u.is.required()),c){i(a.otherwise===void 0||p.otherwise===void 0,'Cannot specify "otherwise" inside and outside a "switch"');let y=a.otherwise!==void 0?a.otherwise:p.otherwise;y!==void 0&&(i(s.break===void 0,"Cannot specify both otherwise and break"),u.otherwise=n.$_compile(y))}s.switch.push(u)}return s},d.condition=function(n,l){for(let a of["then","otherwise"])l[a]===void 0?delete l[a]:l[a]=n.$_compile(l[a]);return l}},6354:(m,g,h)=>{let i=h(5688),b=h(8160),_=h(3328);g.Report=class{constructor(d,n,l,a,s,r,p){if(this.code=d,this.flags=a,this.messages=s,this.path=r.path,this.prefs=p,this.state=r,this.value=n,this.message=null,this.template=null,this.local=l||{},this.local.label=g.label(this.flags,this.state,this.prefs,this.messages),this.value===void 0||this.local.hasOwnProperty("value")||(this.local.value=this.value),this.path.length){let c=this.path[this.path.length-1];typeof c!="object"&&(this.local.key=c)}}_setTemplate(d){if(this.template=d,!this.flags.label&&this.path.length===0){let n=this._template(this.template,"root");n&&(this.local.label=n)}}toString(){if(this.message)return this.message;let d=this.code;if(!this.prefs.errors.render)return this.code;let n=this._template(this.template)||this._template(this.prefs.messages)||this._template(this.messages);return n===void 0?`Error code "${d}" is not defined, your custom type is missing the correct messages definition`:(this.message=n.render(this.value,this.state,this.prefs,this.local,{errors:this.prefs.errors,messages:[this.prefs.messages,this.messages]}),this.prefs.errors.label||(this.message=this.message.replace(/^"" /,"").trim()),this.message)}_template(d,n){return g.template(this.value,d,n||this.code,this.state,this.prefs)}},g.path=function(d){let n="";for(let l of d)typeof l!="object"&&(typeof l=="string"?(n&&(n+="."),n+=l):n+=`[${l}]`);return n},g.template=function(d,n,l,a,s){if(!n)return;if(_.isTemplate(n))return l!=="root"?n:null;let r=s.errors.language;if(b.isResolvable(r)&&(r=r.resolve(d,a,s)),r&&n[r]){if(n[r][l]!==void 0)return n[r][l];if(n[r]["*"]!==void 0)return n[r]["*"]}return n[l]?n[l]:n["*"]},g.label=function(d,n,l,a){if(!l.errors.label)return"";if(d.label)return d.label;let s=n.path;return l.errors.label==="key"&&n.path.length>1&&(s=n.path.slice(-1)),g.path(s)||g.template(null,l.messages,"root",n,l)||a&&g.template(null,a,"root",n,l)||"value"},g.process=function(d,n,l){if(!d)return null;let{override:a,message:s,details:r}=g.details(d);if(a)return a;if(l.errors.stack)return new g.ValidationError(s,r,n);let p=Error.stackTraceLimit;Error.stackTraceLimit=0;let c=new g.ValidationError(s,r,n);return Error.stackTraceLimit=p,c},g.details=function(d,n={}){let l=[],a=[];for(let s of d){if(s instanceof Error){if(n.override!==!1)return{override:s};let p=s.toString();l.push(p),a.push({message:p,type:"override",context:{error:s}});continue}let r=s.toString();l.push(r),a.push({message:r,path:s.path.filter(p=>typeof p!="object"),type:s.code,context:s.local})}return l.length>1&&(l=[...new Set(l)]),{message:l.join(". "),details:a}},g.ValidationError=class extends Error{constructor(d,n,l){super(d),this._original=l,this.details=n}static isError(d){return d instanceof g.ValidationError}},g.ValidationError.prototype.isJoi=!0,g.ValidationError.prototype.name="ValidationError",g.ValidationError.prototype.annotate=i.error},8901:(m,g,h)=>{let i=h(375),b=h(8571),_=h(8160),d=h(6914),n={};g.type=function(l,a){let s=Object.getPrototypeOf(l),r=b(s),p=l._assign(Object.create(r)),c=Object.assign({},a);delete c.base,r._definition=c;let u=s._definition||{};c.messages=d.merge(u.messages,c.messages),c.properties=Object.assign({},u.properties,c.properties),p.type=c.type,c.flags=Object.assign({},u.flags,c.flags);let y=Object.assign({},u.terms);if(c.terms)for(let j in c.terms){let v=c.terms[j];i(p.$_terms[j]===void 0,"Invalid term override for",c.type,j),p.$_terms[j]=v.init,y[j]=v}c.terms=y,c.args||(c.args=u.args),c.prepare=n.prepare(c.prepare,u.prepare),c.coerce&&(typeof c.coerce=="function"&&(c.coerce={method:c.coerce}),c.coerce.from&&!Array.isArray(c.coerce.from)&&(c.coerce={method:c.coerce.method,from:[].concat(c.coerce.from)})),c.coerce=n.coerce(c.coerce,u.coerce),c.validate=n.validate(c.validate,u.validate);let w=Object.assign({},u.rules);if(c.rules)for(let j in c.rules){let v=c.rules[j];i(typeof v=="object","Invalid rule definition for",c.type,j);let x=v.method;if(x===void 0&&(x=function(){return this.$_addRule(j)}),x&&(i(!r[j],"Rule conflict in",c.type,j),r[j]=x),i(!w[j],"Rule conflict in",c.type,j),w[j]=v,v.alias){let S=[].concat(v.alias);for(let k of S)r[k]=v.method}v.args&&(v.argsByName=new Map,v.args=v.args.map(S=>(typeof S=="string"&&(S={name:S}),i(!v.argsByName.has(S.name),"Duplicated argument name",S.name),_.isSchema(S.assert)&&(S.assert=S.assert.strict().label(S.name)),v.argsByName.set(S.name,S),S)))}c.rules=w;let $=Object.assign({},u.modifiers);if(c.modifiers)for(let j in c.modifiers){i(!r[j],"Rule conflict in",c.type,j);let v=c.modifiers[j];i(typeof v=="function","Invalid modifier definition for",c.type,j);let x=function(S){return this.rule({[j]:S})};r[j]=x,$[j]=v}if(c.modifiers=$,c.overrides){r._super=s,p.$_super={};for(let j in c.overrides)i(s[j],"Cannot override missing",j),c.overrides[j][_.symbols.parent]=s[j],p.$_super[j]=s[j].bind(p);Object.assign(r,c.overrides)}c.cast=Object.assign({},u.cast,c.cast);let O=Object.assign({},u.manifest,c.manifest);return O.build=n.build(c.manifest&&c.manifest.build,u.manifest&&u.manifest.build),c.manifest=O,c.rebuild=n.rebuild(c.rebuild,u.rebuild),p},n.build=function(l,a){return l&&a?function(s,r){return a(l(s,r),r)}:l||a},n.coerce=function(l,a){return l&&a?{from:l.from&&a.from?[...new Set([...l.from,...a.from])]:null,method(s,r){let p;if((!a.from||a.from.includes(typeof s))&&(p=a.method(s,r),p)){if(p.errors||p.value===void 0)return p;s=p.value}if(!l.from||l.from.includes(typeof s)){let c=l.method(s,r);if(c)return c}return p}}:l||a},n.prepare=function(l,a){return l&&a?function(s,r){let p=l(s,r);if(p){if(p.errors||p.value===void 0)return p;s=p.value}return a(s,r)||p}:l||a},n.rebuild=function(l,a){return l&&a?function(s){a(s),l(s)}:l||a},n.validate=function(l,a){return l&&a?function(s,r){let p=a(s,r);if(p){if(p.errors&&(!Array.isArray(p.errors)||p.errors.length))return p;s=p.value}return l(s,r)||p}:l||a}},5107:(m,g,h)=>{let i=h(375),b=h(8571),_=h(8652),d=h(8160),n=h(3292),l=h(6354),a=h(8901),s=h(9708),r=h(6133),p=h(3328),c=h(1152),u,y={types:{alternatives:h(4946),any:h(8068),array:h(546),boolean:h(4937),date:h(7500),function:h(390),link:h(8785),number:h(3832),object:h(8966),string:h(7417),symbol:h(8826)},aliases:{alt:"alternatives",bool:"boolean",func:"function"},root:function(){let w={_types:new Set(Object.keys(y.types))};for(let $ of w._types)w[$]=function(...O){return i(!O.length||["alternatives","link","object"].includes($),"The",$,"type does not allow arguments"),y.generate(this,y.types[$],O)};for(let $ of["allow","custom","disallow","equal","exist","forbidden","invalid","not","only","optional","options","prefs","preferences","required","strip","valid","when"])w[$]=function(...O){return this.any()[$](...O)};Object.assign(w,y.methods);for(let $ in y.aliases){let O=y.aliases[$];w[$]=w[O]}return w.x=w.expression,c.setup&&c.setup(w),w}};y.methods={ValidationError:l.ValidationError,version:d.version,cache:_.provider,assert(w,$,...O){y.assert(w,$,!0,O)},attempt:(w,$,...O)=>y.assert(w,$,!1,O),build(w){return i(typeof s.build=="function","Manifest functionality disabled"),s.build(this,w)},checkPreferences(w){d.checkPreferences(w)},compile(w,$){return n.compile(this,w,$)},defaults(w){i(typeof w=="function","modifier must be a function");let $=Object.assign({},this);for(let O of $._types){let j=w($[O]());i(d.isSchema(j),"modifier must return a valid schema object"),$[O]=function(...v){return y.generate(this,j,v)}}return $},expression:(...w)=>new p(...w),extend(...w){d.verifyFlat(w,"extend"),u=u||h(3378),i(w.length,"You need to provide at least one extension"),this.assert(w,u.extensions);let $=Object.assign({},this);$._types=new Set($._types);for(let O of w){typeof O=="function"&&(O=O($)),this.assert(O,u.extension);let j=y.expandExtension(O,$);for(let v of j){i($[v.type]===void 0||$._types.has(v.type),"Cannot override name",v.type);let x=v.base||this.any(),S=a.type(x,v);$._types.add(v.type),$[v.type]=function(...k){return y.generate(this,S,k)}}}return $},isError:l.ValidationError.isError,isExpression:p.isTemplate,isRef:r.isRef,isSchema:d.isSchema,in:(...w)=>r.in(...w),override:d.symbols.override,ref:(...w)=>r.create(...w),types(){let w={};for(let $ of this._types)w[$]=this[$]();for(let $ in y.aliases)w[$]=this[$]();return w}},y.assert=function(w,$,O,j){let v=j[0]instanceof Error||typeof j[0]=="string"?j[0]:null,x=v!==null?j[1]:j[0],S=$.validate(w,d.preferences({errors:{stack:!0}},x||{})),k=S.error;if(!k)return S.value;if(v instanceof Error)throw v;let T=O&&typeof k.annotate=="function"?k.annotate():k.message;throw k instanceof l.ValidationError==0&&(k=b(k)),k.message=v?`${v} ${T}`:T,k},y.generate=function(w,$,O){return i(w,"Must be invoked on a Joi instance."),$.$_root=w,$._definition.args&&O.length?$._definition.args($,...O):$},y.expandExtension=function(w,$){if(typeof w.type=="string")return[w];let O=[];for(let j of $._types)if(w.type.test(j)){let v=Object.assign({},w);v.type=j,v.base=$[j](),O.push(v)}return O},m.exports=y.root()},6914:(m,g,h)=>{let i=h(375),b=h(8571),_=h(3328);g.compile=function(d,n){if(typeof d=="string")return i(!n,"Cannot set single message string"),new _(d);if(_.isTemplate(d))return i(!n,"Cannot set single message template"),d;i(typeof d=="object"&&!Array.isArray(d),"Invalid message options"),n=n?b(n):{};for(let l in d){let a=d[l];if(l==="root"||_.isTemplate(a)){n[l]=a;continue}if(typeof a=="string"){n[l]=new _(a);continue}i(typeof a=="object"&&!Array.isArray(a),"Invalid message for",l);let s=l;for(l in n[s]=n[s]||{},a){let r=a[l];l==="root"||_.isTemplate(r)?n[s][l]=r:(i(typeof r=="string","Invalid message for",l,"in",s),n[s][l]=new _(r))}}return n},g.decompile=function(d){let n={};for(let l in d){let a=d[l];if(l==="root"){n.root=a;continue}if(_.isTemplate(a)){n[l]=a.describe({compact:!0});continue}let s=l;for(l in n[s]={},a){let r=a[l];l!=="root"?n[s][l]=r.describe({compact:!0}):n[s].root=r}}return n},g.merge=function(d,n){if(!d)return g.compile(n);if(!n)return d;if(typeof n=="string")return new _(n);if(_.isTemplate(n))return n;let l=b(d);for(let a in n){let s=n[a];if(a==="root"||_.isTemplate(s)){l[a]=s;continue}if(typeof s=="string"){l[a]=new _(s);continue}i(typeof s=="object"&&!Array.isArray(s),"Invalid message for",a);let r=a;for(a in l[r]=l[r]||{},s){let p=s[a];a==="root"||_.isTemplate(p)?l[r][a]=p:(i(typeof p=="string","Invalid message for",a,"in",r),l[r][a]=new _(p))}}return l}},2294:(m,g,h)=>{let i=h(375),b=h(8160),_=h(6133),d={};g.Ids=d.Ids=class{constructor(){this._byId=new Map,this._byKey=new Map,this._schemaChain=!1}clone(){let n=new d.Ids;return n._byId=new Map(this._byId),n._byKey=new Map(this._byKey),n._schemaChain=this._schemaChain,n}concat(n){n._schemaChain&&(this._schemaChain=!0);for(let[l,a]of n._byId.entries())i(!this._byKey.has(l),"Schema id conflicts with existing key:",l),this._byId.set(l,a);for(let[l,a]of n._byKey.entries())i(!this._byId.has(l),"Schema key conflicts with existing id:",l),this._byKey.set(l,a)}fork(n,l,a){let s=this._collect(n);s.push({schema:a});let r=s.shift(),p={id:r.id,schema:l(r.schema)};i(b.isSchema(p.schema),"adjuster function failed to return a joi schema type");for(let c of s)p={id:c.id,schema:d.fork(c.schema,p.id,p.schema)};return p.schema}labels(n,l=[]){let a=n[0],s=this._get(a);if(!s)return[...l,...n].join(".");let r=n.slice(1);return l=[...l,s.schema._flags.label||a],r.length?s.schema._ids.labels(r,l):l.join(".")}reach(n,l=[]){let a=n[0],s=this._get(a);i(s,"Schema does not contain path",[...l,...n].join("."));let r=n.slice(1);return r.length?s.schema._ids.reach(r,[...l,a]):s.schema}register(n,{key:l}={}){if(!n||!b.isSchema(n))return;(n.$_property("schemaChain")||n._ids._schemaChain)&&(this._schemaChain=!0);let a=n._flags.id;if(a){let s=this._byId.get(a);i(!s||s.schema===n,"Cannot add different schemas with the same id:",a),i(!this._byKey.has(a),"Schema id conflicts with existing key:",a),this._byId.set(a,{schema:n,id:a})}l&&(i(!this._byKey.has(l),"Schema already contains key:",l),i(!this._byId.has(l),"Schema key conflicts with existing id:",l),this._byKey.set(l,{schema:n,id:l}))}reset(){this._byId=new Map,this._byKey=new Map,this._schemaChain=!1}_collect(n,l=[],a=[]){let s=n[0],r=this._get(s);i(r,"Schema does not contain path",[...l,...n].join(".")),a=[r,...a];let p=n.slice(1);return p.length?r.schema._ids._collect(p,[...l,s],a):a}_get(n){return this._byId.get(n)||this._byKey.get(n)}},d.fork=function(n,l,a){let s=g.schema(n,{each:(r,{key:p})=>{if(l===(r._flags.id||p))return a},ref:!1});return s?s.$_mutateRebuild():n},g.schema=function(n,l){let a;for(let s in n._flags){if(s[0]==="_")continue;let r=d.scan(n._flags[s],{source:"flags",name:s},l);r!==void 0&&(a=a||n.clone(),a._flags[s]=r)}for(let s=0;s<n._rules.length;++s){let r=n._rules[s],p=d.scan(r.args,{source:"rules",name:r.name},l);if(p!==void 0){a=a||n.clone();let c=Object.assign({},r);c.args=p,a._rules[s]=c,a._singleRules.get(r.name)===r&&a._singleRules.set(r.name,c)}}for(let s in n.$_terms){if(s[0]==="_")continue;let r=d.scan(n.$_terms[s],{source:"terms",name:s},l);r!==void 0&&(a=a||n.clone(),a.$_terms[s]=r)}return a},d.scan=function(n,l,a,s,r){let p=s||[];if(n===null||typeof n!="object")return;let c;if(Array.isArray(n)){for(let u=0;u<n.length;++u){let y=l.source==="terms"&&l.name==="keys"&&n[u].key,w=d.scan(n[u],l,a,[u,...p],y);w!==void 0&&(c=c||n.slice(),c[u]=w)}return c}if(a.schema!==!1&&b.isSchema(n)||a.ref!==!1&&_.isRef(n)){let u=a.each(n,{...l,path:p,key:r});return u===n?void 0:u}for(let u in n){if(u[0]==="_")continue;let y=d.scan(n[u],l,a,[u,...p],r);y!==void 0&&(c=c||Object.assign({},n),c[u]=y)}return c}},6133:(m,g,h)=>{let i=h(375),b=h(8571),_=h(9621),d=h(8160),n,l={symbol:Symbol("ref"),defaults:{adjust:null,in:!1,iterables:null,map:null,separator:".",type:"value"}};g.create=function(a,s={}){i(typeof a=="string","Invalid reference key:",a),d.assertOptions(s,["adjust","ancestor","in","iterables","map","prefix","render","separator"]),i(!s.prefix||typeof s.prefix=="object","options.prefix must be of type object");let r=Object.assign({},l.defaults,s);delete r.prefix;let p=r.separator,c=l.context(a,p,s.prefix);if(r.type=c.type,a=c.key,r.type==="value")if(c.root&&(i(!p||a[0]!==p,"Cannot specify relative path with root prefix"),r.ancestor="root",a||(a=null)),p&&p===a)a=null,r.ancestor=0;else if(r.ancestor!==void 0)i(!p||!a||a[0]!==p,"Cannot combine prefix with ancestor option");else{let[u,y]=l.ancestor(a,p);y&&(a=a.slice(y))===""&&(a=null),r.ancestor=u}return r.path=p?a===null?[]:a.split(p):[a],new l.Ref(r)},g.in=function(a,s={}){return g.create(a,{...s,in:!0})},g.isRef=function(a){return!!a&&!!a[d.symbols.ref]},l.Ref=class{constructor(a){i(typeof a=="object","Invalid reference construction"),d.assertOptions(a,["adjust","ancestor","in","iterables","map","path","render","separator","type","depth","key","root","display"]),i([!1,void 0].includes(a.separator)||typeof a.separator=="string"&&a.separator.length===1,"Invalid separator"),i(!a.adjust||typeof a.adjust=="function","options.adjust must be a function"),i(!a.map||Array.isArray(a.map),"options.map must be an array"),i(!a.map||!a.adjust,"Cannot set both map and adjust options"),Object.assign(this,l.defaults,a),i(this.type==="value"||this.ancestor===void 0,"Non-value references cannot reference ancestors"),Array.isArray(this.map)&&(this.map=new Map(this.map)),this.depth=this.path.length,this.key=this.path.length?this.path.join(this.separator):null,this.root=this.path[0],this.updateDisplay()}resolve(a,s,r,p,c={}){return i(!this.in||c.in,"Invalid in() reference usage"),this.type==="global"?this._resolve(r.context,s,c):this.type==="local"?this._resolve(p,s,c):this.ancestor?this.ancestor==="root"?this._resolve(s.ancestors[s.ancestors.length-1],s,c):(i(this.ancestor<=s.ancestors.length,"Invalid reference exceeds the schema root:",this.display),this._resolve(s.ancestors[this.ancestor-1],s,c)):this._resolve(a,s,c)}_resolve(a,s,r){let p;if(this.type==="value"&&s.mainstay.shadow&&r.shadow!==!1&&(p=s.mainstay.shadow.get(this.absolute(s))),p===void 0&&(p=_(a,this.path,{iterables:this.iterables,functions:!0})),this.adjust&&(p=this.adjust(p)),this.map){let c=this.map.get(p);c!==void 0&&(p=c)}return s.mainstay&&s.mainstay.tracer.resolve(s,this,p),p}toString(){return this.display}absolute(a){return[...a.path.slice(0,-this.ancestor),...this.path]}clone(){return new l.Ref(this)}describe(){let a={path:this.path};this.type!=="value"&&(a.type=this.type),this.separator!=="."&&(a.separator=this.separator),this.type==="value"&&this.ancestor!==1&&(a.ancestor=this.ancestor),this.map&&(a.map=[...this.map]);for(let s of["adjust","iterables","render"])this[s]!==null&&this[s]!==void 0&&(a[s]=this[s]);return this.in!==!1&&(a.in=!0),{ref:a}}updateDisplay(){let a=this.key!==null?this.key:"";if(this.type!=="value")return void(this.display=`ref:${this.type}:${a}`);if(!this.separator)return void(this.display=`ref:${a}`);if(!this.ancestor)return void(this.display=`ref:${this.separator}${a}`);if(this.ancestor==="root")return void(this.display=`ref:root:${a}`);if(this.ancestor===1)return void(this.display=`ref:${a||".."}`);let s=new Array(this.ancestor+1).fill(this.separator).join("");this.display=`ref:${s}${a||""}`}},l.Ref.prototype[d.symbols.ref]=!0,g.build=function(a){return(a=Object.assign({},l.defaults,a)).type==="value"&&a.ancestor===void 0&&(a.ancestor=1),new l.Ref(a)},l.context=function(a,s,r={}){if(a=a.trim(),r){let p=r.global===void 0?"$":r.global;if(p!==s&&a.startsWith(p))return{key:a.slice(p.length),type:"global"};let c=r.local===void 0?"#":r.local;if(c!==s&&a.startsWith(c))return{key:a.slice(c.length),type:"local"};let u=r.root===void 0?"/":r.root;if(u!==s&&a.startsWith(u))return{key:a.slice(u.length),type:"value",root:!0}}return{key:a,type:"value"}},l.ancestor=function(a,s){if(!s)return[1,0];if(a[0]!==s)return[1,0];if(a[1]!==s)return[0,1];let r=2;for(;a[r]===s;)++r;return[r-1,r]},g.toSibling=0,g.toParent=1,g.Manager=class{constructor(){this.refs=[]}register(a,s){if(a)if(s=s===void 0?g.toParent:s,Array.isArray(a))for(let r of a)this.register(r,s);else if(d.isSchema(a))for(let r of a._refs.refs)r.ancestor-s>=0&&this.refs.push({ancestor:r.ancestor-s,root:r.root});else g.isRef(a)&&a.type==="value"&&a.ancestor-s>=0&&this.refs.push({ancestor:a.ancestor-s,root:a.root}),n=n||h(3328),n.isTemplate(a)&&this.register(a.refs(),s)}get length(){return this.refs.length}clone(){let a=new g.Manager;return a.refs=b(this.refs),a}reset(){this.refs=[]}roots(){return this.refs.filter(a=>!a.ancestor).map(a=>a.root)}}},3378:(m,g,h)=>{let i=h(5107),b={};b.wrap=i.string().min(1).max(2).allow(!1),g.preferences=i.object({allowUnknown:i.boolean(),abortEarly:i.boolean(),artifacts:i.boolean(),cache:i.boolean(),context:i.object(),convert:i.boolean(),dateFormat:i.valid("date","iso","string","time","utc"),debug:i.boolean(),errors:{escapeHtml:i.boolean(),label:i.valid("path","key",!1),language:[i.string(),i.object().ref()],render:i.boolean(),stack:i.boolean(),wrap:{label:b.wrap,array:b.wrap,string:b.wrap}},externals:i.boolean(),messages:i.object(),noDefaults:i.boolean(),nonEnumerables:i.boolean(),presence:i.valid("required","optional","forbidden"),skipFunctions:i.boolean(),stripUnknown:i.object({arrays:i.boolean(),objects:i.boolean()}).or("arrays","objects").allow(!0,!1),warnings:i.boolean()}).strict(),b.nameRx=/^[a-zA-Z0-9]\w*$/,b.rule=i.object({alias:i.array().items(i.string().pattern(b.nameRx)).single(),args:i.array().items(i.string(),i.object({name:i.string().pattern(b.nameRx).required(),ref:i.boolean(),assert:i.alternatives([i.function(),i.object().schema()]).conditional("ref",{is:!0,then:i.required()}),normalize:i.function(),message:i.string().when("assert",{is:i.function(),then:i.required()})})),convert:i.boolean(),manifest:i.boolean(),method:i.function().allow(!1),multi:i.boolean(),validate:i.function()}),g.extension=i.object({type:i.alternatives([i.string(),i.object().regex()]).required(),args:i.function(),cast:i.object().pattern(b.nameRx,i.object({from:i.function().maxArity(1).required(),to:i.function().minArity(1).maxArity(2).required()})),base:i.object().schema().when("type",{is:i.object().regex(),then:i.forbidden()}),coerce:[i.function().maxArity(3),i.object({method:i.function().maxArity(3).required(),from:i.array().items(i.string()).single()})],flags:i.object().pattern(b.nameRx,i.object({setter:i.string(),default:i.any()})),manifest:{build:i.function().arity(2)},messages:[i.object(),i.string()],modifiers:i.object().pattern(b.nameRx,i.function().minArity(1).maxArity(2)),overrides:i.object().pattern(b.nameRx,i.function()),prepare:i.function().maxArity(3),rebuild:i.function().arity(1),rules:i.object().pattern(b.nameRx,b.rule),terms:i.object().pattern(b.nameRx,i.object({init:i.array().allow(null).required(),manifest:i.object().pattern(/.+/,[i.valid("schema","single"),i.object({mapped:i.object({from:i.string().required(),to:i.string().required()}).required()})])})),validate:i.function().maxArity(3)}).strict(),g.extensions=i.array().items(i.object(),i.function().arity(1)).strict(),b.desc={buffer:i.object({buffer:i.string()}),func:i.object({function:i.function().required(),options:{literal:!0}}),override:i.object({override:!0}),ref:i.object({ref:i.object({type:i.valid("value","global","local"),path:i.array().required(),separator:i.string().length(1).allow(!1),ancestor:i.number().min(0).integer().allow("root"),map:i.array().items(i.array().length(2)).min(1),adjust:i.function(),iterables:i.boolean(),in:i.boolean(),render:i.boolean()}).required()}),regex:i.object({regex:i.string().min(3)}),special:i.object({special:i.valid("deep").required()}),template:i.object({template:i.string().required(),options:i.object()}),value:i.object({value:i.alternatives([i.object(),i.array()]).required()})},b.desc.entity=i.alternatives([i.array().items(i.link("...")),i.boolean(),i.function(),i.number(),i.string(),b.desc.buffer,b.desc.func,b.desc.ref,b.desc.regex,b.desc.special,b.desc.template,b.desc.value,i.link("/")]),b.desc.values=i.array().items(null,i.boolean(),i.function(),i.number().allow(1/0,-1/0),i.string().allow(""),i.symbol(),b.desc.buffer,b.desc.func,b.desc.override,b.desc.ref,b.desc.regex,b.desc.template,b.desc.value),b.desc.messages=i.object().pattern(/.+/,[i.string(),b.desc.template,i.object().pattern(/.+/,[i.string(),b.desc.template])]),g.description=i.object({type:i.string().required(),flags:i.object({cast:i.string(),default:i.any(),description:i.string(),empty:i.link("/"),failover:b.desc.entity,id:i.string(),label:i.string(),only:!0,presence:["optional","required","forbidden"],result:["raw","strip"],strip:i.boolean(),unit:i.string()}).unknown(),preferences:{allowUnknown:i.boolean(),abortEarly:i.boolean(),artifacts:i.boolean(),cache:i.boolean(),convert:i.boolean(),dateFormat:["date","iso","string","time","utc"],errors:{escapeHtml:i.boolean(),label:["path","key"],language:[i.string(),b.desc.ref],wrap:{label:b.wrap,array:b.wrap}},externals:i.boolean(),messages:b.desc.messages,noDefaults:i.boolean(),nonEnumerables:i.boolean(),presence:["required","optional","forbidden"],skipFunctions:i.boolean(),stripUnknown:i.object({arrays:i.boolean(),objects:i.boolean()}).or("arrays","objects").allow(!0,!1),warnings:i.boolean()},allow:b.desc.values,invalid:b.desc.values,rules:i.array().min(1).items({name:i.string().required(),args:i.object().min(1),keep:i.boolean(),message:[i.string(),b.desc.messages],warn:i.boolean()}),keys:i.object().pattern(/.*/,i.link("/")),link:b.desc.ref}).pattern(/^[a-z]\w*$/,i.any())},493:(m,g,h)=>{let i=h(8571),b=h(9621),_=h(8160),d={value:Symbol("value")};m.exports=d.State=class{constructor(n,l,a){this.path=n,this.ancestors=l,this.mainstay=a.mainstay,this.schemas=a.schemas,this.debug=null}localize(n,l=null,a=null){let s=new d.State(n,l,this);return a&&s.schemas&&(s.schemas=[d.schemas(a),...s.schemas]),s}nest(n,l){let a=new d.State(this.path,this.ancestors,this);return a.schemas=a.schemas&&[d.schemas(n),...a.schemas],a.debug=l,a}shadow(n,l){this.mainstay.shadow=this.mainstay.shadow||new d.Shadow,this.mainstay.shadow.set(this.path,n,l)}snapshot(){this.mainstay.shadow&&(this._snapshot=i(this.mainstay.shadow.node(this.path))),this.mainstay.snapshot()}restore(){this.mainstay.shadow&&(this.mainstay.shadow.override(this.path,this._snapshot),this._snapshot=void 0),this.mainstay.restore()}commit(){this.mainstay.shadow&&(this.mainstay.shadow.override(this.path,this._snapshot),this._snapshot=void 0),this.mainstay.commit()}},d.schemas=function(n){return _.isSchema(n)?{schema:n}:n},d.Shadow=class{constructor(){this._values=null}set(n,l,a){if(!n.length||a==="strip"&&typeof n[n.length-1]=="number")return;this._values=this._values||new Map;let s=this._values;for(let r=0;r<n.length;++r){let p=n[r],c=s.get(p);c||(c=new Map,s.set(p,c)),s=c}s[d.value]=l}get(n){let l=this.node(n);if(l)return l[d.value]}node(n){if(this._values)return b(this._values,n,{iterables:!0})}override(n,l){if(!this._values)return;let a=n.slice(0,-1),s=n[n.length-1],r=b(this._values,a,{iterables:!0});l?r.set(s,l):r&&r.delete(s)}}},3328:(m,g,h)=>{let i=h(375),b=h(8571),_=h(5277),d=h(1447),n=h(8160),l=h(6354),a=h(6133),s={symbol:Symbol("template"),opens:new Array(1e3).join("\0"),closes:new Array(1e3).join(""),dateFormat:{date:Date.prototype.toDateString,iso:Date.prototype.toISOString,string:Date.prototype.toString,time:Date.prototype.toTimeString,utc:Date.prototype.toUTCString}};m.exports=s.Template=class{constructor(r,p){if(i(typeof r=="string","Template source must be a string"),i(!r.includes("\0")&&!r.includes(""),"Template source cannot contain reserved control characters"),this.source=r,this.rendered=r,this._template=null,p){let{functions:c,...u}=p;this._settings=Object.keys(u).length?b(u):void 0,this._functions=c,this._functions&&(i(Object.keys(this._functions).every(y=>typeof y=="string"),"Functions keys must be strings"),i(Object.values(this._functions).every(y=>typeof y=="function"),"Functions values must be functions"))}else this._settings=void 0,this._functions=void 0;this._parse()}_parse(){if(!this.source.includes("{"))return;let r=s.encode(this.source),p=s.split(r),c=!1,u=[],y=p.shift();y&&u.push(y);for(let w of p){let $=w[0]!=="{",O=$?"}":"}}",j=w.indexOf(O);if(j===-1||w[1]==="{"){u.push(`{${s.decode(w)}`);continue}let v=w.slice($?0:1,j),x=v[0]===":";x&&(v=v.slice(1));let S=this._ref(s.decode(v),{raw:$,wrapped:x});u.push(S),typeof S!="string"&&(c=!0);let k=w.slice(j+O.length);k&&u.push(s.decode(k))}c?this._template=u:this.rendered=u.join("")}static date(r,p){return s.dateFormat[p.dateFormat].call(r)}describe(r={}){if(!this._settings&&r.compact)return this.source;let p={template:this.source};return this._settings&&(p.options=this._settings),this._functions&&(p.functions=this._functions),p}static build(r){return new s.Template(r.template,r.options||r.functions?{...r.options,functions:r.functions}:void 0)}isDynamic(){return!!this._template}static isTemplate(r){return!!r&&!!r[n.symbols.template]}refs(){if(!this._template)return;let r=[];for(let p of this._template)typeof p!="string"&&r.push(...p.refs);return r}resolve(r,p,c,u){return this._template&&this._template.length===1?this._part(this._template[0],r,p,c,u,{}):this.render(r,p,c,u)}_part(r,...p){return r.ref?r.ref.resolve(...p):r.formula.evaluate(p)}render(r,p,c,u,y={}){if(!this.isDynamic())return this.rendered;let w=[];for(let $ of this._template)if(typeof $=="string")w.push($);else{let O=this._part($,r,p,c,u,y),j=s.stringify(O,r,p,c,u,y);if(j!==void 0){let v=$.raw||(y.errors&&y.errors.escapeHtml)===!1?j:_(j);w.push(s.wrap(v,$.wrapped&&c.errors.wrap.label))}}return w.join("")}_ref(r,{raw:p,wrapped:c}){let u=[],y=$=>{let O=a.create($,this._settings);return u.push(O),j=>{let v=O.resolve(...j);return v!==void 0?v:null}};try{let $=this._functions?{...s.functions,...this._functions}:s.functions;var w=new d.Parser(r,{reference:y,functions:$,constants:s.constants})}catch($){throw $.message=`Invalid template variable "${r}" fails due to: ${$.message}`,$}if(w.single){if(w.single.type==="reference"){let $=u[0];return{ref:$,raw:p,refs:u,wrapped:c||$.type==="local"&&$.key==="label"}}return s.stringify(w.single.value)}return{formula:w,raw:p,refs:u}}toString(){return this.source}},s.Template.prototype[n.symbols.template]=!0,s.Template.prototype.isImmutable=!0,s.encode=function(r){return r.replace(/\\(\{+)/g,(p,c)=>s.opens.slice(0,c.length)).replace(/\\(\}+)/g,(p,c)=>s.closes.slice(0,c.length))},s.decode=function(r){return r.replace(/\u0000/g,"{").replace(/\u0001/g,"}")},s.split=function(r){let p=[],c="";for(let u=0;u<r.length;++u){let y=r[u];if(y==="{"){let w="";for(;u+1<r.length&&r[u+1]==="{";)w+="{",++u;p.push(c),c=w}else c+=y}return p.push(c),p},s.wrap=function(r,p){return p?p.length===1?`${p}${r}${p}`:`${p[0]}${r}${p[1]}`:r},s.stringify=function(r,p,c,u,y,w={}){let $=typeof r,O=u&&u.errors&&u.errors.wrap||{},j=!1;if(a.isRef(r)&&r.render&&(j=r.in,r=r.resolve(p,c,u,y,{in:r.in,...w})),r===null)return"null";if($==="string")return s.wrap(r,w.arrayItems&&O.string);if($==="number"||$==="function"||$==="symbol")return r.toString();if($!=="object")return JSON.stringify(r);if(r instanceof Date)return s.Template.date(r,u);if(r instanceof Map){let x=[];for(let[S,k]of r.entries())x.push(`${S.toString()} -> ${k.toString()}`);r=x}if(!Array.isArray(r))return r.toString();let v=[];for(let x of r)v.push(s.stringify(x,p,c,u,y,{arrayItems:!0,...w}));return s.wrap(v.join(", "),!j&&O.array)},s.constants={true:!0,false:!1,null:null,second:1e3,minute:6e4,hour:36e5,day:864e5},s.functions={if:(r,p,c)=>r?p:c,length:r=>typeof r=="string"?r.length:r&&typeof r=="object"?Array.isArray(r)?r.length:Object.keys(r).length:null,msg(r){let[p,c,u,y,w]=this,$=w.messages;if(!$)return"";let O=l.template(p,$[0],r,c,u)||l.template(p,$[1],r,c,u);return O?O.render(p,c,u,y,w):""},number:r=>typeof r=="number"?r:typeof r=="string"?parseFloat(r):typeof r=="boolean"?r?1:0:r instanceof Date?r.getTime():null}},4946:(m,g,h)=>{let i=h(375),b=h(1687),_=h(8068),d=h(8160),n=h(3292),l=h(6354),a=h(6133),s={};m.exports=_.extend({type:"alternatives",flags:{match:{default:"any"}},terms:{matches:{init:[],register:a.toSibling}},args:(r,...p)=>p.length===1&&Array.isArray(p[0])?r.try(...p[0]):r.try(...p),validate(r,p){let{schema:c,error:u,state:y,prefs:w}=p;if(c._flags.match){let O=[],j=[];for(let x=0;x<c.$_terms.matches.length;++x){let S=c.$_terms.matches[x],k=y.nest(S.schema,`match.${x}`);k.snapshot();let T=S.schema.$_validate(r,k,w);T.errors?(j.push(T.errors),k.restore()):(O.push(T.value),k.commit())}if(O.length===0)return{errors:u("alternatives.any",{details:j.map(x=>l.details(x,{override:!1}))})};if(c._flags.match==="one")return O.length===1?{value:O[0]}:{errors:u("alternatives.one")};if(O.length!==c.$_terms.matches.length)return{errors:u("alternatives.all",{details:j.map(x=>l.details(x,{override:!1}))})};let v=x=>x.$_terms.matches.some(S=>S.schema.type==="object"||S.schema.type==="alternatives"&&v(S.schema));return v(c)?{value:O.reduce((x,S)=>b(x,S,{mergeArrays:!1}))}:{value:O[O.length-1]}}let $=[];for(let O=0;O<c.$_terms.matches.length;++O){let j=c.$_terms.matches[O];if(j.schema){let S=y.nest(j.schema,`match.${O}`);S.snapshot();let k=j.schema.$_validate(r,S,w);if(!k.errors)return S.commit(),k;S.restore(),$.push({schema:j.schema,reports:k.errors});continue}let v=j.ref?j.ref.resolve(r,y,w):r,x=j.is?[j]:j.switch;for(let S=0;S<x.length;++S){let k=x[S],{is:T,then:E,otherwise:W}=k,R=`match.${O}${j.switch?"."+S:""}`;if(T.$_match(v,y.nest(T,`${R}.is`),w)){if(E)return E.$_validate(r,y.nest(E,`${R}.then`),w)}else if(W)return W.$_validate(r,y.nest(W,`${R}.otherwise`),w)}}return s.errors($,p)},rules:{conditional:{method(r,p){i(!this._flags._endedSwitch,"Unreachable condition"),i(!this._flags.match,"Cannot combine match mode",this._flags.match,"with conditional rule"),i(p.break===void 0,"Cannot use break option with alternatives conditional");let c=this.clone(),u=n.when(c,r,p),y=u.is?[u]:u.switch;for(let w of y)if(w.then&&w.otherwise){c.$_setFlag("_endedSwitch",!0,{clone:!1});break}return c.$_terms.matches.push(u),c.$_mutateRebuild()}},match:{method(r){if(i(["any","one","all"].includes(r),"Invalid alternatives match mode",r),r!=="any")for(let p of this.$_terms.matches)i(p.schema,"Cannot combine match mode",r,"with conditional rules");return this.$_setFlag("match",r)}},try:{method(...r){i(r.length,"Missing alternative schemas"),d.verifyFlat(r,"try"),i(!this._flags._endedSwitch,"Unreachable condition");let p=this.clone();for(let c of r)p.$_terms.matches.push({schema:p.$_compile(c)});return p.$_mutateRebuild()}}},overrides:{label(r){return this.$_parent("label",r).$_modify({each:(p,c)=>c.path[0]!=="is"&&typeof p._flags.label!="string"?p.label(r):void 0,ref:!1})}},rebuild(r){r.$_modify({each:p=>{d.isSchema(p)&&p.type==="array"&&r.$_setFlag("_arrayItems",!0,{clone:!1})}})},manifest:{build(r,p){if(p.matches)for(let c of p.matches){let{schema:u,ref:y,is:w,not:$,then:O,otherwise:j}=c;r=u?r.try(u):y?r.conditional(y,{is:w,then:O,not:$,otherwise:j,switch:c.switch}):r.conditional(w,{then:O,otherwise:j})}return r}},messages:{"alternatives.all":"{{#label}} does not match all of the required types","alternatives.any":"{{#label}} does not match any of the allowed types","alternatives.match":"{{#label}} does not match any of the allowed types","alternatives.one":"{{#label}} matches more than one allowed type","alternatives.types":"{{#label}} must be one of {{#types}}"}}),s.errors=function(r,{error:p,state:c}){if(!r.length)return{errors:p("alternatives.any")};if(r.length===1)return{errors:r[0].reports};let u=new Set,y=[];for(let{reports:w,schema:$}of r){if(w.length>1)return s.unmatched(r,p);let O=w[0];if(O instanceof l.Report==0)return s.unmatched(r,p);if(O.state.path.length!==c.path.length){y.push({type:$.type,report:O});continue}if(O.code==="any.only"){for(let x of O.local.valids)u.add(x);continue}let[j,v]=O.code.split(".");v!=="base"?y.push({type:$.type,report:O}):O.code==="object.base"?u.add(O.local.type):u.add(j)}return y.length?y.length===1?{errors:y[0].report}:s.unmatched(r,p):{errors:p("alternatives.types",{types:[...u]})}},s.unmatched=function(r,p){let c=[];for(let u of r)c.push(...u.reports);return{errors:p("alternatives.match",l.details(c,{override:!1}))}}},8068:(m,g,h)=>{let i=h(375),b=h(7629),_=h(8160),d=h(6914);m.exports=b.extend({type:"any",flags:{only:{default:!1}},terms:{alterations:{init:null},examples:{init:null},externals:{init:null},metas:{init:[]},notes:{init:[]},shared:{init:null},tags:{init:[]},whens:{init:null}},rules:{custom:{method(n,l){return i(typeof n=="function","Method must be a function"),i(l===void 0||l&&typeof l=="string","Description must be a non-empty string"),this.$_addRule({name:"custom",args:{method:n,description:l}})},validate(n,l,{method:a}){try{return a(n,l)}catch(s){return l.error("any.custom",{error:s})}},args:["method","description"],multi:!0},messages:{method(n){return this.prefs({messages:n})}},shared:{method(n){i(_.isSchema(n)&&n._flags.id,"Schema must be a schema with an id");let l=this.clone();return l.$_terms.shared=l.$_terms.shared||[],l.$_terms.shared.push(n),l.$_mutateRegister(n),l}},warning:{method(n,l){return i(n&&typeof n=="string","Invalid warning code"),this.$_addRule({name:"warning",args:{code:n,local:l},warn:!0})},validate:(n,l,{code:a,local:s})=>l.error(a,s),args:["code","local"],multi:!0}},modifiers:{keep(n,l=!0){n.keep=l},message(n,l){n.message=d.compile(l)},warn(n,l=!0){n.warn=l}},manifest:{build(n,l){for(let a in l){let s=l[a];if(["examples","externals","metas","notes","tags"].includes(a))for(let r of s)n=n[a.slice(0,-1)](r);else if(a!=="alterations")if(a!=="whens"){if(a==="shared")for(let r of s)n=n.shared(r)}else for(let r of s){let{ref:p,is:c,not:u,then:y,otherwise:w,concat:$}=r;n=$?n.concat($):p?n.when(p,{is:c,not:u,then:y,otherwise:w,switch:r.switch,break:r.break}):n.when(c,{then:y,otherwise:w,break:r.break})}else{let r={};for(let{target:p,adjuster:c}of s)r[p]=c;n=n.alter(r)}}return n}},messages:{"any.custom":"{{#label}} failed custom validation because {{#error.message}}","any.default":"{{#label}} threw an error when running default method","any.failover":"{{#label}} threw an error when running failover method","any.invalid":"{{#label}} contains an invalid value","any.only":'{{#label}} must be {if(#valids.length == 1, "", "one of ")}{{#valids}}',"any.ref":"{{#label}} {{#arg}} references {{:#ref}} which {{#reason}}","any.required":"{{#label}} is required","any.unknown":"{{#label}} is not allowed"}})},546:(m,g,h)=>{let i=h(375),b=h(9474),_=h(9621),d=h(8068),n=h(8160),l=h(3292),a={};m.exports=d.extend({type:"array",flags:{single:{default:!1},sparse:{default:!1}},terms:{items:{init:[],manifest:"schema"},ordered:{init:[],manifest:"schema"},_exclusions:{init:[]},_inclusions:{init:[]},_requireds:{init:[]}},coerce:{from:"object",method(s,{schema:r,state:p,prefs:c}){if(!Array.isArray(s))return;let u=r.$_getRule("sort");return u?a.sort(r,s,u.args.options,p,c):void 0}},validate(s,{schema:r,error:p}){if(!Array.isArray(s)){if(r._flags.single){let c=[s];return c[n.symbols.arraySingle]=!0,{value:c}}return{errors:p("array.base")}}if(r.$_getRule("items")||r.$_terms.externals)return{value:s.slice()}},rules:{has:{method(s){s=this.$_compile(s,{appendPath:!0});let r=this.$_addRule({name:"has",args:{schema:s}});return r.$_mutateRegister(s),r},validate(s,{state:r,prefs:p,error:c},{schema:u}){let y=[s,...r.ancestors];for(let $=0;$<s.length;++$){let O=r.localize([...r.path,$],y,u);if(u.$_match(s[$],O,p))return s}let w=u._flags.label;return w?c("array.hasKnown",{patternLabel:w}):c("array.hasUnknown",null)},multi:!0},items:{method(...s){n.verifyFlat(s,"items");let r=this.$_addRule("items");for(let p=0;p<s.length;++p){let c=n.tryWithPath(()=>this.$_compile(s[p]),p,{append:!0});r.$_terms.items.push(c)}return r.$_mutateRebuild()},validate(s,{schema:r,error:p,state:c,prefs:u,errorsArray:y}){let w=r.$_terms._requireds.slice(),$=r.$_terms.ordered.slice(),O=[...r.$_terms._inclusions,...w],j=!s[n.symbols.arraySingle];delete s[n.symbols.arraySingle];let v=y(),x=s.length;for(let S=0;S<x;++S){let k=s[S],T=!1,E=!1,W=j?S:new Number(S),R=[...c.path,W];if(!r._flags.sparse&&k===void 0){if(v.push(p("array.sparse",{key:W,path:R,pos:S,value:void 0},c.localize(R))),u.abortEarly)return v;$.shift();continue}let I=[s,...c.ancestors];for(let J of r.$_terms._exclusions)if(J.$_match(k,c.localize(R,I,J),u,{presence:"ignore"})){if(v.push(p("array.excludes",{pos:S,value:k},c.localize(R))),u.abortEarly)return v;T=!0,$.shift();break}if(T)continue;if(r.$_terms.ordered.length){if($.length){let J=$.shift(),Y=J.$_validate(k,c.localize(R,I,J),u);if(Y.errors){if(v.push(...Y.errors),u.abortEarly)return v}else if(J._flags.result==="strip")a.fastSplice(s,S),--S,--x;else{if(!r._flags.sparse&&Y.value===void 0){if(v.push(p("array.sparse",{key:W,path:R,pos:S,value:void 0},c.localize(R))),u.abortEarly)return v;continue}s[S]=Y.value}continue}if(!r.$_terms.items.length){if(v.push(p("array.orderedLength",{pos:S,limit:r.$_terms.ordered.length})),u.abortEarly)return v;break}}let P=[],B=w.length;for(let J=0;J<B;++J){let Y=c.localize(R,I,w[J]);Y.snapshot();let te=w[J].$_validate(k,Y,u);if(P[J]=te,!te.errors){if(Y.commit(),s[S]=te.value,E=!0,a.fastSplice(w,J),--J,--B,!r._flags.sparse&&te.value===void 0&&(v.push(p("array.sparse",{key:W,path:R,pos:S,value:void 0},c.localize(R))),u.abortEarly))return v;break}Y.restore()}if(E)continue;let Q=u.stripUnknown&&!!u.stripUnknown.arrays||!1;B=O.length;for(let J of O){let Y,te=w.indexOf(J);if(te!==-1)Y=P[te];else{let ie=c.localize(R,I,J);if(ie.snapshot(),Y=J.$_validate(k,ie,u),!Y.errors){ie.commit(),J._flags.result==="strip"?(a.fastSplice(s,S),--S,--x):r._flags.sparse||Y.value!==void 0?s[S]=Y.value:(v.push(p("array.sparse",{key:W,path:R,pos:S,value:void 0},c.localize(R))),T=!0),E=!0;break}ie.restore()}if(B===1){if(Q){a.fastSplice(s,S),--S,--x,E=!0;break}if(v.push(...Y.errors),u.abortEarly)return v;T=!0;break}}if(!T&&(r.$_terms._inclusions.length||r.$_terms._requireds.length)&&!E){if(Q){a.fastSplice(s,S),--S,--x;continue}if(v.push(p("array.includes",{pos:S,value:k},c.localize(R))),u.abortEarly)return v}}return w.length&&a.fillMissedErrors(r,v,w,s,c,u),$.length&&(a.fillOrderedErrors(r,v,$,s,c,u),v.length||a.fillDefault($,s,c,u)),v.length?v:s},priority:!0,manifest:!1},length:{method(s){return this.$_addRule({name:"length",args:{limit:s},operator:"="})},validate:(s,r,{limit:p},{name:c,operator:u,args:y})=>n.compare(s.length,p,u)?s:r.error("array."+c,{limit:y.limit,value:s}),args:[{name:"limit",ref:!0,assert:n.limit,message:"must be a positive integer"}]},max:{method(s){return this.$_addRule({name:"max",method:"length",args:{limit:s},operator:"<="})}},min:{method(s){return this.$_addRule({name:"min",method:"length",args:{limit:s},operator:">="})}},ordered:{method(...s){n.verifyFlat(s,"ordered");let r=this.$_addRule("items");for(let p=0;p<s.length;++p){let c=n.tryWithPath(()=>this.$_compile(s[p]),p,{append:!0});a.validateSingle(c,r),r.$_mutateRegister(c),r.$_terms.ordered.push(c)}return r.$_mutateRebuild()}},single:{method(s){let r=s===void 0||!!s;return i(!r||!this._flags._arrayItems,"Cannot specify single rule when array has array items"),this.$_setFlag("single",r)}},sort:{method(s={}){n.assertOptions(s,["by","order"]);let r={order:s.order||"ascending"};return s.by&&(r.by=l.ref(s.by,{ancestor:0}),i(!r.by.ancestor,"Cannot sort by ancestor")),this.$_addRule({name:"sort",args:{options:r}})},validate(s,{error:r,state:p,prefs:c,schema:u},{options:y}){let{value:w,errors:$}=a.sort(u,s,y,p,c);if($)return $;for(let O=0;O<s.length;++O)if(s[O]!==w[O])return r("array.sort",{order:y.order,by:y.by?y.by.key:"value"});return s},convert:!0},sparse:{method(s){let r=s===void 0||!!s;return this._flags.sparse===r?this:(r?this.clone():this.$_addRule("items")).$_setFlag("sparse",r,{clone:!1})}},unique:{method(s,r={}){i(!s||typeof s=="function"||typeof s=="string","comparator must be a function or a string"),n.assertOptions(r,["ignoreUndefined","separator"]);let p={name:"unique",args:{options:r,comparator:s}};if(s)if(typeof s=="string"){let c=n.default(r.separator,".");p.path=c?s.split(c):[s]}else p.comparator=s;return this.$_addRule(p)},validate(s,{state:r,error:p,schema:c},{comparator:u,options:y},{comparator:w,path:$}){let O={string:Object.create(null),number:Object.create(null),undefined:Object.create(null),boolean:Object.create(null),bigint:Object.create(null),object:new Map,function:new Map,custom:new Map},j=w||b,v=y.ignoreUndefined;for(let x=0;x<s.length;++x){let S=$?_(s[x],$):s[x],k=w?O.custom:O[typeof S];if(i(k,"Failed to find unique map container for type",typeof S),k instanceof Map){let T=k.entries(),E;for(;!(E=T.next()).done;)if(j(E.value[0],S)){let W=r.localize([...r.path,x],[s,...r.ancestors]),R={pos:x,value:s[x],dupePos:E.value[1],dupeValue:s[E.value[1]]};return $&&(R.path=u),p("array.unique",R,W)}k.set(S,x)}else{if((!v||S!==void 0)&&k[S]!==void 0){let T={pos:x,value:s[x],dupePos:k[S],dupeValue:s[k[S]]};return $&&(T.path=u),p("array.unique",T,r.localize([...r.path,x],[s,...r.ancestors]))}k[S]=x}}return s},args:["comparator","options"],multi:!0}},cast:{set:{from:Array.isArray,to:(s,r)=>new Set(s)}},rebuild(s){s.$_terms._inclusions=[],s.$_terms._exclusions=[],s.$_terms._requireds=[];for(let r of s.$_terms.items)a.validateSingle(r,s),r._flags.presence==="required"?s.$_terms._requireds.push(r):r._flags.presence==="forbidden"?s.$_terms._exclusions.push(r):s.$_terms._inclusions.push(r);for(let r of s.$_terms.ordered)a.validateSingle(r,s)},manifest:{build:(s,r)=>(r.items&&(s=s.items(...r.items)),r.ordered&&(s=s.ordered(...r.ordered)),s)},messages:{"array.base":"{{#label}} must be an array","array.excludes":"{{#label}} contains an excluded value","array.hasKnown":"{{#label}} does not contain at least one required match for type {:#patternLabel}","array.hasUnknown":"{{#label}} does not contain at least one required match","array.includes":"{{#label}} does not match any of the allowed types","array.includesRequiredBoth":"{{#label}} does not contain {{#knownMisses}} and {{#unknownMisses}} other required value(s)","array.includesRequiredKnowns":"{{#label}} does not contain {{#knownMisses}}","array.includesRequiredUnknowns":"{{#label}} does not contain {{#unknownMisses}} required value(s)","array.length":"{{#label}} must contain {{#limit}} items","array.max":"{{#label}} must contain less than or equal to {{#limit}} items","array.min":"{{#label}} must contain at least {{#limit}} items","array.orderedLength":"{{#label}} must contain at most {{#limit}} items","array.sort":"{{#label}} must be sorted in {#order} order by {{#by}}","array.sort.mismatching":"{{#label}} cannot be sorted due to mismatching types","array.sort.unsupported":"{{#label}} cannot be sorted due to unsupported type {#type}","array.sparse":"{{#label}} must not be a sparse array item","array.unique":"{{#label}} contains a duplicate value"}}),a.fillMissedErrors=function(s,r,p,c,u,y){let w=[],$=0;for(let O of p){let j=O._flags.label;j?w.push(j):++$}w.length?$?r.push(s.$_createError("array.includesRequiredBoth",c,{knownMisses:w,unknownMisses:$},u,y)):r.push(s.$_createError("array.includesRequiredKnowns",c,{knownMisses:w},u,y)):r.push(s.$_createError("array.includesRequiredUnknowns",c,{unknownMisses:$},u,y))},a.fillOrderedErrors=function(s,r,p,c,u,y){let w=[];for(let $ of p)$._flags.presence==="required"&&w.push($);w.length&&a.fillMissedErrors(s,r,w,c,u,y)},a.fillDefault=function(s,r,p,c){let u=[],y=!0;for(let w=s.length-1;w>=0;--w){let $=s[w],O=[r,...p.ancestors],j=$.$_validate(void 0,p.localize(p.path,O,$),c).value;if(y){if(j===void 0)continue;y=!1}u.unshift(j)}u.length&&r.push(...u)},a.fastSplice=function(s,r){let p=r;for(;p<s.length;)s[p++]=s[p];--s.length},a.validateSingle=function(s,r){(s.type==="array"||s._flags._arrayItems)&&(i(!r._flags.single,"Cannot specify array item with single rule enabled"),r.$_setFlag("_arrayItems",!0,{clone:!1}))},a.sort=function(s,r,p,c,u){let y=p.order==="ascending"?1:-1,w=-1*y,$=y,O=(j,v)=>{let x=a.compare(j,v,w,$);if(x!==null||(p.by&&(j=p.by.resolve(j,c,u),v=p.by.resolve(v,c,u)),x=a.compare(j,v,w,$),x!==null))return x;let S=typeof j;if(S!==typeof v)throw s.$_createError("array.sort.mismatching",r,null,c,u);if(S!=="number"&&S!=="string")throw s.$_createError("array.sort.unsupported",r,{type:S},c,u);return S==="number"?(j-v)*y:j<v?w:$};try{return{value:r.slice().sort(O)}}catch(j){return{errors:j}}},a.compare=function(s,r,p,c){return s===r?0:s===void 0?1:r===void 0?-1:s===null?c:r===null?p:null}},4937:(m,g,h)=>{let i=h(375),b=h(8068),_=h(8160),d=h(2036),n={isBool:function(l){return typeof l=="boolean"}};m.exports=b.extend({type:"boolean",flags:{sensitive:{default:!1}},terms:{falsy:{init:null,manifest:"values"},truthy:{init:null,manifest:"values"}},coerce(l,{schema:a}){if(typeof l!="boolean"){if(typeof l=="string"){let s=a._flags.sensitive?l:l.toLowerCase();l=s==="true"||s!=="false"&&l}return typeof l!="boolean"&&(l=a.$_terms.truthy&&a.$_terms.truthy.has(l,null,null,!a._flags.sensitive)||(!a.$_terms.falsy||!a.$_terms.falsy.has(l,null,null,!a._flags.sensitive))&&l),{value:l}}},validate(l,{error:a}){if(typeof l!="boolean")return{value:l,errors:a("boolean.base")}},rules:{truthy:{method(...l){_.verifyFlat(l,"truthy");let a=this.clone();a.$_terms.truthy=a.$_terms.truthy||new d;for(let s=0;s<l.length;++s){let r=l[s];i(r!==void 0,"Cannot call truthy with undefined"),a.$_terms.truthy.add(r)}return a}},falsy:{method(...l){_.verifyFlat(l,"falsy");let a=this.clone();a.$_terms.falsy=a.$_terms.falsy||new d;for(let s=0;s<l.length;++s){let r=l[s];i(r!==void 0,"Cannot call falsy with undefined"),a.$_terms.falsy.add(r)}return a}},sensitive:{method(l=!0){return this.$_setFlag("sensitive",l)}}},cast:{number:{from:n.isBool,to:(l,a)=>l?1:0},string:{from:n.isBool,to:(l,a)=>l?"true":"false"}},manifest:{build:(l,a)=>(a.truthy&&(l=l.truthy(...a.truthy)),a.falsy&&(l=l.falsy(...a.falsy)),l)},messages:{"boolean.base":"{{#label}} must be a boolean"}})},7500:(m,g,h)=>{let i=h(375),b=h(8068),_=h(8160),d=h(3328),n={isDate:function(l){return l instanceof Date}};m.exports=b.extend({type:"date",coerce:{from:["number","string"],method:(l,{schema:a})=>({value:n.parse(l,a._flags.format)||l})},validate(l,{schema:a,error:s,prefs:r}){if(l instanceof Date&&!isNaN(l.getTime()))return;let p=a._flags.format;return r.convert&&p&&typeof l=="string"?{value:l,errors:s("date.format",{format:p})}:{value:l,errors:s("date.base")}},rules:{compare:{method:!1,validate(l,a,{date:s},{name:r,operator:p,args:c}){let u=s==="now"?Date.now():s.getTime();return _.compare(l.getTime(),u,p)?l:a.error("date."+r,{limit:c.date,value:l})},args:[{name:"date",ref:!0,normalize:l=>l==="now"?l:n.parse(l),assert:l=>l!==null,message:"must have a valid date format"}]},format:{method(l){return i(["iso","javascript","unix"].includes(l),"Unknown date format",l),this.$_setFlag("format",l)}},greater:{method(l){return this.$_addRule({name:"greater",method:"compare",args:{date:l},operator:">"})}},iso:{method(){return this.format("iso")}},less:{method(l){return this.$_addRule({name:"less",method:"compare",args:{date:l},operator:"<"})}},max:{method(l){return this.$_addRule({name:"max",method:"compare",args:{date:l},operator:"<="})}},min:{method(l){return this.$_addRule({name:"min",method:"compare",args:{date:l},operator:">="})}},timestamp:{method(l="javascript"){return i(["javascript","unix"].includes(l),'"type" must be one of "javascript, unix"'),this.format(l)}}},cast:{number:{from:n.isDate,to:(l,a)=>l.getTime()},string:{from:n.isDate,to:(l,{prefs:a})=>d.date(l,a)}},messages:{"date.base":"{{#label}} must be a valid date","date.format":'{{#label}} must be in {msg("date.format." + #format) || #format} format',"date.greater":"{{#label}} must be greater than {{:#limit}}","date.less":"{{#label}} must be less than {{:#limit}}","date.max":"{{#label}} must be less than or equal to {{:#limit}}","date.min":"{{#label}} must be greater than or equal to {{:#limit}}","date.format.iso":"ISO 8601 date","date.format.javascript":"timestamp or number of milliseconds","date.format.unix":"timestamp or number of seconds"}}),n.parse=function(l,a){if(l instanceof Date)return l;if(typeof l!="string"&&(isNaN(l)||!isFinite(l))||/^\s*$/.test(l))return null;if(a==="iso")return _.isIsoDate(l)?n.date(l.toString()):null;let s=l;if(typeof l=="string"&&/^[+-]?\d+(\.\d+)?$/.test(l)&&(l=parseFloat(l)),a){if(a==="javascript")return n.date(1*l);if(a==="unix")return n.date(1e3*l);if(typeof s=="string")return null}return n.date(l)},n.date=function(l){let a=new Date(l);return isNaN(a.getTime())?null:a}},390:(m,g,h)=>{let i=h(375),b=h(7824);m.exports=b.extend({type:"function",properties:{typeof:"function"},rules:{arity:{method(_){return i(Number.isSafeInteger(_)&&_>=0,"n must be a positive integer"),this.$_addRule({name:"arity",args:{n:_}})},validate:(_,d,{n})=>_.length===n?_:d.error("function.arity",{n})},class:{method(){return this.$_addRule("class")},validate:(_,d)=>/^\s*class\s/.test(_.toString())?_:d.error("function.class",{value:_})},minArity:{method(_){return i(Number.isSafeInteger(_)&&_>0,"n must be a strict positive integer"),this.$_addRule({name:"minArity",args:{n:_}})},validate:(_,d,{n})=>_.length>=n?_:d.error("function.minArity",{n})},maxArity:{method(_){return i(Number.isSafeInteger(_)&&_>=0,"n must be a positive integer"),this.$_addRule({name:"maxArity",args:{n:_}})},validate:(_,d,{n})=>_.length<=n?_:d.error("function.maxArity",{n})}},messages:{"function.arity":"{{#label}} must have an arity of {{#n}}","function.class":"{{#label}} must be a class","function.maxArity":"{{#label}} must have an arity lesser or equal to {{#n}}","function.minArity":"{{#label}} must have an arity greater or equal to {{#n}}"}})},7824:(m,g,h)=>{let i=h(978),b=h(375),_=h(8571),d=h(3652),n=h(8068),l=h(8160),a=h(3292),s=h(6354),r=h(6133),p=h(3328),c={renameDefaults:{alias:!1,multiple:!1,override:!1}};m.exports=n.extend({type:"_keys",properties:{typeof:"object"},flags:{unknown:{default:void 0}},terms:{dependencies:{init:null},keys:{init:null,manifest:{mapped:{from:"schema",to:"key"}}},patterns:{init:null},renames:{init:null}},args:(u,y)=>u.keys(y),validate(u,{schema:y,error:w,state:$,prefs:O}){if(!u||typeof u!==y.$_property("typeof")||Array.isArray(u))return{value:u,errors:w("object.base",{type:y.$_property("typeof")})};if(!(y.$_terms.renames||y.$_terms.dependencies||y.$_terms.keys||y.$_terms.patterns||y.$_terms.externals))return;u=c.clone(u,O);let j=[];if(y.$_terms.renames&&!c.rename(y,u,$,O,j))return{value:u,errors:j};if(!y.$_terms.keys&&!y.$_terms.patterns&&!y.$_terms.dependencies)return{value:u,errors:j};let v=new Set(Object.keys(u));if(y.$_terms.keys){let x=[u,...$.ancestors];for(let S of y.$_terms.keys){let k=S.key,T=u[k];v.delete(k);let E=$.localize([...$.path,k],x,S),W=S.schema.$_validate(T,E,O);if(W.errors){if(O.abortEarly)return{value:u,errors:W.errors};W.value!==void 0&&(u[k]=W.value),j.push(...W.errors)}else S.schema._flags.result==="strip"||W.value===void 0&&T!==void 0?delete u[k]:W.value!==void 0&&(u[k]=W.value)}}if(v.size||y._flags._hasPatternMatch){let x=c.unknown(y,u,v,j,$,O);if(x)return x}if(y.$_terms.dependencies)for(let x of y.$_terms.dependencies){if(x.key!==null&&c.isPresent(x.options)(x.key.resolve(u,$,O,null,{shadow:!1}))===!1)continue;let S=c.dependencies[x.rel](y,x,u,$,O);if(S){let k=y.$_createError(S.code,u,S.context,$,O);if(O.abortEarly)return{value:u,errors:k};j.push(k)}}return{value:u,errors:j}},rules:{and:{method(...u){return l.verifyFlat(u,"and"),c.dependency(this,"and",null,u)}},append:{method(u){return u==null||Object.keys(u).length===0?this:this.keys(u)}},assert:{method(u,y,w){p.isTemplate(u)||(u=a.ref(u)),b(w===void 0||typeof w=="string","Message must be a string"),y=this.$_compile(y,{appendPath:!0});let $=this.$_addRule({name:"assert",args:{subject:u,schema:y,message:w}});return $.$_mutateRegister(u),$.$_mutateRegister(y),$},validate(u,{error:y,prefs:w,state:$},{subject:O,schema:j,message:v}){let x=O.resolve(u,$,w),S=r.isRef(O)?O.absolute($):[];return j.$_match(x,$.localize(S,[u,...$.ancestors],j),w)?u:y("object.assert",{subject:O,message:v})},args:["subject","schema","message"],multi:!0},instance:{method(u,y){return b(typeof u=="function","constructor must be a function"),y=y||u.name,this.$_addRule({name:"instance",args:{constructor:u,name:y}})},validate:(u,y,{constructor:w,name:$})=>u instanceof w?u:y.error("object.instance",{type:$,value:u}),args:["constructor","name"]},keys:{method(u){b(u===void 0||typeof u=="object","Object schema must be a valid object"),b(!l.isSchema(u),"Object schema cannot be a joi schema");let y=this.clone();if(u)if(Object.keys(u).length){y.$_terms.keys=y.$_terms.keys?y.$_terms.keys.filter(w=>!u.hasOwnProperty(w.key)):new c.Keys;for(let w in u)l.tryWithPath(()=>y.$_terms.keys.push({key:w,schema:this.$_compile(u[w])}),w)}else y.$_terms.keys=new c.Keys;else y.$_terms.keys=null;return y.$_mutateRebuild()}},length:{method(u){return this.$_addRule({name:"length",args:{limit:u},operator:"="})},validate:(u,y,{limit:w},{name:$,operator:O,args:j})=>l.compare(Object.keys(u).length,w,O)?u:y.error("object."+$,{limit:j.limit,value:u}),args:[{name:"limit",ref:!0,assert:l.limit,message:"must be a positive integer"}]},max:{method(u){return this.$_addRule({name:"max",method:"length",args:{limit:u},operator:"<="})}},min:{method(u){return this.$_addRule({name:"min",method:"length",args:{limit:u},operator:">="})}},nand:{method(...u){return l.verifyFlat(u,"nand"),c.dependency(this,"nand",null,u)}},or:{method(...u){return l.verifyFlat(u,"or"),c.dependency(this,"or",null,u)}},oxor:{method(...u){return c.dependency(this,"oxor",null,u)}},pattern:{method(u,y,w={}){let $=u instanceof RegExp;$||(u=this.$_compile(u,{appendPath:!0})),b(y!==void 0,"Invalid rule"),l.assertOptions(w,["fallthrough","matches"]),$&&b(!u.flags.includes("g")&&!u.flags.includes("y"),"pattern should not use global or sticky mode"),y=this.$_compile(y,{appendPath:!0});let O=this.clone();O.$_terms.patterns=O.$_terms.patterns||[];let j={[$?"regex":"schema"]:u,rule:y};return w.matches&&(j.matches=this.$_compile(w.matches),j.matches.type!=="array"&&(j.matches=j.matches.$_root.array().items(j.matches)),O.$_mutateRegister(j.matches),O.$_setFlag("_hasPatternMatch",!0,{clone:!1})),w.fallthrough&&(j.fallthrough=!0),O.$_terms.patterns.push(j),O.$_mutateRegister(y),O}},ref:{method(){return this.$_addRule("ref")},validate:(u,y)=>r.isRef(u)?u:y.error("object.refType",{value:u})},regex:{method(){return this.$_addRule("regex")},validate:(u,y)=>u instanceof RegExp?u:y.error("object.regex",{value:u})},rename:{method(u,y,w={}){b(typeof u=="string"||u instanceof RegExp,"Rename missing the from argument"),b(typeof y=="string"||y instanceof p,"Invalid rename to argument"),b(y!==u,"Cannot rename key to same name:",u),l.assertOptions(w,["alias","ignoreUndefined","override","multiple"]);let $=this.clone();$.$_terms.renames=$.$_terms.renames||[];for(let O of $.$_terms.renames)b(O.from!==u,"Cannot rename the same key multiple times");return y instanceof p&&$.$_mutateRegister(y),$.$_terms.renames.push({from:u,to:y,options:i(c.renameDefaults,w)}),$}},schema:{method(u="any"){return this.$_addRule({name:"schema",args:{type:u}})},validate:(u,y,{type:w})=>!l.isSchema(u)||w!=="any"&&u.type!==w?y.error("object.schema",{type:w}):u},unknown:{method(u){return this.$_setFlag("unknown",u!==!1)}},with:{method(u,y,w={}){return c.dependency(this,"with",u,y,w)}},without:{method(u,y,w={}){return c.dependency(this,"without",u,y,w)}},xor:{method(...u){return l.verifyFlat(u,"xor"),c.dependency(this,"xor",null,u)}}},overrides:{default(u,y){return u===void 0&&(u=l.symbols.deepDefault),this.$_parent("default",u,y)}},rebuild(u){if(u.$_terms.keys){let y=new d.Sorter;for(let w of u.$_terms.keys)l.tryWithPath(()=>y.add(w,{after:w.schema.$_rootReferences(),group:w.key}),w.key);u.$_terms.keys=new c.Keys(...y.nodes)}},manifest:{build(u,y){if(y.keys&&(u=u.keys(y.keys)),y.dependencies)for(let{rel:w,key:$=null,peers:O,options:j}of y.dependencies)u=c.dependency(u,w,$,O,j);if(y.patterns)for(let{regex:w,schema:$,rule:O,fallthrough:j,matches:v}of y.patterns)u=u.pattern(w||$,O,{fallthrough:j,matches:v});if(y.renames)for(let{from:w,to:$,options:O}of y.renames)u=u.rename(w,$,O);return u}},messages:{"object.and":"{{#label}} contains {{#presentWithLabels}} without its required peers {{#missingWithLabels}}","object.assert":'{{#label}} is invalid because {if(#subject.key, `"` + #subject.key + `" failed to ` + (#message || "pass the assertion test"), #message || "the assertion failed")}',"object.base":"{{#label}} must be of type {{#type}}","object.instance":"{{#label}} must be an instance of {{:#type}}","object.length":'{{#label}} must have {{#limit}} key{if(#limit == 1, "", "s")}',"object.max":'{{#label}} must have less than or equal to {{#limit}} key{if(#limit == 1, "", "s")}',"object.min":'{{#label}} must have at least {{#limit}} key{if(#limit == 1, "", "s")}',"object.missing":"{{#label}} must contain at least one of {{#peersWithLabels}}","object.nand":"{{:#mainWithLabel}} must not exist simultaneously with {{#peersWithLabels}}","object.oxor":"{{#label}} contains a conflict between optional exclusive peers {{#peersWithLabels}}","object.pattern.match":"{{#label}} keys failed to match pattern requirements","object.refType":"{{#label}} must be a Joi reference","object.regex":"{{#label}} must be a RegExp object","object.rename.multiple":"{{#label}} cannot rename {{:#from}} because multiple renames are disabled and another key was already renamed to {{:#to}}","object.rename.override":"{{#label}} cannot rename {{:#from}} because override is disabled and target {{:#to}} exists","object.schema":"{{#label}} must be a Joi schema of {{#type}} type","object.unknown":"{{#label}} is not allowed","object.with":"{{:#mainWithLabel}} missing required peer {{:#peerWithLabel}}","object.without":"{{:#mainWithLabel}} conflict with forbidden peer {{:#peerWithLabel}}","object.xor":"{{#label}} contains a conflict between exclusive peers {{#peersWithLabels}}"}}),c.clone=function(u,y){if(typeof u=="object"){if(y.nonEnumerables)return _(u,{shallow:!0});let $=Object.create(Object.getPrototypeOf(u));return Object.assign($,u),$}let w=function(...$){return u.apply(this,$)};return w.prototype=_(u.prototype),Object.defineProperty(w,"name",{value:u.name,writable:!1}),Object.defineProperty(w,"length",{value:u.length,writable:!1}),Object.assign(w,u),w},c.dependency=function(u,y,w,$,O){b(w===null||typeof w=="string",y,"key must be a strings"),O||(O=$.length>1&&typeof $[$.length-1]=="object"?$.pop():{}),l.assertOptions(O,["separator","isPresent"]),$=[].concat($);let j=l.default(O.separator,"."),v=[];for(let S of $)b(typeof S=="string",y,"peers must be strings"),v.push(a.ref(S,{separator:j,ancestor:0,prefix:!1}));w!==null&&(w=a.ref(w,{separator:j,ancestor:0,prefix:!1}));let x=u.clone();return x.$_terms.dependencies=x.$_terms.dependencies||[],x.$_terms.dependencies.push(new c.Dependency(y,w,v,$,O)),x},c.dependencies={and(u,y,w,$,O){let j=[],v=[],x=y.peers.length,S=c.isPresent(y.options);for(let k of y.peers)S(k.resolve(w,$,O,null,{shadow:!1}))===!1?j.push(k.key):v.push(k.key);if(j.length!==x&&v.length!==x)return{code:"object.and",context:{present:v,presentWithLabels:c.keysToLabels(u,v),missing:j,missingWithLabels:c.keysToLabels(u,j)}}},nand(u,y,w,$,O){let j=[],v=c.isPresent(y.options);for(let k of y.peers)v(k.resolve(w,$,O,null,{shadow:!1}))&&j.push(k.key);if(j.length!==y.peers.length)return;let x=y.paths[0],S=y.paths.slice(1);return{code:"object.nand",context:{main:x,mainWithLabel:c.keysToLabels(u,x),peers:S,peersWithLabels:c.keysToLabels(u,S)}}},or(u,y,w,$,O){let j=c.isPresent(y.options);for(let v of y.peers)if(j(v.resolve(w,$,O,null,{shadow:!1})))return;return{code:"object.missing",context:{peers:y.paths,peersWithLabels:c.keysToLabels(u,y.paths)}}},oxor(u,y,w,$,O){let j=[],v=c.isPresent(y.options);for(let S of y.peers)v(S.resolve(w,$,O,null,{shadow:!1}))&&j.push(S.key);if(!j.length||j.length===1)return;let x={peers:y.paths,peersWithLabels:c.keysToLabels(u,y.paths)};return x.present=j,x.presentWithLabels=c.keysToLabels(u,j),{code:"object.oxor",context:x}},with(u,y,w,$,O){let j=c.isPresent(y.options);for(let v of y.peers)if(j(v.resolve(w,$,O,null,{shadow:!1}))===!1)return{code:"object.with",context:{main:y.key.key,mainWithLabel:c.keysToLabels(u,y.key.key),peer:v.key,peerWithLabel:c.keysToLabels(u,v.key)}}},without(u,y,w,$,O){let j=c.isPresent(y.options);for(let v of y.peers)if(j(v.resolve(w,$,O,null,{shadow:!1})))return{code:"object.without",context:{main:y.key.key,mainWithLabel:c.keysToLabels(u,y.key.key),peer:v.key,peerWithLabel:c.keysToLabels(u,v.key)}}},xor(u,y,w,$,O){let j=[],v=c.isPresent(y.options);for(let S of y.peers)v(S.resolve(w,$,O,null,{shadow:!1}))&&j.push(S.key);if(j.length===1)return;let x={peers:y.paths,peersWithLabels:c.keysToLabels(u,y.paths)};return j.length===0?{code:"object.missing",context:x}:(x.present=j,x.presentWithLabels=c.keysToLabels(u,j),{code:"object.xor",context:x})}},c.keysToLabels=function(u,y){return Array.isArray(y)?y.map(w=>u.$_mapLabels(w)):u.$_mapLabels(y)},c.isPresent=function(u){return typeof u.isPresent=="function"?u.isPresent:y=>y!==void 0},c.rename=function(u,y,w,$,O){let j={};for(let v of u.$_terms.renames){let x=[],S=typeof v.from!="string";if(S)for(let k in y){if(y[k]===void 0&&v.options.ignoreUndefined||k===v.to)continue;let T=v.from.exec(k);T&&x.push({from:k,to:v.to,match:T})}else!Object.prototype.hasOwnProperty.call(y,v.from)||y[v.from]===void 0&&v.options.ignoreUndefined||x.push(v);for(let k of x){let T=k.from,E=k.to;if(E instanceof p&&(E=E.render(y,w,$,k.match)),T!==E){if(!v.options.multiple&&j[E]&&(O.push(u.$_createError("object.rename.multiple",y,{from:T,to:E,pattern:S},w,$)),$.abortEarly)||Object.prototype.hasOwnProperty.call(y,E)&&!v.options.override&&!j[E]&&(O.push(u.$_createError("object.rename.override",y,{from:T,to:E,pattern:S},w,$)),$.abortEarly))return!1;y[T]===void 0?delete y[E]:y[E]=y[T],j[E]=!0,v.options.alias||delete y[T]}}}return!0},c.unknown=function(u,y,w,$,O,j){if(u.$_terms.patterns){let v=!1,x=u.$_terms.patterns.map(k=>{if(k.matches)return v=!0,[]}),S=[y,...O.ancestors];for(let k of w){let T=y[k],E=[...O.path,k];for(let W=0;W<u.$_terms.patterns.length;++W){let R=u.$_terms.patterns[W];if(R.regex){let B=R.regex.test(k);if(O.mainstay.tracer.debug(O,"rule",`pattern.${W}`,B?"pass":"error"),!B)continue}else if(!R.schema.$_match(k,O.nest(R.schema,`pattern.${W}`),j))continue;w.delete(k);let I=O.localize(E,S,{schema:R.rule,key:k}),P=R.rule.$_validate(T,I,j);if(P.errors){if(j.abortEarly)return{value:y,errors:P.errors};$.push(...P.errors)}if(R.matches&&x[W].push(k),y[k]=P.value,!R.fallthrough)break}}if(v)for(let k=0;k<x.length;++k){let T=x[k];if(!T)continue;let E=u.$_terms.patterns[k].matches,W=O.localize(O.path,S,E),R=E.$_validate(T,W,j);if(R.errors){let I=s.details(R.errors,{override:!1});I.matches=T;let P=u.$_createError("object.pattern.match",y,I,O,j);if(j.abortEarly)return{value:y,errors:P};$.push(P)}}}if(w.size&&(u.$_terms.keys||u.$_terms.patterns)){if(j.stripUnknown&&u._flags.unknown===void 0||j.skipFunctions){let v=!(!j.stripUnknown||j.stripUnknown!==!0&&!j.stripUnknown.objects);for(let x of w)v?(delete y[x],w.delete(x)):typeof y[x]=="function"&&w.delete(x)}if(!l.default(u._flags.unknown,j.allowUnknown))for(let v of w){let x=O.localize([...O.path,v],[]),S=u.$_createError("object.unknown",y[v],{child:v},x,j,{flags:!1});if(j.abortEarly)return{value:y,errors:S};$.push(S)}}},c.Dependency=class{constructor(u,y,w,$,O){this.rel=u,this.key=y,this.peers=w,this.paths=$,this.options=O}describe(){let u={rel:this.rel,peers:this.paths};return this.key!==null&&(u.key=this.key.key),this.peers[0].separator!=="."&&(u.options={...u.options,separator:this.peers[0].separator}),this.options.isPresent&&(u.options={...u.options,isPresent:this.options.isPresent}),u}},c.Keys=class extends Array{concat(u){let y=this.slice(),w=new Map;for(let $=0;$<y.length;++$)w.set(y[$].key,$);for(let $ of u){let O=$.key,j=w.get(O);j!==void 0?y[j]={key:O,schema:y[j].schema.concat($.schema)}:y.push($)}return y}}},8785:(m,g,h)=>{let i=h(375),b=h(8068),_=h(8160),d=h(3292),n=h(6354),l={};m.exports=b.extend({type:"link",properties:{schemaChain:!0},terms:{link:{init:null,manifest:"single",register:!1}},args:(a,s)=>a.ref(s),validate(a,{schema:s,state:r,prefs:p}){i(s.$_terms.link,"Uninitialized link schema");let c=l.generate(s,a,r,p),u=s.$_terms.link[0].ref;return c.$_validate(a,r.nest(c,`link:${u.display}:${c.type}`),p)},generate:(a,s,r,p)=>l.generate(a,s,r,p),rules:{ref:{method(a){i(!this.$_terms.link,"Cannot reinitialize schema"),a=d.ref(a),i(a.type==="value"||a.type==="local","Invalid reference type:",a.type),i(a.type==="local"||a.ancestor==="root"||a.ancestor>0,"Link cannot reference itself");let s=this.clone();return s.$_terms.link=[{ref:a}],s}},relative:{method(a=!0){return this.$_setFlag("relative",a)}}},overrides:{concat(a){i(this.$_terms.link,"Uninitialized link schema"),i(_.isSchema(a),"Invalid schema object"),i(a.type!=="link","Cannot merge type link with another link");let s=this.clone();return s.$_terms.whens||(s.$_terms.whens=[]),s.$_terms.whens.push({concat:a}),s.$_mutateRebuild()}},manifest:{build:(a,s)=>(i(s.link,"Invalid link description missing link"),a.ref(s.link))}}),l.generate=function(a,s,r,p){let c=r.mainstay.links.get(a);if(c)return c._generate(s,r,p).schema;let u=a.$_terms.link[0].ref,{perspective:y,path:w}=l.perspective(u,r);l.assert(y,"which is outside of schema boundaries",u,a,r,p);try{c=w.length?y.$_reach(w):y}catch{l.assert(!1,"to non-existing schema",u,a,r,p)}return l.assert(c.type!=="link","which is another link",u,a,r,p),a._flags.relative||r.mainstay.links.set(a,c),c._generate(s,r,p).schema},l.perspective=function(a,s){if(a.type==="local"){for(let{schema:r,key:p}of s.schemas){if((r._flags.id||p)===a.path[0])return{perspective:r,path:a.path.slice(1)};if(r.$_terms.shared){for(let c of r.$_terms.shared)if(c._flags.id===a.path[0])return{perspective:c,path:a.path.slice(1)}}}return{perspective:null,path:null}}return a.ancestor==="root"?{perspective:s.schemas[s.schemas.length-1].schema,path:a.path}:{perspective:s.schemas[a.ancestor]&&s.schemas[a.ancestor].schema,path:a.path}},l.assert=function(a,s,r,p,c,u){a||i(!1,`"${n.label(p._flags,c,u)}" contains link reference "${r.display}" ${s}`)}},3832:(m,g,h)=>{let i=h(375),b=h(8068),_=h(8160),d={numberRx:/^\s*[+-]?(?:(?:\d+(?:\.\d*)?)|(?:\.\d+))(?:e([+-]?\d+))?\s*$/i,precisionRx:/(?:\.(\d+))?(?:[eE]([+-]?\d+))?$/,exponentialPartRegex:/[eE][+-]?\d+$/,leadingSignAndZerosRegex:/^[+-]?(0*)?/,dotRegex:/\./,trailingZerosRegex:/0+$/,decimalPlaces(n){let l=n.toString(),a=l.indexOf("."),s=l.indexOf("e");return(a<0?0:(s<0?l.length:s)-a-1)+(s<0?0:Math.max(0,-parseInt(l.slice(s+1))))}};m.exports=b.extend({type:"number",flags:{unsafe:{default:!1}},coerce:{from:"string",method(n,{schema:l,error:a}){if(!n.match(d.numberRx))return;n=n.trim();let s={value:parseFloat(n)};if(s.value===0&&(s.value=0),!l._flags.unsafe)if(n.match(/e/i)){if(d.extractSignificantDigits(n)!==d.extractSignificantDigits(String(s.value)))return s.errors=a("number.unsafe"),s}else{let r=s.value.toString();if(r.match(/e/i))return s;if(r!==d.normalizeDecimal(n))return s.errors=a("number.unsafe"),s}return s}},validate(n,{schema:l,error:a,prefs:s}){if(n===1/0||n===-1/0)return{value:n,errors:a("number.infinity")};if(!_.isNumber(n))return{value:n,errors:a("number.base")};let r={value:n};if(s.convert){let p=l.$_getRule("precision");if(p){let c=Math.pow(10,p.args.limit);r.value=Math.round(r.value*c)/c}}return r.value===0&&(r.value=0),!l._flags.unsafe&&(n>Number.MAX_SAFE_INTEGER||n<Number.MIN_SAFE_INTEGER)&&(r.errors=a("number.unsafe")),r},rules:{compare:{method:!1,validate:(n,l,{limit:a},{name:s,operator:r,args:p})=>_.compare(n,a,r)?n:l.error("number."+s,{limit:p.limit,value:n}),args:[{name:"limit",ref:!0,assert:_.isNumber,message:"must be a number"}]},greater:{method(n){return this.$_addRule({name:"greater",method:"compare",args:{limit:n},operator:">"})}},integer:{method(){return this.$_addRule("integer")},validate:(n,l)=>Math.trunc(n)-n==0?n:l.error("number.integer")},less:{method(n){return this.$_addRule({name:"less",method:"compare",args:{limit:n},operator:"<"})}},max:{method(n){return this.$_addRule({name:"max",method:"compare",args:{limit:n},operator:"<="})}},min:{method(n){return this.$_addRule({name:"min",method:"compare",args:{limit:n},operator:">="})}},multiple:{method(n){let l=typeof n=="number"?d.decimalPlaces(n):null,a=Math.pow(10,l);return this.$_addRule({name:"multiple",args:{base:n,baseDecimalPlace:l,pfactor:a}})},validate:(n,l,{base:a,baseDecimalPlace:s,pfactor:r},p)=>d.decimalPlaces(n)>s?l.error("number.multiple",{multiple:p.args.base,value:n}):Math.round(r*n)%Math.round(r*a)==0?n:l.error("number.multiple",{multiple:p.args.base,value:n}),args:[{name:"base",ref:!0,assert:n=>typeof n=="number"&&isFinite(n)&&n>0,message:"must be a positive number"},"baseDecimalPlace","pfactor"],multi:!0},negative:{method(){return this.sign("negative")}},port:{method(){return this.$_addRule("port")},validate:(n,l)=>Number.isSafeInteger(n)&&n>=0&&n<=65535?n:l.error("number.port")},positive:{method(){return this.sign("positive")}},precision:{method(n){return i(Number.isSafeInteger(n),"limit must be an integer"),this.$_addRule({name:"precision",args:{limit:n}})},validate(n,l,{limit:a}){let s=n.toString().match(d.precisionRx);return Math.max((s[1]?s[1].length:0)-(s[2]?parseInt(s[2],10):0),0)<=a?n:l.error("number.precision",{limit:a,value:n})},convert:!0},sign:{method(n){return i(["negative","positive"].includes(n),"Invalid sign",n),this.$_addRule({name:"sign",args:{sign:n}})},validate:(n,l,{sign:a})=>a==="negative"&&n<0||a==="positive"&&n>0?n:l.error(`number.${a}`)},unsafe:{method(n=!0){return i(typeof n=="boolean","enabled must be a boolean"),this.$_setFlag("unsafe",n)}}},cast:{string:{from:n=>typeof n=="number",to:(n,l)=>n.toString()}},messages:{"number.base":"{{#label}} must be a number","number.greater":"{{#label}} must be greater than {{#limit}}","number.infinity":"{{#label}} cannot be infinity","number.integer":"{{#label}} must be an integer","number.less":"{{#label}} must be less than {{#limit}}","number.max":"{{#label}} must be less than or equal to {{#limit}}","number.min":"{{#label}} must be greater than or equal to {{#limit}}","number.multiple":"{{#label}} must be a multiple of {{#multiple}}","number.negative":"{{#label}} must be a negative number","number.port":"{{#label}} must be a valid port","number.positive":"{{#label}} must be a positive number","number.precision":"{{#label}} must have no more than {{#limit}} decimal places","number.unsafe":"{{#label}} must be a safe number"}}),d.extractSignificantDigits=function(n){return n.replace(d.exponentialPartRegex,"").replace(d.dotRegex,"").replace(d.trailingZerosRegex,"").replace(d.leadingSignAndZerosRegex,"")},d.normalizeDecimal=function(n){return(n=n.replace(/^\+/,"").replace(/\.0*$/,"").replace(/^(-?)\.([^\.]*)$/,"$10.$2").replace(/^(-?)0+([0-9])/,"$1$2")).includes(".")&&n.endsWith("0")&&(n=n.replace(/0+$/,"")),n==="-0"?"0":n}},8966:(m,g,h)=>{let i=h(7824);m.exports=i.extend({type:"object",cast:{map:{from:b=>b&&typeof b=="object",to:(b,_)=>new Map(Object.entries(b))}}})},7417:(m,g,h)=>{let i=h(375),b=h(5380),_=h(1745),d=h(9959),n=h(6064),l=h(9926),a=h(5752),s=h(8068),r=h(8160),p={tlds:l instanceof Set&&{tlds:{allow:l,deny:null}},base64Regex:{true:{true:/^(?:[\w\-]{2}[\w\-]{2})*(?:[\w\-]{2}==|[\w\-]{3}=)?$/,false:/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}==|[A-Za-z0-9+\/]{3}=)?$/},false:{true:/^(?:[\w\-]{2}[\w\-]{2})*(?:[\w\-]{2}(==)?|[\w\-]{3}=?)?$/,false:/^(?:[A-Za-z0-9+\/]{2}[A-Za-z0-9+\/]{2})*(?:[A-Za-z0-9+\/]{2}(==)?|[A-Za-z0-9+\/]{3}=?)?$/}},dataUriRegex:/^data:[\w+.-]+\/[\w+.-]+;((charset=[\w-]+|base64),)?(.*)$/,hexRegex:{withPrefix:/^0x[0-9a-f]+$/i,withOptionalPrefix:/^(?:0x)?[0-9a-f]+$/i,withoutPrefix:/^[0-9a-f]+$/i},ipRegex:d.regex({cidr:"forbidden"}).regex,isoDurationRegex:/^P(?!$)(\d+Y)?(\d+M)?(\d+W)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+S)?)?$/,guidBrackets:{"{":"}","[":"]","(":")","":""},guidVersions:{uuidv1:"1",uuidv2:"2",uuidv3:"3",uuidv4:"4",uuidv5:"5",uuidv6:"6",uuidv7:"7",uuidv8:"8"},guidSeparators:new Set([void 0,!0,!1,"-",":"]),normalizationForms:["NFC","NFD","NFKC","NFKD"]};m.exports=s.extend({type:"string",flags:{insensitive:{default:!1},truncate:{default:!1}},terms:{replacements:{init:null}},coerce:{from:"string",method(c,{schema:u,state:y,prefs:w}){let $=u.$_getRule("normalize");$&&(c=c.normalize($.args.form));let O=u.$_getRule("case");O&&(c=O.args.direction==="upper"?c.toLocaleUpperCase():c.toLocaleLowerCase());let j=u.$_getRule("trim");if(j&&j.args.enabled&&(c=c.trim()),u.$_terms.replacements)for(let x of u.$_terms.replacements)c=c.replace(x.pattern,x.replacement);let v=u.$_getRule("hex");if(v&&v.args.options.byteAligned&&c.length%2!=0&&(c=`0${c}`),u.$_getRule("isoDate")){let x=p.isoDate(c);x&&(c=x)}if(u._flags.truncate){let x=u.$_getRule("max");if(x){let S=x.args.limit;if(r.isResolvable(S)&&(S=S.resolve(c,y,w),!r.limit(S)))return{value:c,errors:u.$_createError("any.ref",S,{ref:x.args.limit,arg:"limit",reason:"must be a positive integer"},y,w)};c=c.slice(0,S)}}return{value:c}}},validate(c,{schema:u,error:y}){if(typeof c!="string")return{value:c,errors:y("string.base")};if(c===""){let w=u.$_getRule("min");return w&&w.args.limit===0?void 0:{value:c,errors:y("string.empty")}}},rules:{alphanum:{method(){return this.$_addRule("alphanum")},validate:(c,u)=>/^[a-zA-Z0-9]+$/.test(c)?c:u.error("string.alphanum")},base64:{method(c={}){return r.assertOptions(c,["paddingRequired","urlSafe"]),c={urlSafe:!1,paddingRequired:!0,...c},i(typeof c.paddingRequired=="boolean","paddingRequired must be boolean"),i(typeof c.urlSafe=="boolean","urlSafe must be boolean"),this.$_addRule({name:"base64",args:{options:c}})},validate:(c,u,{options:y})=>p.base64Regex[y.paddingRequired][y.urlSafe].test(c)?c:u.error("string.base64")},case:{method(c){return i(["lower","upper"].includes(c),"Invalid case:",c),this.$_addRule({name:"case",args:{direction:c}})},validate:(c,u,{direction:y})=>y==="lower"&&c===c.toLocaleLowerCase()||y==="upper"&&c===c.toLocaleUpperCase()?c:u.error(`string.${y}case`),convert:!0},creditCard:{method(){return this.$_addRule("creditCard")},validate(c,u){let y=c.length,w=0,$=1;for(;y--;){let O=c.charAt(y)*$;w+=O-9*(O>9),$^=3}return w>0&&w%10==0?c:u.error("string.creditCard")}},dataUri:{method(c={}){return r.assertOptions(c,["paddingRequired"]),c={paddingRequired:!0,...c},i(typeof c.paddingRequired=="boolean","paddingRequired must be boolean"),this.$_addRule({name:"dataUri",args:{options:c}})},validate(c,u,{options:y}){let w=c.match(p.dataUriRegex);return w&&(!w[2]||w[2]!=="base64"||p.base64Regex[y.paddingRequired].false.test(w[3]))?c:u.error("string.dataUri")}},domain:{method(c){c&&r.assertOptions(c,["allowFullyQualified","allowUnicode","maxDomainSegments","minDomainSegments","tlds"]);let u=p.addressOptions(c);return this.$_addRule({name:"domain",args:{options:c},address:u})},validate:(c,u,y,{address:w})=>b.isValid(c,w)?c:u.error("string.domain")},email:{method(c={}){r.assertOptions(c,["allowFullyQualified","allowUnicode","ignoreLength","maxDomainSegments","minDomainSegments","multiple","separator","tlds"]),i(c.multiple===void 0||typeof c.multiple=="boolean","multiple option must be an boolean");let u=p.addressOptions(c),y=new RegExp(`\\s*[${c.separator?n(c.separator):","}]\\s*`);return this.$_addRule({name:"email",args:{options:c},regex:y,address:u})},validate(c,u,{options:y},{regex:w,address:$}){let O=y.multiple?c.split(w):[c],j=[];for(let v of O)_.isValid(v,$)||j.push(v);return j.length?u.error("string.email",{value:c,invalids:j}):c}},guid:{alias:"uuid",method(c={}){r.assertOptions(c,["version","separator"]);let u="";if(c.version){let $=[].concat(c.version);i($.length>=1,"version must have at least 1 valid version specified");let O=new Set;for(let j=0;j<$.length;++j){let v=$[j];i(typeof v=="string","version at position "+j+" must be a string");let x=p.guidVersions[v.toLowerCase()];i(x,"version at position "+j+" must be one of "+Object.keys(p.guidVersions).join(", ")),i(!O.has(x),"version at position "+j+" must not be a duplicate"),u+=x,O.add(x)}}i(p.guidSeparators.has(c.separator),'separator must be one of true, false, "-", or ":"');let y=c.separator===void 0?"[:-]?":c.separator===!0?"[:-]":c.separator===!1?"[]?":`\\${c.separator}`,w=new RegExp(`^([\\[{\\(]?)[0-9A-F]{8}(${y})[0-9A-F]{4}\\2?[${u||"0-9A-F"}][0-9A-F]{3}\\2?[${u?"89AB":"0-9A-F"}][0-9A-F]{3}\\2?[0-9A-F]{12}([\\]}\\)]?)$`,"i");return this.$_addRule({name:"guid",args:{options:c},regex:w})},validate(c,u,y,{regex:w}){let $=w.exec(c);return $?p.guidBrackets[$[1]]!==$[$.length-1]?u.error("string.guid"):c:u.error("string.guid")}},hex:{method(c={}){return r.assertOptions(c,["byteAligned","prefix"]),c={byteAligned:!1,prefix:!1,...c},i(typeof c.byteAligned=="boolean","byteAligned must be boolean"),i(typeof c.prefix=="boolean"||c.prefix==="optional",'prefix must be boolean or "optional"'),this.$_addRule({name:"hex",args:{options:c}})},validate:(c,u,{options:y})=>(y.prefix==="optional"?p.hexRegex.withOptionalPrefix:y.prefix===!0?p.hexRegex.withPrefix:p.hexRegex.withoutPrefix).test(c)?y.byteAligned&&c.length%2!=0?u.error("string.hexAlign"):c:u.error("string.hex")},hostname:{method(){return this.$_addRule("hostname")},validate:(c,u)=>b.isValid(c,{minDomainSegments:1})||p.ipRegex.test(c)?c:u.error("string.hostname")},insensitive:{method(){return this.$_setFlag("insensitive",!0)}},ip:{method(c={}){r.assertOptions(c,["cidr","version"]);let{cidr:u,versions:y,regex:w}=d.regex(c),$=c.version?y:void 0;return this.$_addRule({name:"ip",args:{options:{cidr:u,version:$}},regex:w})},validate:(c,u,{options:y},{regex:w})=>w.test(c)?c:y.version?u.error("string.ipVersion",{value:c,cidr:y.cidr,version:y.version}):u.error("string.ip",{value:c,cidr:y.cidr})},isoDate:{method(){return this.$_addRule("isoDate")},validate:(c,{error:u})=>p.isoDate(c)?c:u("string.isoDate")},isoDuration:{method(){return this.$_addRule("isoDuration")},validate:(c,u)=>p.isoDurationRegex.test(c)?c:u.error("string.isoDuration")},length:{method(c,u){return p.length(this,"length",c,"=",u)},validate(c,u,{limit:y,encoding:w},{name:$,operator:O,args:j}){let v=!w&&c.length;return r.compare(v,y,O)?c:u.error("string."+$,{limit:j.limit,value:c,encoding:w})},args:[{name:"limit",ref:!0,assert:r.limit,message:"must be a positive integer"},"encoding"]},lowercase:{method(){return this.case("lower")}},max:{method(c,u){return p.length(this,"max",c,"<=",u)},args:["limit","encoding"]},min:{method(c,u){return p.length(this,"min",c,">=",u)},args:["limit","encoding"]},normalize:{method(c="NFC"){return i(p.normalizationForms.includes(c),"normalization form must be one of "+p.normalizationForms.join(", ")),this.$_addRule({name:"normalize",args:{form:c}})},validate:(c,{error:u},{form:y})=>c===c.normalize(y)?c:u("string.normalize",{value:c,form:y}),convert:!0},pattern:{alias:"regex",method(c,u={}){i(c instanceof RegExp,"regex must be a RegExp"),i(!c.flags.includes("g")&&!c.flags.includes("y"),"regex should not use global or sticky mode"),typeof u=="string"&&(u={name:u}),r.assertOptions(u,["invert","name"]);let y=["string.pattern",u.invert?".invert":"",u.name?".name":".base"].join("");return this.$_addRule({name:"pattern",args:{regex:c,options:u},errorCode:y})},validate:(c,u,{regex:y,options:w},{errorCode:$})=>y.test(c)^w.invert?c:u.error($,{name:w.name,regex:y,value:c}),args:["regex","options"],multi:!0},replace:{method(c,u){typeof c=="string"&&(c=new RegExp(n(c),"g")),i(c instanceof RegExp,"pattern must be a RegExp"),i(typeof u=="string","replacement must be a String");let y=this.clone();return y.$_terms.replacements||(y.$_terms.replacements=[]),y.$_terms.replacements.push({pattern:c,replacement:u}),y}},token:{method(){return this.$_addRule("token")},validate:(c,u)=>/^\w+$/.test(c)?c:u.error("string.token")},trim:{method(c=!0){return i(typeof c=="boolean","enabled must be a boolean"),this.$_addRule({name:"trim",args:{enabled:c}})},validate:(c,u,{enabled:y})=>y&&c!==c.trim()?u.error("string.trim"):c,convert:!0},truncate:{method(c=!0){return i(typeof c=="boolean","enabled must be a boolean"),this.$_setFlag("truncate",c)}},uppercase:{method(){return this.case("upper")}},uri:{method(c={}){r.assertOptions(c,["allowRelative","allowQuerySquareBrackets","domain","relativeOnly","scheme","encodeUri"]),c.domain&&r.assertOptions(c.domain,["allowFullyQualified","allowUnicode","maxDomainSegments","minDomainSegments","tlds"]);let{regex:u,scheme:y}=a.regex(c),w=c.domain?p.addressOptions(c.domain):null;return this.$_addRule({name:"uri",args:{options:c},regex:u,domain:w,scheme:y})},validate(c,u,{options:y},{regex:w,domain:$,scheme:O}){if(["http:/","https:/"].includes(c))return u.error("string.uri");let j=w.exec(c);if(!j&&u.prefs.convert&&y.encodeUri){let v=encodeURI(c);j=w.exec(v),j&&(c=v)}if(j){let v=j[1]||j[2];return!$||y.allowRelative&&!v||b.isValid(v,$)?c:u.error("string.domain",{value:v})}return y.relativeOnly?u.error("string.uriRelativeOnly"):y.scheme?u.error("string.uriCustomScheme",{scheme:O,value:c}):u.error("string.uri")}}},manifest:{build(c,u){if(u.replacements)for(let{pattern:y,replacement:w}of u.replacements)c=c.replace(y,w);return c}},messages:{"string.alphanum":"{{#label}} must only contain alpha-numeric characters","string.base":"{{#label}} must be a string","string.base64":"{{#label}} must be a valid base64 string","string.creditCard":"{{#label}} must be a credit card","string.dataUri":"{{#label}} must be a valid dataUri string","string.domain":"{{#label}} must contain a valid domain name","string.email":"{{#label}} must be a valid email","string.empty":"{{#label}} is not allowed to be empty","string.guid":"{{#label}} must be a valid GUID","string.hex":"{{#label}} must only contain hexadecimal characters","string.hexAlign":"{{#label}} hex decoded representation must be byte aligned","string.hostname":"{{#label}} must be a valid hostname","string.ip":"{{#label}} must be a valid ip address with a {{#cidr}} CIDR","string.ipVersion":"{{#label}} must be a valid ip address of one of the following versions {{#version}} with a {{#cidr}} CIDR","string.isoDate":"{{#label}} must be in iso format","string.isoDuration":"{{#label}} must be a valid ISO 8601 duration","string.length":"{{#label}} length must be {{#limit}} characters long","string.lowercase":"{{#label}} must only contain lowercase characters","string.max":"{{#label}} length must be less than or equal to {{#limit}} characters long","string.min":"{{#label}} length must be at least {{#limit}} characters long","string.normalize":"{{#label}} must be unicode normalized in the {{#form}} form","string.token":"{{#label}} must only contain alpha-numeric and underscore characters","string.pattern.base":"{{#label}} with value {:[.]} fails to match the required pattern: {{#regex}}","string.pattern.name":"{{#label}} with value {:[.]} fails to match the {{#name}} pattern","string.pattern.invert.base":"{{#label}} with value {:[.]} matches the inverted pattern: {{#regex}}","string.pattern.invert.name":"{{#label}} with value {:[.]} matches the inverted {{#name}} pattern","string.trim":"{{#label}} must not have leading or trailing whitespace","string.uri":"{{#label}} must be a valid uri","string.uriCustomScheme":"{{#label}} must be a valid uri with a scheme matching the {{#scheme}} pattern","string.uriRelativeOnly":"{{#label}} must be a valid relative uri","string.uppercase":"{{#label}} must only contain uppercase characters"}}),p.addressOptions=function(c){if(!c)return p.tlds||c;if(i(c.minDomainSegments===void 0||Number.isSafeInteger(c.minDomainSegments)&&c.minDomainSegments>0,"minDomainSegments must be a positive integer"),i(c.maxDomainSegments===void 0||Number.isSafeInteger(c.maxDomainSegments)&&c.maxDomainSegments>0,"maxDomainSegments must be a positive integer"),c.tlds===!1)return c;if(c.tlds===!0||c.tlds===void 0)return i(p.tlds,"Built-in TLD list disabled"),Object.assign({},c,p.tlds);i(typeof c.tlds=="object","tlds must be true, false, or an object");let u=c.tlds.deny;if(u)return Array.isArray(u)&&(c=Object.assign({},c,{tlds:{deny:new Set(u)}})),i(c.tlds.deny instanceof Set,"tlds.deny must be an array, Set, or boolean"),i(!c.tlds.allow,"Cannot specify both tlds.allow and tlds.deny lists"),p.validateTlds(c.tlds.deny,"tlds.deny"),c;let y=c.tlds.allow;return y?y===!0?(i(p.tlds,"Built-in TLD list disabled"),Object.assign({},c,p.tlds)):(Array.isArray(y)&&(c=Object.assign({},c,{tlds:{allow:new Set(y)}})),i(c.tlds.allow instanceof Set,"tlds.allow must be an array, Set, or boolean"),p.validateTlds(c.tlds.allow,"tlds.allow"),c):c},p.validateTlds=function(c,u){for(let y of c)i(b.isValid(y,{minDomainSegments:1,maxDomainSegments:1}),`${u} must contain valid top level domain names`)},p.isoDate=function(c){if(!r.isIsoDate(c))return null;/.*T.*[+-]\d\d$/.test(c)&&(c+="00");let u=new Date(c);return isNaN(u.getTime())?null:u.toISOString()},p.length=function(c,u,y,w,$){return i(!$||!1,"Invalid encoding:",$),c.$_addRule({name:u,method:"length",args:{limit:y,encoding:$},operator:w})}},8826:(m,g,h)=>{let i=h(375),b=h(8068),_={};_.Map=class extends Map{slice(){return new _.Map(this)}},m.exports=b.extend({type:"symbol",terms:{map:{init:new _.Map}},coerce:{method(d,{schema:n,error:l}){let a=n.$_terms.map.get(d);return a&&(d=a),n._flags.only&&typeof d!="symbol"?{value:d,errors:l("symbol.map",{map:n.$_terms.map})}:{value:d}}},validate(d,{error:n}){if(typeof d!="symbol")return{value:d,errors:n("symbol.base")}},rules:{map:{method(d){d&&!d[Symbol.iterator]&&typeof d=="object"&&(d=Object.entries(d)),i(d&&d[Symbol.iterator],"Iterable must be an iterable or object");let n=this.clone(),l=[];for(let a of d){i(a&&a[Symbol.iterator],"Entry must be an iterable");let[s,r]=a;i(typeof s!="object"&&typeof s!="function"&&typeof s!="symbol","Key must not be of type object, function, or Symbol"),i(typeof r=="symbol","Value must be a Symbol"),n.$_terms.map.set(s,r),l.push(r)}return n.valid(...l)}}},manifest:{build:(d,n)=>(n.map&&(d=d.map(n.map)),d)},messages:{"symbol.base":"{{#label}} must be a symbol","symbol.map":"{{#label}} must be one of {{#map}}"}})},8863:(m,g,h)=>{let i=h(375),b=h(8571),_=h(738),d=h(9621),n=h(8160),l=h(6354),a=h(493),s={result:Symbol("result")};g.entry=function(r,p,c){let u=n.defaults;c&&(i(c.warnings===void 0,"Cannot override warnings preference in synchronous validation"),i(c.artifacts===void 0,"Cannot override artifacts preference in synchronous validation"),u=n.preferences(n.defaults,c));let y=s.entry(r,p,u);i(!y.mainstay.externals.length,"Schema with external rules must use validateAsync()");let w={value:y.value};return y.error&&(w.error=y.error),y.mainstay.warnings.length&&(w.warning=l.details(y.mainstay.warnings)),y.mainstay.debug&&(w.debug=y.mainstay.debug),y.mainstay.artifacts&&(w.artifacts=y.mainstay.artifacts),w},g.entryAsync=async function(r,p,c){let u=n.defaults;c&&(u=n.preferences(n.defaults,c));let y=s.entry(r,p,u),w=y.mainstay;if(y.error)throw w.debug&&(y.error.debug=w.debug),y.error;if(w.externals.length){let O=y.value,j=[];for(let v of w.externals){let x=v.state.path,S=v.schema.type==="link"?w.links.get(v.schema):null,k,T,E=O,W=x.length?[O]:[],R=x.length?d(r,x):r;if(x.length){k=x[x.length-1];let I=O;for(let P of x.slice(0,-1))I=I[P],W.unshift(I);T=W[0],E=T[k]}try{let I=(B,Q)=>(S||v.schema).$_createError(B,E,Q,v.state,u),P=await v.method(E,{schema:v.schema,linked:S,state:v.state,prefs:c,original:R,error:I,errorsArray:s.errorsArray,warn:(B,Q)=>w.warnings.push((S||v.schema).$_createError(B,E,Q,v.state,u)),message:(B,Q)=>(S||v.schema).$_createError("external",E,Q,v.state,u,{messages:B})});if(P===void 0||P===E)continue;if(P instanceof l.Report){if(w.tracer.log(v.schema,v.state,"rule","external","error"),j.push(P),u.abortEarly)break;continue}if(Array.isArray(P)&&P[n.symbols.errors]){if(w.tracer.log(v.schema,v.state,"rule","external","error"),j.push(...P),u.abortEarly)break;continue}T?(w.tracer.value(v.state,"rule",E,P,"external"),T[k]=P):(w.tracer.value(v.state,"rule",O,P,"external"),O=P)}catch(I){throw u.errors.label&&(I.message+=` (${v.label})`),I}}if(y.value=O,j.length)throw y.error=l.process(j,r,u),w.debug&&(y.error.debug=w.debug),y.error}if(!u.warnings&&!u.debug&&!u.artifacts)return y.value;let $={value:y.value};return w.warnings.length&&($.warning=l.details(w.warnings)),w.debug&&($.debug=w.debug),w.artifacts&&($.artifacts=w.artifacts),$},s.Mainstay=class{constructor(r,p,c){this.externals=[],this.warnings=[],this.tracer=r,this.debug=p,this.links=c,this.shadow=null,this.artifacts=null,this._snapshots=[]}snapshot(){this._snapshots.push({externals:this.externals.slice(),warnings:this.warnings.slice()})}restore(){let r=this._snapshots.pop();this.externals=r.externals,this.warnings=r.warnings}commit(){this._snapshots.pop()}},s.entry=function(r,p,c){let{tracer:u,cleanup:y}=s.tracer(p,c),w=c.debug?[]:null,$=p._ids._schemaChain?new Map:null,O=new s.Mainstay(u,w,$),j=p._ids._schemaChain?[{schema:p}]:null,v=new a([],[],{mainstay:O,schemas:j}),x=g.validate(r,p,v,c);y&&p.$_root.untrace();let S=l.process(x.errors,r,c);return{value:x.value,error:S,mainstay:O}},s.tracer=function(r,p){return r.$_root._tracer?{tracer:r.$_root._tracer._register(r)}:p.debug?(i(r.$_root.trace,"Debug mode not supported"),{tracer:r.$_root.trace()._register(r),cleanup:!0}):{tracer:s.ignore}},g.validate=function(r,p,c,u,y={}){if(p.$_terms.whens&&(p=p._generate(r,c,u).schema),p._preferences&&(u=s.prefs(p,u)),p._cache&&u.cache){let S=p._cache.get(r);if(c.mainstay.tracer.debug(c,"validate","cached",!!S),S)return S}let w=(S,k,T)=>p.$_createError(S,r,k,T||c,u),$={original:r,prefs:u,schema:p,state:c,error:w,errorsArray:s.errorsArray,warn:(S,k,T)=>c.mainstay.warnings.push(w(S,k,T)),message:(S,k)=>p.$_createError("custom",r,k,c,u,{messages:S})};c.mainstay.tracer.entry(p,c);let O=p._definition;if(O.prepare&&r!==void 0&&u.convert){let S=O.prepare(r,$);if(S){if(c.mainstay.tracer.value(c,"prepare",r,S.value),S.errors)return s.finalize(S.value,[].concat(S.errors),$);r=S.value}}if(O.coerce&&r!==void 0&&u.convert&&(!O.coerce.from||O.coerce.from.includes(typeof r))){let S=O.coerce.method(r,$);if(S){if(c.mainstay.tracer.value(c,"coerced",r,S.value),S.errors)return s.finalize(S.value,[].concat(S.errors),$);r=S.value}}let j=p._flags.empty;j&&j.$_match(s.trim(r,p),c.nest(j),n.defaults)&&(c.mainstay.tracer.value(c,"empty",r,void 0),r=void 0);let v=y.presence||p._flags.presence||(p._flags._endedSwitch?null:u.presence);if(r===void 0){if(v==="forbidden")return s.finalize(r,null,$);if(v==="required")return s.finalize(r,[p.$_createError("any.required",r,null,c,u)],$);if(v==="optional"){if(p._flags.default!==n.symbols.deepDefault)return s.finalize(r,null,$);c.mainstay.tracer.value(c,"default",r,{}),r={}}}else if(v==="forbidden")return s.finalize(r,[p.$_createError("any.unknown",r,null,c,u)],$);let x=[];if(p._valids){let S=p._valids.get(r,c,u,p._flags.insensitive);if(S)return u.convert&&(c.mainstay.tracer.value(c,"valids",r,S.value),r=S.value),c.mainstay.tracer.filter(p,c,"valid",S),s.finalize(r,null,$);if(p._flags.only){let k=p.$_createError("any.only",r,{valids:p._valids.values({display:!0})},c,u);if(u.abortEarly)return s.finalize(r,[k],$);x.push(k)}}if(p._invalids){let S=p._invalids.get(r,c,u,p._flags.insensitive);if(S){c.mainstay.tracer.filter(p,c,"invalid",S);let k=p.$_createError("any.invalid",r,{invalids:p._invalids.values({display:!0})},c,u);if(u.abortEarly)return s.finalize(r,[k],$);x.push(k)}}if(O.validate){let S=O.validate(r,$);if(S&&(c.mainstay.tracer.value(c,"base",r,S.value),r=S.value,S.errors)){if(!Array.isArray(S.errors))return x.push(S.errors),s.finalize(r,x,$);if(S.errors.length)return x.push(...S.errors),s.finalize(r,x,$)}}return p._rules.length?s.rules(r,x,$):s.finalize(r,x,$)},s.rules=function(r,p,c){let{schema:u,state:y,prefs:w}=c;for(let $ of u._rules){let O=u._definition.rules[$.method];if(O.convert&&w.convert){y.mainstay.tracer.log(u,y,"rule",$.name,"full");continue}let j,v=$.args;if($._resolve.length){v=Object.assign({},v);for(let S of $._resolve){let k=O.argsByName.get(S),T=v[S].resolve(r,y,w),E=k.normalize?k.normalize(T):T,W=n.validateArg(E,null,k);if(W){j=u.$_createError("any.ref",T,{arg:S,ref:v[S],reason:W},y,w);break}v[S]=E}}j=j||O.validate(r,c,v,$);let x=s.rule(j,$);if(x.errors){if(y.mainstay.tracer.log(u,y,"rule",$.name,"error"),$.warn){y.mainstay.warnings.push(...x.errors);continue}if(w.abortEarly)return s.finalize(r,x.errors,c);p.push(...x.errors)}else y.mainstay.tracer.log(u,y,"rule",$.name,"pass"),y.mainstay.tracer.value(y,"rule",r,x.value,$.name),r=x.value}return s.finalize(r,p,c)},s.rule=function(r,p){return r instanceof l.Report?(s.error(r,p),{errors:[r],value:null}):Array.isArray(r)&&r[n.symbols.errors]?(r.forEach(c=>s.error(c,p)),{errors:r,value:null}):{errors:null,value:r}},s.error=function(r,p){return p.message&&r._setTemplate(p.message),r},s.finalize=function(r,p,c){p=p||[];let{schema:u,state:y,prefs:w}=c;if(p.length){let O=s.default("failover",void 0,p,c);O!==void 0&&(y.mainstay.tracer.value(y,"failover",r,O),r=O,p=[])}if(p.length&&u._flags.error)if(typeof u._flags.error=="function"){p=u._flags.error(p),Array.isArray(p)||(p=[p]);for(let O of p)i(O instanceof Error||O instanceof l.Report,"error() must return an Error object")}else p=[u._flags.error];if(r===void 0){let O=s.default("default",r,p,c);y.mainstay.tracer.value(y,"default",r,O),r=O}if(u._flags.cast&&r!==void 0){let O=u._definition.cast[u._flags.cast];if(O.from(r)){let j=O.to(r,c);y.mainstay.tracer.value(y,"cast",r,j,u._flags.cast),r=j}}if(u.$_terms.externals&&w.externals&&w._externals!==!1)for(let{method:O}of u.$_terms.externals)y.mainstay.externals.push({method:O,schema:u,state:y,label:l.label(u._flags,y,w)});let $={value:r,errors:p.length?p:null};return u._flags.result&&($.value=u._flags.result==="strip"?void 0:c.original,y.mainstay.tracer.value(y,u._flags.result,r,$.value),y.shadow(r,u._flags.result)),u._cache&&w.cache!==!1&&!u._refs.length&&u._cache.set(c.original,$),r===void 0||$.errors||u._flags.artifact===void 0||(y.mainstay.artifacts=y.mainstay.artifacts||new Map,y.mainstay.artifacts.has(u._flags.artifact)||y.mainstay.artifacts.set(u._flags.artifact,[]),y.mainstay.artifacts.get(u._flags.artifact).push(y.path)),$},s.prefs=function(r,p){let c=p===n.defaults;return c&&r._preferences[n.symbols.prefs]?r._preferences[n.symbols.prefs]:(p=n.preferences(p,r._preferences),c&&(r._preferences[n.symbols.prefs]=p),p)},s.default=function(r,p,c,u){let{schema:y,state:w,prefs:$}=u,O=y._flags[r];if($.noDefaults||O===void 0)return p;if(w.mainstay.tracer.log(y,w,"rule",r,"full"),!O)return O;if(typeof O=="function"){let j=O.length?[b(w.ancestors[0]),u]:[];try{return O(...j)}catch(v){return void c.push(y.$_createError(`any.${r}`,null,{error:v},w,$))}}return typeof O!="object"?O:O[n.symbols.literal]?O.literal:n.isResolvable(O)?O.resolve(p,w,$):b(O)},s.trim=function(r,p){if(typeof r!="string")return r;let c=p.$_getRule("trim");return c&&c.args.enabled?r.trim():r},s.ignore={active:!1,debug:_,entry:_,filter:_,log:_,resolve:_,value:_},s.errorsArray=function(){let r=[];return r[n.symbols.errors]=!0,r}},2036:(m,g,h)=>{let i=h(375),b=h(9474),_=h(8160),d={};m.exports=d.Values=class{constructor(n,l){this._values=new Set(n),this._refs=new Set(l),this._lowercase=d.lowercases(n),this._override=!1}get length(){return this._values.size+this._refs.size}add(n,l){_.isResolvable(n)?this._refs.has(n)||(this._refs.add(n),l&&l.register(n)):this.has(n,null,null,!1)||(this._values.add(n),typeof n=="string"&&this._lowercase.set(n.toLowerCase(),n))}static merge(n,l,a){if(n=n||new d.Values,l){if(l._override)return l.clone();for(let s of[...l._values,...l._refs])n.add(s)}if(a)for(let s of[...a._values,...a._refs])n.remove(s);return n.length?n:null}remove(n){_.isResolvable(n)?this._refs.delete(n):(this._values.delete(n),typeof n=="string"&&this._lowercase.delete(n.toLowerCase()))}has(n,l,a,s){return!!this.get(n,l,a,s)}get(n,l,a,s){if(!this.length)return!1;if(this._values.has(n))return{value:n};if(typeof n=="string"&&n&&s){let r=this._lowercase.get(n.toLowerCase());if(r)return{value:r}}if(!this._refs.size&&typeof n!="object")return!1;if(typeof n=="object"){for(let r of this._values)if(b(r,n))return{value:r}}if(l)for(let r of this._refs){let p=r.resolve(n,l,a,null,{in:!0});if(p===void 0)continue;let c=r.in&&typeof p=="object"?Array.isArray(p)?p:Object.keys(p):[p];for(let u of c)if(typeof u==typeof n){if(s&&n&&typeof n=="string"){if(u.toLowerCase()===n.toLowerCase())return{value:u,ref:r}}else if(b(u,n))return{value:u,ref:r}}}return!1}override(){this._override=!0}values(n){if(n&&n.display){let l=[];for(let a of[...this._values,...this._refs])a!==void 0&&l.push(a);return l}return Array.from([...this._values,...this._refs])}clone(){let n=new d.Values(this._values,this._refs);return n._override=this._override,n}concat(n){i(!n._override,"Cannot concat override set of values");let l=new d.Values([...this._values,...n._values],[...this._refs,...n._refs]);return l._override=this._override,l}describe(){let n=[];this._override&&n.push({override:!0});for(let l of this._values.values())n.push(l&&typeof l=="object"?{value:l}:l);for(let l of this._refs.values())n.push(l.describe());return n}},d.Values.prototype[_.symbols.values]=!0,d.Values.prototype.slice=d.Values.prototype.clone,d.lowercases=function(n){let l=new Map;if(n)for(let a of n)typeof a=="string"&&l.set(a.toLowerCase(),a);return l}},978:(m,g,h)=>{let i=h(375),b=h(8571),_=h(1687),d=h(9621),n={};m.exports=function(l,a,s={}){if(i(l&&typeof l=="object","Invalid defaults value: must be an object"),i(!a||a===!0||typeof a=="object","Invalid source value: must be true, falsy or an object"),i(typeof s=="object","Invalid options: must be an object"),!a)return null;if(s.shallow)return n.applyToDefaultsWithShallow(l,a,s);let r=b(l);if(a===!0)return r;let p=s.nullOverride!==void 0&&s.nullOverride;return _(r,a,{nullOverride:p,mergeArrays:!1})},n.applyToDefaultsWithShallow=function(l,a,s){let r=s.shallow;i(Array.isArray(r),"Invalid keys");let p=new Map,c=a===!0?null:new Set;for(let w of r){w=Array.isArray(w)?w:w.split(".");let $=d(l,w);$&&typeof $=="object"?p.set($,c&&d(a,w)||$):c&&c.add(w)}let u=b(l,{},p);if(!c)return u;for(let w of c)n.reachCopy(u,a,w);let y=s.nullOverride!==void 0&&s.nullOverride;return _(u,a,{nullOverride:y,mergeArrays:!1})},n.reachCopy=function(l,a,s){for(let c of s){if(!(c in a))return;let u=a[c];if(typeof u!="object"||u===null)return;a=u}let r=a,p=l;for(let c=0;c<s.length-1;++c){let u=s[c];typeof p[u]!="object"&&(p[u]={}),p=p[u]}p[s[s.length-1]]=r}},375:(m,g,h)=>{let i=h(7916);m.exports=function(b,..._){if(!b)throw _.length===1&&_[0]instanceof Error?_[0]:new i(_)}},8571:(m,g,h)=>{let i=h(9621),b=h(4277),_=h(7043),d={needsProtoHack:new Set([b.set,b.map,b.weakSet,b.weakMap])};m.exports=d.clone=function(n,l={},a=null){if(typeof n!="object"||n===null)return n;let s=d.clone,r=a;if(l.shallow){if(l.shallow!==!0)return d.cloneWithShallow(n,l);s=y=>y}else if(r){let y=r.get(n);if(y)return y}else r=new Map;let p=b.getInternalProto(n);if(p===b.buffer)return!1;if(p===b.date)return new Date(n.getTime());if(p===b.regex)return new RegExp(n);let c=d.base(n,p,l);if(c===n)return n;if(r&&r.set(n,c),p===b.set)for(let y of n)c.add(s(y,l,r));else if(p===b.map)for(let[y,w]of n)c.set(y,s(w,l,r));let u=_.keys(n,l);for(let y of u){if(y==="__proto__")continue;if(p===b.array&&y==="length"){c.length=n.length;continue}let w=Object.getOwnPropertyDescriptor(n,y);w?w.get||w.set?Object.defineProperty(c,y,w):w.enumerable?c[y]=s(n[y],l,r):Object.defineProperty(c,y,{enumerable:!1,writable:!0,configurable:!0,value:s(n[y],l,r)}):Object.defineProperty(c,y,{enumerable:!0,writable:!0,configurable:!0,value:s(n[y],l,r)})}return c},d.cloneWithShallow=function(n,l){let a=l.shallow;(l=Object.assign({},l)).shallow=!1;let s=new Map;for(let r of a){let p=i(n,r);typeof p!="object"&&typeof p!="function"||s.set(p,p)}return d.clone(n,l,s)},d.base=function(n,l,a){if(a.prototype===!1)return d.needsProtoHack.has(l)?new l.constructor:l===b.array?[]:{};let s=Object.getPrototypeOf(n);if(s&&s.isImmutable)return n;if(l===b.array){let r=[];return s!==l&&Object.setPrototypeOf(r,s),r}if(d.needsProtoHack.has(l)){let r=new s.constructor;return s!==l&&Object.setPrototypeOf(r,s),r}return Object.create(s)}},9474:(m,g,h)=>{let i=h(4277),b={mismatched:null};m.exports=function(_,d,n){return n=Object.assign({prototype:!0},n),!!b.isDeepEqual(_,d,n,[])},b.isDeepEqual=function(_,d,n,l){if(_===d)return _!==0||1/_==1/d;let a=typeof _;if(a!==typeof d||_===null||d===null)return!1;if(a==="function"){if(!n.deepFunction||_.toString()!==d.toString())return!1}else if(a!=="object")return _!=_&&d!=d;let s=b.getSharedType(_,d,!!n.prototype);switch(s){case i.buffer:return!1;case i.promise:return _===d;case i.regex:return _.toString()===d.toString();case b.mismatched:return!1}for(let r=l.length-1;r>=0;--r)if(l[r].isSame(_,d))return!0;l.push(new b.SeenEntry(_,d));try{return!!b.isDeepEqualObj(s,_,d,n,l)}finally{l.pop()}},b.getSharedType=function(_,d,n){if(n)return Object.getPrototypeOf(_)!==Object.getPrototypeOf(d)?b.mismatched:i.getInternalProto(_);let l=i.getInternalProto(_);return l!==i.getInternalProto(d)?b.mismatched:l},b.valueOf=function(_){let d=_.valueOf;if(d===void 0)return _;try{return d.call(_)}catch(n){return n}},b.hasOwnEnumerableProperty=function(_,d){return Object.prototype.propertyIsEnumerable.call(_,d)},b.isSetSimpleEqual=function(_,d){for(let n of Set.prototype.values.call(_))if(!Set.prototype.has.call(d,n))return!1;return!0},b.isDeepEqualObj=function(_,d,n,l,a){let{isDeepEqual:s,valueOf:r,hasOwnEnumerableProperty:p}=b,{keys:c,getOwnPropertySymbols:u}=Object;if(_===i.array){if(!l.part){if(d.length!==n.length)return!1;for(let j=0;j<d.length;++j)if(!s(d[j],n[j],l,a))return!1;return!0}for(let j of d)for(let v of n)if(s(j,v,l,a))return!0}else if(_===i.set){if(d.size!==n.size)return!1;if(!b.isSetSimpleEqual(d,n)){let j=new Set(Set.prototype.values.call(n));for(let v of Set.prototype.values.call(d)){if(j.delete(v))continue;let x=!1;for(let S of j)if(s(v,S,l,a)){j.delete(S),x=!0;break}if(!x)return!1}}}else if(_===i.map){if(d.size!==n.size)return!1;for(let[j,v]of Map.prototype.entries.call(d))if(v===void 0&&!Map.prototype.has.call(n,j)||!s(v,Map.prototype.get.call(n,j),l,a))return!1}else if(_===i.error&&(d.name!==n.name||d.message!==n.message))return!1;let y=r(d),w=r(n);if((d!==y||n!==w)&&!s(y,w,l,a))return!1;let $=c(d);if(!l.part&&$.length!==c(n).length&&!l.skip)return!1;let O=0;for(let j of $)if(l.skip&&l.skip.includes(j))n[j]===void 0&&++O;else if(!p(n,j)||!s(d[j],n[j],l,a))return!1;if(!l.part&&$.length-O!==c(n).length)return!1;if(l.symbols!==!1){let j=u(d),v=new Set(u(n));for(let x of j){if(!l.skip||!l.skip.includes(x)){if(p(d,x)){if(!p(n,x)||!s(d[x],n[x],l,a))return!1}else if(p(n,x))return!1}v.delete(x)}for(let x of v)if(p(n,x))return!1}return!0},b.SeenEntry=class{constructor(_,d){this.obj=_,this.ref=d}isSame(_,d){return this.obj===_&&this.ref===d}}},7916:(m,g,h)=>{let i=h(8761);m.exports=class extends Error{constructor(b){super(b.filter(_=>_!=="").map(_=>typeof _=="string"?_:_ instanceof Error?_.message:i(_)).join(" ")||"Unknown error"),typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,g.assert)}}},5277:m=>{let g={};m.exports=function(h){if(!h)return"";let i="";for(let b=0;b<h.length;++b){let _=h.charCodeAt(b);g.isSafe(_)?i+=h[b]:i+=g.escapeHtmlChar(_)}return i},g.escapeHtmlChar=function(h){return g.namedHtml.get(h)||(h>=256?"&#"+h+";":`&#x${h.toString(16).padStart(2,"0")};`)},g.isSafe=function(h){return g.safeCharCodes.has(h)},g.namedHtml=new Map([[38,"&amp;"],[60,"&lt;"],[62,"&gt;"],[34,"&quot;"],[160,"&nbsp;"],[162,"&cent;"],[163,"&pound;"],[164,"&curren;"],[169,"&copy;"],[174,"&reg;"]]),g.safeCharCodes=function(){let h=new Set;for(let i=32;i<123;++i)(i>=97||i>=65&&i<=90||i>=48&&i<=57||i===32||i===46||i===44||i===45||i===58||i===95)&&h.add(i);return h}()},6064:m=>{m.exports=function(g){return g.replace(/[\^\$\.\*\+\-\?\=\!\:\|\\\/\(\)\[\]\{\}\,]/g,"\\$&")}},738:m=>{m.exports=function(){}},1687:(m,g,h)=>{let i=h(375),b=h(8571),_=h(7043),d={};m.exports=d.merge=function(n,l,a){if(i(n&&typeof n=="object","Invalid target value: must be an object"),i(l==null||typeof l=="object","Invalid source value: must be null, undefined, or an object"),!l)return n;if(a=Object.assign({nullOverride:!0,mergeArrays:!0},a),Array.isArray(l)){i(Array.isArray(n),"Cannot merge array onto an object"),a.mergeArrays||(n.length=0);for(let r=0;r<l.length;++r)n.push(b(l[r],{symbols:a.symbols}));return n}let s=_.keys(l,a);for(let r=0;r<s.length;++r){let p=s[r];if(p==="__proto__"||!Object.prototype.propertyIsEnumerable.call(l,p))continue;let c=l[p];if(c&&typeof c=="object"){if(n[p]===c)continue;!n[p]||typeof n[p]!="object"||Array.isArray(n[p])!==Array.isArray(c)||c instanceof Date||c instanceof RegExp?n[p]=b(c,{symbols:a.symbols}):d.merge(n[p],c,a)}else(c!=null||a.nullOverride)&&(n[p]=c)}return n}},9621:(m,g,h)=>{let i=h(375),b={};m.exports=function(_,d,n){if(d===!1||d==null)return _;typeof(n=n||{})=="string"&&(n={separator:n});let l=Array.isArray(d);i(!l||!n.separator,"Separator option is not valid for array-based chain");let a=l?d:d.split(n.separator||"."),s=_;for(let r=0;r<a.length;++r){let p=a[r],c=n.iterables&&b.iterables(s);if(Array.isArray(s)||c==="set"){let u=Number(p);Number.isInteger(u)&&(p=u<0?s.length+u:u)}if(!s||typeof s=="function"&&n.functions===!1||!c&&s[p]===void 0){i(!n.strict||r+1===a.length,"Missing segment",p,"in reach path ",d),i(typeof s=="object"||n.functions===!0||typeof s!="function","Invalid segment",p,"in reach path ",d),s=n.default;break}s=c?c==="set"?[...s][p]:s.get(p):s[p]}return s},b.iterables=function(_){return _ instanceof Set?"set":_ instanceof Map?"map":void 0}},8761:m=>{m.exports=function(...g){try{return JSON.stringify(...g)}catch(h){return"[Cannot display object: "+h.message+"]"}}},4277:(m,g)=>{let h={};g=m.exports={array:Array.prototype,buffer:!1,date:Date.prototype,error:Error.prototype,generic:Object.prototype,map:Map.prototype,promise:Promise.prototype,regex:RegExp.prototype,set:Set.prototype,weakMap:WeakMap.prototype,weakSet:WeakSet.prototype},h.typeMap=new Map([["[object Error]",g.error],["[object Map]",g.map],["[object Promise]",g.promise],["[object Set]",g.set],["[object WeakMap]",g.weakMap],["[object WeakSet]",g.weakSet]]),g.getInternalProto=function(i){if(Array.isArray(i))return g.array;if(i instanceof Date)return g.date;if(i instanceof RegExp)return g.regex;if(i instanceof Error)return g.error;let b=Object.prototype.toString.call(i);return h.typeMap.get(b)||g.generic}},7043:(m,g)=>{g.keys=function(h,i={}){return i.symbols!==!1?Reflect.ownKeys(h):Object.getOwnPropertyNames(h)}},3652:(m,g,h)=>{let i=h(375),b={};g.Sorter=class{constructor(){this._items=[],this.nodes=[]}add(_,d){let n=[].concat((d=d||{}).before||[]),l=[].concat(d.after||[]),a=d.group||"?",s=d.sort||0;i(!n.includes(a),`Item cannot come before itself: ${a}`),i(!n.includes("?"),"Item cannot come before unassociated items"),i(!l.includes(a),`Item cannot come after itself: ${a}`),i(!l.includes("?"),"Item cannot come after unassociated items"),Array.isArray(_)||(_=[_]);for(let r of _){let p={seq:this._items.length,sort:s,before:n,after:l,group:a,node:r};this._items.push(p)}if(!d.manual){let r=this._sort();i(r,"item",a!=="?"?`added into group ${a}`:"","created a dependencies error")}return this.nodes}merge(_){Array.isArray(_)||(_=[_]);for(let n of _)if(n)for(let l of n._items)this._items.push(Object.assign({},l));this._items.sort(b.mergeSort);for(let n=0;n<this._items.length;++n)this._items[n].seq=n;let d=this._sort();return i(d,"merge created a dependencies error"),this.nodes}sort(){let _=this._sort();return i(_,"sort created a dependencies error"),this.nodes}_sort(){let _={},d=Object.create(null),n=Object.create(null);for(let p of this._items){let c=p.seq,u=p.group;n[u]=n[u]||[],n[u].push(c),_[c]=p.before;for(let y of p.after)d[y]=d[y]||[],d[y].push(c)}for(let p in _){let c=[];for(let u in _[p]){let y=_[p][u];n[y]=n[y]||[],c.push(...n[y])}_[p]=c}for(let p in d)if(n[p])for(let c of n[p])_[c].push(...d[p]);let l={};for(let p in _){let c=_[p];for(let u of c)l[u]=l[u]||[],l[u].push(p)}let a={},s=[];for(let p=0;p<this._items.length;++p){let c=p;if(l[p]){c=null;for(let u=0;u<this._items.length;++u){if(a[u]===!0)continue;l[u]||(l[u]=[]);let y=l[u].length,w=0;for(let $=0;$<y;++$)a[l[u][$]]&&++w;if(w===y){c=u;break}}}c!==null&&(a[c]=!0,s.push(c))}if(s.length!==this._items.length)return!1;let r={};for(let p of this._items)r[p.seq]=p;this._items=[],this.nodes=[];for(let p of s){let c=r[p];this.nodes.push(c.node),this._items.push(c)}return!0}},b.mergeSort=(_,d)=>_.sort===d.sort?0:_.sort<d.sort?-1:1},5380:(m,g,h)=>{let i=h(443),b=h(2178),_={minDomainSegments:2,nonAsciiRx:/[^\x00-\x7f]/,domainControlRx:/[\x00-\x20@\:\/\\#!\$&\'\(\)\*\+,;=\?]/,tldSegmentRx:/^[a-zA-Z](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?$/,domainSegmentRx:/^[a-zA-Z0-9](?:[a-zA-Z0-9\-]*[a-zA-Z0-9])?$/,URL:i.URL||URL};g.analyze=function(d,n={}){if(!d)return b.code("DOMAIN_NON_EMPTY_STRING");if(typeof d!="string")throw new Error("Invalid input: domain must be a string");if(d.length>256)return b.code("DOMAIN_TOO_LONG");if(_.nonAsciiRx.test(d)){if(n.allowUnicode===!1)return b.code("DOMAIN_INVALID_UNICODE_CHARS");d=d.normalize("NFC")}if(_.domainControlRx.test(d))return b.code("DOMAIN_INVALID_CHARS");d=_.punycode(d),n.allowFullyQualified&&d[d.length-1]==="."&&(d=d.slice(0,-1));let l=n.minDomainSegments||_.minDomainSegments,a=d.split(".");if(a.length<l)return b.code("DOMAIN_SEGMENTS_COUNT");if(n.maxDomainSegments&&a.length>n.maxDomainSegments)return b.code("DOMAIN_SEGMENTS_COUNT_MAX");let s=n.tlds;if(s){let r=a[a.length-1].toLowerCase();if(s.deny&&s.deny.has(r)||s.allow&&!s.allow.has(r))return b.code("DOMAIN_FORBIDDEN_TLDS")}for(let r=0;r<a.length;++r){let p=a[r];if(!p.length)return b.code("DOMAIN_EMPTY_SEGMENT");if(p.length>63)return b.code("DOMAIN_LONG_SEGMENT");if(r<a.length-1){if(!_.domainSegmentRx.test(p))return b.code("DOMAIN_INVALID_CHARS")}else if(!_.tldSegmentRx.test(p))return b.code("DOMAIN_INVALID_TLDS_CHARS")}return null},g.isValid=function(d,n){return!g.analyze(d,n)},_.punycode=function(d){d.includes("%")&&(d=d.replace(/%/g,"%25"));try{return new _.URL(`http://${d}`).host}catch{return d}}},1745:(m,g,h)=>{let i=h(9848),b=h(5380),_=h(2178),d={nonAsciiRx:/[^\x00-\x7f]/,encoder:new(i.TextEncoder||TextEncoder)};g.analyze=function(n,l){return d.email(n,l)},g.isValid=function(n,l){return!d.email(n,l)},d.email=function(n,l={}){if(typeof n!="string")throw new Error("Invalid input: email must be a string");if(!n)return _.code("EMPTY_STRING");let a=!d.nonAsciiRx.test(n);if(!a){if(l.allowUnicode===!1)return _.code("FORBIDDEN_UNICODE");n=n.normalize("NFC")}let s=n.split("@");if(s.length!==2)return s.length>2?_.code("MULTIPLE_AT_CHAR"):_.code("MISSING_AT_CHAR");let[r,p]=s;if(!r)return _.code("EMPTY_LOCAL");if(!l.ignoreLength){if(n.length>254)return _.code("ADDRESS_TOO_LONG");if(d.encoder.encode(r).length>64)return _.code("LOCAL_TOO_LONG")}return d.local(r,a)||b.analyze(p,l)},d.local=function(n,l){let a=n.split(".");for(let s of a){if(!s.length)return _.code("EMPTY_LOCAL_SEGMENT");if(l){if(!d.atextRx.test(s))return _.code("INVALID_LOCAL_CHARS")}else for(let r of s){if(d.atextRx.test(r))continue;let p=d.binary(r);if(!d.atomRx.test(p))return _.code("INVALID_LOCAL_CHARS")}}},d.binary=function(n){return Array.from(d.encoder.encode(n)).map(l=>String.fromCharCode(l)).join("")},d.atextRx=/^[\w!#\$%&'\*\+\-/=\?\^`\{\|\}~]+$/,d.atomRx=new RegExp(["(?:[\\xc2-\\xdf][\\x80-\\xbf])","(?:\\xe0[\\xa0-\\xbf][\\x80-\\xbf])|(?:[\\xe1-\\xec][\\x80-\\xbf]{2})|(?:\\xed[\\x80-\\x9f][\\x80-\\xbf])|(?:[\\xee-\\xef][\\x80-\\xbf]{2})","(?:\\xf0[\\x90-\\xbf][\\x80-\\xbf]{2})|(?:[\\xf1-\\xf3][\\x80-\\xbf]{3})|(?:\\xf4[\\x80-\\x8f][\\x80-\\xbf]{2})"].join("|"))},2178:(m,g)=>{g.codes={EMPTY_STRING:"Address must be a non-empty string",FORBIDDEN_UNICODE:"Address contains forbidden Unicode characters",MULTIPLE_AT_CHAR:"Address cannot contain more than one @ character",MISSING_AT_CHAR:"Address must contain one @ character",EMPTY_LOCAL:"Address local part cannot be empty",ADDRESS_TOO_LONG:"Address too long",LOCAL_TOO_LONG:"Address local part too long",EMPTY_LOCAL_SEGMENT:"Address local part contains empty dot-separated segment",INVALID_LOCAL_CHARS:"Address local part contains invalid character",DOMAIN_NON_EMPTY_STRING:"Domain must be a non-empty string",DOMAIN_TOO_LONG:"Domain too long",DOMAIN_INVALID_UNICODE_CHARS:"Domain contains forbidden Unicode characters",DOMAIN_INVALID_CHARS:"Domain contains invalid character",DOMAIN_INVALID_TLDS_CHARS:"Domain contains invalid tld character",DOMAIN_SEGMENTS_COUNT:"Domain lacks the minimum required number of segments",DOMAIN_SEGMENTS_COUNT_MAX:"Domain contains too many segments",DOMAIN_FORBIDDEN_TLDS:"Domain uses forbidden TLD",DOMAIN_EMPTY_SEGMENT:"Domain contains empty dot-separated segment",DOMAIN_LONG_SEGMENT:"Domain contains dot-separated segment that is too long"},g.code=function(h){return{code:h,error:g.codes[h]}}},9959:(m,g,h)=>{let i=h(375),b=h(5752);g.regex=function(_={}){i(_.cidr===void 0||typeof _.cidr=="string","options.cidr must be a string");let d=_.cidr?_.cidr.toLowerCase():"optional";i(["required","optional","forbidden"].includes(d),"options.cidr must be one of required, optional, forbidden"),i(_.version===void 0||typeof _.version=="string"||Array.isArray(_.version),"options.version must be a string or an array of string");let n=_.version||["ipv4","ipv6","ipvfuture"];Array.isArray(n)||(n=[n]),i(n.length>=1,"options.version must have at least 1 version specified");for(let s=0;s<n.length;++s)i(typeof n[s]=="string","options.version must only contain strings"),n[s]=n[s].toLowerCase(),i(["ipv4","ipv6","ipvfuture"].includes(n[s]),"options.version contains unknown version "+n[s]+" - must be one of ipv4, ipv6, ipvfuture");n=Array.from(new Set(n));let l=`(?:${n.map(s=>{if(d==="forbidden")return b.ip[s];let r=`\\/${s==="ipv4"?b.ip.v4Cidr:b.ip.v6Cidr}`;return d==="required"?`${b.ip[s]}${r}`:`${b.ip[s]}(?:${r})?`}).join("|")})`,a=new RegExp(`^${l}$`);return{cidr:d,versions:n,regex:a,raw:l}}},5752:(m,g,h)=>{let i=h(375),b=h(6064),_={generate:function(){let d={},n="\\dA-Fa-f",l="["+n+"]",a="\\w-\\.~",s="!\\$&'\\(\\)\\*\\+,;=",r="%"+n,p=a+r+s+":@",c="["+p+"]",u="(?:0{0,2}\\d|0?[1-9]\\d|1\\d\\d|2[0-4]\\d|25[0-5])";d.ipv4address="(?:"+u+"\\.){3}"+u;let y=l+"{1,4}",w="(?:"+y+":"+y+"|"+d.ipv4address+")",$="(?:"+y+":){6}"+w,O="::(?:"+y+":){5}"+w,j="(?:"+y+")?::(?:"+y+":){4}"+w,v="(?:(?:"+y+":){0,1}"+y+")?::(?:"+y+":){3}"+w,x="(?:(?:"+y+":){0,2}"+y+")?::(?:"+y+":){2}"+w,S="(?:(?:"+y+":){0,3}"+y+")?::"+y+":"+w,k="(?:(?:"+y+":){0,4}"+y+")?::"+w,T="(?:(?:"+y+":){0,5}"+y+")?::"+y,E="(?:(?:"+y+":){0,6}"+y+")?::";d.ipv4Cidr="(?:\\d|[1-2]\\d|3[0-2])",d.ipv6Cidr="(?:0{0,2}\\d|0?[1-9]\\d|1[01]\\d|12[0-8])",d.ipv6address="(?:"+$+"|"+O+"|"+j+"|"+v+"|"+x+"|"+S+"|"+k+"|"+T+"|"+E+")",d.ipvFuture="v"+l+"+\\.["+a+s+":]+",d.scheme="[a-zA-Z][a-zA-Z\\d+-\\.]*",d.schemeRegex=new RegExp(d.scheme);let W="["+a+r+s+":]*",R="["+a+r+s+"]{1,255}",I="(?:\\[(?:"+d.ipv6address+"|"+d.ipvFuture+")\\]|"+d.ipv4address+"|"+R+")",P="(?:"+W+"@)?"+I+"(?::\\d*)?",B="(?:"+W+"@)?("+I+")(?::\\d*)?",Q=c+"*",J=c+"+",Y="(?:\\/"+Q+")*",te="\\/(?:"+J+Y+")?",ie=J+Y,K="["+a+r+s+"@]+"+Y,me="(?:\\/\\/\\/"+Q+Y+")";return d.hierPart="(?:(?:\\/\\/"+P+Y+")|"+te+"|"+ie+"|"+me+")",d.hierPartCapture="(?:(?:\\/\\/"+B+Y+")|"+te+"|"+ie+")",d.relativeRef="(?:(?:\\/\\/"+P+Y+")|"+te+"|"+K+"|)",d.relativeRefCapture="(?:(?:\\/\\/"+B+Y+")|"+te+"|"+K+"|)",d.query="["+p+"\\/\\?]*(?=#|$)",d.queryWithSquareBrackets="["+p+"\\[\\]\\/\\?]*(?=#|$)",d.fragment="["+p+"\\/\\?]*",d}};_.rfc3986=_.generate(),g.ip={v4Cidr:_.rfc3986.ipv4Cidr,v6Cidr:_.rfc3986.ipv6Cidr,ipv4:_.rfc3986.ipv4address,ipv6:_.rfc3986.ipv6address,ipvfuture:_.rfc3986.ipvFuture},_.createRegex=function(d){let n=_.rfc3986,l="(?:\\?"+(d.allowQuerySquareBrackets?n.queryWithSquareBrackets:n.query)+")?(?:#"+n.fragment+")?",a=d.domain?n.relativeRefCapture:n.relativeRef;if(d.relativeOnly)return _.wrap(a+l);let s="";if(d.scheme){i(d.scheme instanceof RegExp||typeof d.scheme=="string"||Array.isArray(d.scheme),"scheme must be a RegExp, String, or Array");let c=[].concat(d.scheme);i(c.length>=1,"scheme must have at least 1 scheme specified");let u=[];for(let y=0;y<c.length;++y){let w=c[y];i(w instanceof RegExp||typeof w=="string","scheme at position "+y+" must be a RegExp or String"),w instanceof RegExp?u.push(w.source.toString()):(i(n.schemeRegex.test(w),"scheme at position "+y+" must be a valid scheme"),u.push(b(w)))}s=u.join("|")}let r="(?:"+(s?"(?:"+s+")":n.scheme)+":"+(d.domain?n.hierPartCapture:n.hierPart)+")",p=d.allowRelative?"(?:"+r+"|"+a+")":r;return _.wrap(p+l,s)},_.wrap=function(d,n){return{raw:d=`(?=.)(?!https?:/(?:$|[^/]))(?!https?:///)(?!https?:[^/])${d}`,regex:new RegExp(`^${d}$`),scheme:n}},_.uriRegex=_.createRegex({}),g.regex=function(d={}){return d.scheme||d.allowRelative||d.relativeOnly||d.allowQuerySquareBrackets||d.domain?_.createRegex(d):_.uriRegex}},1447:(m,g)=>{let h={operators:["!","^","*","/","%","+","-","<","<=",">",">=","==","!=","&&","||","??"],operatorCharacters:["!","^","*","/","%","+","-","<","=",">","&","|","?"],operatorsOrder:[["^"],["*","/","%"],["+","-"],["<","<=",">",">="],["==","!="],["&&"],["||","??"]],operatorsPrefix:["!","n"],literals:{'"':'"',"`":"`","'":"'","[":"]"},numberRx:/^(?:[0-9]*(\.[0-9]*)?){1}$/,tokenRx:/^[\w\$\#\.\@\:\{\}]+$/,symbol:Symbol("formula"),settings:Symbol("settings")};g.Parser=class{constructor(i,b={}){if(!b[h.settings]&&b.constants)for(let _ in b.constants){let d=b.constants[_];if(d!==null&&!["boolean","number","string"].includes(typeof d))throw new Error(`Formula constant ${_} contains invalid ${typeof d} value type`)}this.settings=b[h.settings]?b:Object.assign({[h.settings]:!0,constants:{},functions:{}},b),this.single=null,this._parts=null,this._parse(i)}_parse(i){let b=[],_="",d=0,n=!1,l=s=>{if(d)throw new Error("Formula missing closing parenthesis");let r=b.length?b[b.length-1]:null;if(n||_||s){if(r&&r.type==="reference"&&s===")")return r.type="function",r.value=this._subFormula(_,r.value),void(_="");if(s===")"){let p=new g.Parser(_,this.settings);b.push({type:"segment",value:p})}else if(n){if(n==="]")return b.push({type:"reference",value:_}),void(_="");b.push({type:"literal",value:_})}else if(h.operatorCharacters.includes(_))r&&r.type==="operator"&&h.operators.includes(r.value+_)?r.value+=_:b.push({type:"operator",value:_});else if(_.match(h.numberRx))b.push({type:"constant",value:parseFloat(_)});else if(this.settings.constants[_]!==void 0)b.push({type:"constant",value:this.settings.constants[_]});else{if(!_.match(h.tokenRx))throw new Error(`Formula contains invalid token: ${_}`);b.push({type:"reference",value:_})}_=""}};for(let s of i)n?s===n?(l(),n=!1):_+=s:d?s==="("?(_+=s,++d):s===")"?(--d,d?_+=s:l(s)):_+=s:s in h.literals?n=h.literals[s]:s==="("?(l(),++d):h.operatorCharacters.includes(s)?(l(),_=s,l()):s!==" "?_+=s:l();l(),b=b.map((s,r)=>s.type!=="operator"||s.value!=="-"||r&&b[r-1].type!=="operator"?s:{type:"operator",value:"n"});let a=!1;for(let s of b){if(s.type==="operator"){if(h.operatorsPrefix.includes(s.value))continue;if(!a)throw new Error("Formula contains an operator in invalid position");if(!h.operators.includes(s.value))throw new Error(`Formula contains an unknown operator ${s.value}`)}else if(a)throw new Error("Formula missing expected operator");a=!a}if(!a)throw new Error("Formula contains invalid trailing operator");b.length===1&&["reference","literal","constant"].includes(b[0].type)&&(this.single={type:b[0].type==="reference"?"reference":"value",value:b[0].value}),this._parts=b.map(s=>{if(s.type==="operator")return h.operatorsPrefix.includes(s.value)?s:s.value;if(s.type!=="reference")return s.value;if(this.settings.tokenRx&&!this.settings.tokenRx.test(s.value))throw new Error(`Formula contains invalid reference ${s.value}`);return this.settings.reference?this.settings.reference(s.value):h.reference(s.value)})}_subFormula(i,b){let _=this.settings.functions[b];if(typeof _!="function")throw new Error(`Formula contains unknown function ${b}`);let d=[];if(i){let n="",l=0,a=!1,s=()=>{if(!n)throw new Error(`Formula contains function ${b} with invalid arguments ${i}`);d.push(n),n=""};for(let r=0;r<i.length;++r){let p=i[r];a?(n+=p,p===a&&(a=!1)):p in h.literals&&!l?(n+=p,a=h.literals[p]):p!==","||l?(n+=p,p==="("?++l:p===")"&&--l):s()}s()}return d=d.map(n=>new g.Parser(n,this.settings)),function(n){let l=[];for(let a of d)l.push(a.evaluate(n));return _.call(n,...l)}}evaluate(i){let b=this._parts.slice();for(let _=b.length-2;_>=0;--_){let d=b[_];if(d&&d.type==="operator"){let n=b[_+1];b.splice(_+1,1);let l=h.evaluate(n,i);b[_]=h.single(d.value,l)}}return h.operatorsOrder.forEach(_=>{for(let d=1;d<b.length-1;)if(_.includes(b[d])){let n=b[d],l=h.evaluate(b[d-1],i),a=h.evaluate(b[d+1],i);b.splice(d,2);let s=h.calculate(n,l,a);b[d-1]=s===0?0:s}else d+=2}),h.evaluate(b[0],i)}},g.Parser.prototype[h.symbol]=!0,h.reference=function(i){return function(b){return b&&b[i]!==void 0?b[i]:null}},h.evaluate=function(i,b){return i===null?null:typeof i=="function"?i(b):i[h.symbol]?i.evaluate(b):i},h.single=function(i,b){if(i==="!")return!b;let _=-b;return _===0?0:_},h.calculate=function(i,b,_){if(i==="??")return h.exists(b)?b:_;if(typeof b=="string"||typeof _=="string"){if(i==="+")return(b=h.exists(b)?b:"")+(h.exists(_)?_:"")}else switch(i){case"^":return Math.pow(b,_);case"*":return b*_;case"/":return b/_;case"%":return b%_;case"+":return b+_;case"-":return b-_}switch(i){case"<":return b<_;case"<=":return b<=_;case">":return b>_;case">=":return b>=_;case"==":return b===_;case"!=":return b!==_;case"&&":return b&&_;case"||":return b||_}return null},h.exists=function(i){return i!=null}},9926:()=>{},5688:()=>{},9708:()=>{},1152:()=>{},443:()=>{},9848:()=>{},5934:m=>{m.exports=JSON.parse('{"version":"17.13.3"}')}},f={},function m(g){var h=f[g];if(h!==void 0)return h.exports;var i=f[g]={exports:{}};return o[g](i,i.exports,m),i.exports}(5107);var o,f})}(ri)),ri.exports}var ll=al();let M=ni(ll),pr=Object.values(cr),cl=Object.values(Wt),ii=Object.values(ti),oi=Object.values(ei),ul=["default","minimal","dark"],fl=["express","online","link"],pl=["default","sidebar","select","sliderTop"],dl=["text","tel","number","email","checkbox","paragraph"],hl=["DNI","PHONE","RUC"],ml=/^\/.*\/[a-z]*$/,gl=M.string().valid(...pr).default(pr[0]).optional().insensitive().error(new Error(`El campo currency debe ser uno de los siguientes valores: ${pr.join(", ")}`)),yl=M.alternatives().try(M.number().integer().positive().allow(0,null,""),M.string().regex(/^\d+(?:\.\d+)?$/)).optional().messages({"number.base":"El monto debe ser un n\xFAmero.","number.integer":"El monto debe ser un n\xFAmero entero.","number.positive":"El monto debe ser un n\xFAmero positivo.","string.pattern.base":"El monto debe ser un valor num\xE9rico sin decimales."}),vl=M.alternatives().try(M.string().empty("").regex(/^(ord_live|ord_test)_.*/).optional(),M.alternatives().try(M.number().integer().optional(),M.string().empty("").regex(/^\d+$/))).optional(),bl=M.array().items(M.string().valid(...ii)).allow(null).optional().error(new Error(`El campo excludencryptoperations debe contener al menos uno de los valores v\xE1lidos: ${ii.join(", ")}`)),_l=M.object({tarjeta:M.boolean().default(!0).optional(),yape:M.boolean().default(!0).optional(),billetera:M.boolean().default(!0).optional(),bancaMovil:M.boolean().default(!0).optional(),agente:M.boolean().default(!0).optional(),cuotealo:M.boolean().default(!0).optional()}),wl=M.string().valid(...cl).default(Wt.ES).optional().insensitive().error(new Error(`El campo lang debe ser uno de los siguientes valores: ${Object.values(Wt).join(", ")}`)),xl=M.object({bannerColor:M.string().empty("").default("").optional(),buttonBackground:M.string().empty("").default("").optional(),menuColor:M.string().empty("").default("").optional(),linksColor:M.string().empty("").default("").optional(),buttonTextColor:M.string().empty("").default("").optional(),priceColor:M.string().empty("").default("").optional()}),$l=M.string().email({separator:"@",tlds:{allow:!1}}).empty("").messages({"string.email":"El campo email debe ser un correo electr\xF3nico v\xE1lido.","string.empty":"El campo email es obligatorio."}),Sl=M.object().pattern(M.string().empty(""),M.alternatives().try(M.string().empty(""),M.link("rules"))),jl=M.object().pattern(M.string().empty(""),M.string().empty("")).label("variables"),Ol=M.string().valid(...ul).optional(),Al=M.string().valid(...fl).optional(),kl=M.string().valid(...pl).optional(),Cl=M.array().items(M.string().valid(...oi)).allow(null).optional().error(new Error(`El campo paymentMethodsSort debe contener al menos uno de los valores v\xE1lidos: ${oi.join(", ")}`)),Rl=M.string().custom((e,t)=>{if(!ml.test(e))return t.error("any.invalid");try{new RegExp(e.slice(1,e.lastIndexOf("/")),e.slice(e.lastIndexOf("/")+1))}catch{return t.error("any.invalid")}return e},"Validaci\xF3n de expresi\xF3n regular"),Dl=M.object().pattern(M.string(),M.object({text:M.string().required(),url:M.string().uri().required()})),dr=M.object({label:M.string().when("type",{not:"paragraph",then:M.string().required(),otherwise:M.string().optional()}),required:M.boolean().default(!0).optional(),type:M.string().valid(...dl).optional(),placeholder:M.string().when("type",{not:["checkbox","paragraph"],then:M.string().required(),otherwise:M.string().optional()}),typeValidate:M.string().valid(...hl).optional(),regex:Rl.optional(),id:M.string().regex(/^[A-Za-z]+$/).when("type",{not:"paragraph",then:M.string().required(),otherwise:M.string().optional()}),minLength:M.number().optional(),maxLength:M.number().optional(),doubleSpan:M.boolean().default(!0).optional(),links:Dl.optional(),text:M.string().when("type",{is:"paragraph",then:M.string().required(),otherwise:M.string().optional()}),align:M.string().valid("left","center","right").optional(),actions:M.when("type",{is:"checkbox",then:M.object({buttonCardPayText:M.string().required().only()}).optional(),otherwise:M.forbidden()})}),Il=M.object({theme:Ol,hiddenCulqiLogo:M.boolean().default(!1).optional(),hiddenBannerContent:M.boolean().default(!1).optional(),hiddenBanner:M.boolean().default(!1).optional(),hiddenToolBarAmount:M.boolean().default(!1).optional(),emailInputDisabled:M.boolean().default(!1).optional(),hiddenEmail:M.boolean().default(!1).optional(),menuType:kl,buttonCardPayText:M.string().empty("").default("").optional(),logo:M.string().empty("").allow(null).optional(),defaultStyle:xl,variables:jl,rules:M.object().pattern(M.string(),Sl)}),Tl=M.object({email:$l}),ai=(e,t)=>e.type!=="paragraph"&&t.type!=="paragraph"&&e.id===t.id,El=(e,t)=>e.filter(o=>o.actions).length>1?t.error("Only one object in the array can have 'actions'."):e,Pl=M.object({customInput:M.array().items(dr).unique(ai).optional(),card:M.array().items(dr).unique(ai).custom(El).optional()}).optional(),ql=M.object({lang:wl,installments:M.boolean().default(!1).optional(),container:M.string().empty("").default("").optional(),modal:M.boolean().default(!0).optional(),paymentMethods:_l,paymentMethodsSort:Cl,inputCustoms:M.object({items:M.array().items(dr).unique((e,t)=>e.id===t.id).optional()}).optional(),customFields:Pl}),Ml=M.object({currency:gl,amount:yl,order:vl,title:M.string().optional(),culqiproduct:Al,culqiclient:M.string().optional(),culqiclientversion:M.string().optional(),culqipluginversion:M.string().optional(),xculqirsaid:M.string().optional(),rsapublickey:M.string().optional(),excludencryptoperations:bl}),_e=[];for(let e=0;e<256;++e)_e.push((e+256).toString(16).slice(1));function Ll(e,t=0){return(_e[e[t+0]]+_e[e[t+1]]+_e[e[t+2]]+_e[e[t+3]]+"-"+_e[e[t+4]]+_e[e[t+5]]+"-"+_e[e[t+6]]+_e[e[t+7]]+"-"+_e[e[t+8]]+_e[e[t+9]]+"-"+_e[e[t+10]]+_e[e[t+11]]+_e[e[t+12]]+_e[e[t+13]]+_e[e[t+14]]+_e[e[t+15]]).toLowerCase()}let hr,Nl=new Uint8Array(16);function Fl(){if(!hr){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");hr=crypto.getRandomValues.bind(crypto)}return hr(Nl)}let li={randomUUID:typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};function zl(e,t,o){var f;if(li.randomUUID&&!e)return li.randomUUID();e=e||{};let m=e.random??((f=e.rng)==null?void 0:f.call(e))??Fl();if(m.length<16)throw new Error("Random bytes length must be >= 16");return m[6]=m[6]&15|64,m[8]=m[8]&63|128,Ll(m)}var Ht={exports:{}},mr,ci;function Ul(){if(ci)return mr;ci=1;function e(o){try{return JSON.stringify(o)}catch{return'"[Circular]"'}}mr=t;function t(o,f,m){var g=m&&m.stringify||e,h=1;if(typeof o=="object"&&o!==null){var i=f.length+h;if(i===1)return o;var b=new Array(i);b[0]=g(o);for(var _=1;_<i;_++)b[_]=g(f[_]);return b.join(" ")}if(typeof o!="string")return o;var d=f.length;if(d===0)return o;for(var n="",l=1-h,a=-1,s=o&&o.length||0,r=0;r<s;){if(o.charCodeAt(r)===37&&r+1<s){switch(a=a>-1?a:0,o.charCodeAt(r+1)){case 100:case 102:if(l>=d||f[l]==null)break;a<r&&(n+=o.slice(a,r)),n+=Number(f[l]),a=r+2,r++;break;case 105:if(l>=d||f[l]==null)break;a<r&&(n+=o.slice(a,r)),n+=Math.floor(Number(f[l])),a=r+2,r++;break;case 79:case 111:case 106:if(l>=d||f[l]===void 0)break;a<r&&(n+=o.slice(a,r));var p=typeof f[l];if(p==="string"){n+="'"+f[l]+"'",a=r+2,r++;break}if(p==="function"){n+=f[l].name||"<anonymous>",a=r+2,r++;break}n+=g(f[l]),a=r+2,r++;break;case 115:if(l>=d)break;a<r&&(n+=o.slice(a,r)),n+=String(f[l]),a=r+2,r++;break;case 37:a<r&&(n+=o.slice(a,r)),n+="%",a=r+2,r++,l--;break}++l}++r}return a===-1?o:(a<s&&(n+=o.slice(a)),n)}return mr}var ui;function Vl(){if(ui)return Ht.exports;ui=1;let e=Ul();Ht.exports=d;let t=W().console||{},o={mapHttpRequest:j,mapHttpResponse:j,wrapRequestSerializer:v,wrapResponseSerializer:v,wrapErrorSerializer:v,req:j,res:j,err:$,errWithCause:$};function f(R,I){return R==="silent"?1/0:I.levels.values[R]}let m=Symbol("pino.logFuncs"),g=Symbol("pino.hierarchy"),h={error:"log",fatal:"error",warn:"error",info:"log",debug:"log",trace:"log"};function i(R,I){let P={logger:I,parent:R[g]};I[g]=P}function b(R,I,P){let B={};I.forEach(Q=>{B[Q]=P[Q]?P[Q]:t[Q]||t[h[Q]||"log"]||x}),R[m]=B}function _(R,I){return Array.isArray(R)?R.filter(function(P){return P!=="!stdSerializers.err"}):R===!0?Object.keys(I):!1}function d(R){R=R||{},R.browser=R.browser||{};let I=R.browser.transmit;if(I&&typeof I.send!="function")throw Error("pino: transmit option must have a send function");let P=R.browser.write||t;R.browser.write&&(R.browser.asObject=!0);let B=R.serializers||{},Q=_(R.browser.serialize,B),J=R.browser.serialize;Array.isArray(R.browser.serialize)&&R.browser.serialize.indexOf("!stdSerializers.err")>-1&&(J=!1);let Y=Object.keys(R.customLevels||{}),te=["error","fatal","warn","info","debug","trace"].concat(Y);typeof P=="function"&&te.forEach(function(ve){P[ve]=P}),(R.enabled===!1||R.browser.disabled)&&(R.level="silent");let ie=R.level||"info",K=Object.create(P);K.log||(K.log=x),b(K,te,P),i({},K),Object.defineProperty(K,"levelVal",{get:$e}),Object.defineProperty(K,"level",{get:Ee,set:Bt});let me={transmit:I,serialize:Q,asObject:R.browser.asObject,formatters:R.browser.formatters,levels:te,timestamp:O(R)};K.levels=n(R),K.level=ie,K.setMaxListeners=K.getMaxListeners=K.emit=K.addListener=K.on=K.prependListener=K.once=K.prependOnceListener=K.removeListener=K.removeAllListeners=K.listeners=K.listenerCount=K.eventNames=K.write=K.flush=x,K.serializers=B,K._serialize=Q,K._stdErrSerialize=J,K.child=_n,I&&(K._logEvent=w());function $e(){return f(this.level,this)}function Ee(){return this._level}function Bt(ve){if(ve!=="silent"&&!this.levels.values[ve])throw Error("unknown level "+ve);this._level=ve,s(this,me,K,"error"),s(this,me,K,"fatal"),s(this,me,K,"warn"),s(this,me,K,"info"),s(this,me,K,"debug"),s(this,me,K,"trace"),Y.forEach(A=>{s(this,me,K,A)})}function _n(ve,A){if(!ve)throw new Error("missing bindings for child Pino");A=A||{},Q&&ve.serializers&&(A.serializers=ve.serializers);let C=A.serializers;if(Q&&C){var D=Object.assign({},B,C),N=R.browser.serialize===!0?Object.keys(D):Q;delete ve.serializers,u([ve],N,D,this._stdErrSerialize)}function q(V){this._childLevel=(V._childLevel|0)+1,this.bindings=ve,D&&(this.serializers=D,this._serialize=N),I&&(this._logEvent=w([].concat(V._logEvent.bindings,ve)))}q.prototype=this;let L=new q(this);return i(this,L),L.level=this.level,L}return K}function n(R){let I=R.customLevels||{},P=Object.assign({},d.levels.values,I),B=Object.assign({},d.levels.labels,l(I));return{values:P,labels:B}}function l(R){let I={};return Object.keys(R).forEach(function(P){I[R[P]]=P}),I}d.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},d.stdSerializers=o,d.stdTimeFunctions=Object.assign({},{nullTime:S,epochTime:k,unixTime:T,isoTime:E});function a(R){let I=[];R.bindings&&I.push(R.bindings);let P=R[g];for(;P.parent;)P=P.parent,P.logger.bindings&&I.push(P.logger.bindings);return I.reverse()}function s(R,I,P,B){if(Object.defineProperty(R,B,{value:f(R.level,P)>f(B,P)?x:P[m][B],writable:!0,enumerable:!0,configurable:!0}),!I.transmit&&R[B]===x)return;R[B]=p(R,I,P,B);let Q=a(R);Q.length!==0&&(R[B]=r(Q,R[B]))}function r(R,I){return function(){return I.apply(this,[...R,...arguments])}}function p(R,I,P,B){return function(Q){return function(){let J=I.timestamp(),Y=new Array(arguments.length),te=Object.getPrototypeOf&&Object.getPrototypeOf(this)===t?t:this;for(var ie=0;ie<Y.length;ie++)Y[ie]=arguments[ie];if(I.serialize&&!I.asObject&&u(Y,this._serialize,this.serializers,this._stdErrSerialize),I.asObject||I.formatters?Q.call(te,c(this,B,Y,J,I.formatters)):Q.apply(te,Y),I.transmit){let K=I.transmit.level||R._level,me=P.levels.values[K],$e=P.levels.values[B];if($e<me)return;y(this,{ts:J,methodLevel:B,methodValue:$e,transmitValue:P.levels.values[I.transmit.level||R._level],send:I.transmit.send,val:f(R._level,P)},Y)}}}(R[m][B])}function c(R,I,P,B,Q={}){let{level:J=()=>R.levels.values[I],log:Y=$e=>$e}=Q;R._serialize&&u(P,R._serialize,R.serializers,R._stdErrSerialize);let te=P.slice(),ie=te[0],K={};B&&(K.time=B),K.level=J(I,R.levels.values[I]);let me=(R._childLevel|0)+1;if(me<1&&(me=1),ie!==null&&typeof ie=="object"){for(;me--&&typeof te[0]=="object";)Object.assign(K,te.shift());ie=te.length?e(te.shift(),te):void 0}else typeof ie=="string"&&(ie=e(te.shift(),te));return ie!==void 0&&(K.msg=ie),Y(K)}function u(R,I,P,B){for(let Q in R)if(B&&R[Q]instanceof Error)R[Q]=d.stdSerializers.err(R[Q]);else if(typeof R[Q]=="object"&&!Array.isArray(R[Q]))for(let J in R[Q])I&&I.indexOf(J)>-1&&J in P&&(R[Q][J]=P[J](R[Q][J]))}function y(R,I,P){let B=I.send,Q=I.ts,J=I.methodLevel,Y=I.methodValue,te=I.val,ie=R._logEvent.bindings;u(P,R._serialize||Object.keys(R.serializers),R.serializers,R._stdErrSerialize===void 0?!0:R._stdErrSerialize),R._logEvent.ts=Q,R._logEvent.messages=P.filter(function(K){return ie.indexOf(K)===-1}),R._logEvent.level.label=J,R._logEvent.level.value=Y,B(J,R._logEvent,te),R._logEvent=w(ie)}function w(R){return{ts:0,messages:[],bindings:R||[],level:{label:"",value:0}}}function $(R){let I={type:R.constructor.name,msg:R.message,stack:R.stack};for(let P in R)I[P]===void 0&&(I[P]=R[P]);return I}function O(R){return typeof R.timestamp=="function"?R.timestamp:R.timestamp===!1?S:k}function j(){return{}}function v(R){return R}function x(){}function S(){return!1}function k(){return Date.now()}function T(){return Math.round(Date.now()/1e3)}function E(){return new Date(Date.now()).toISOString()}function W(){function R(I){return typeof I<"u"&&I}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return R(self)||R(window)||R(this)||{}}}return Ht.exports.default=d,Ht.exports.pino=d,Ht.exports}var Wl=Vl();let Hl=ni(Wl)({}),gr=(e,t,o)=>{let f=o||"";Hl.info(`%c${e}`,`color:${t};font-weight:semibold;`,f)},yr={error:{color:"red"},info:{color:"white"},warning:{color:"orange"}},et={error:(e,t)=>{let{color:o}=yr.error;gr(e,o,t)},info:(e,t)=>{let{color:o}=yr.info;gr(e,o,t)},warning:(e,t)=>{let{color:o}=yr.warning;gr(e,o,t)}},Bl=class mi{constructor(t,o){ae(this,"_isTestEnvironment",!1),ae(this,"_publickey",null),ae(this,"_container",null),ae(this,"_settings"),ae(this,"_options"),ae(this,"_appearance"),ae(this,"_client"),ae(this,"_uniqueId",`c${mi.generateUniqueId()}`),wn(this,ce,!1),wn(this,ue,!0),wn(this,de,!1),wn(this,lt,!0),ae(this,"paymentOptionsAvailable",null),ae(this,"publicKey",null),ae(this,"sanitizeCustomFields",(f,m)=>(f||[]).slice(0,m).map(g=>({...g,regex:g.regex?g.regex.toString():g.regex}))),ae(this,"validateConfig",()=>gt(this,de)?gt(this,ce)?gt(this,ue)?!0:(et.error("No ha ingresado las opciones o no son v\xE1lidas"),!1):(et.error("No ha ingresado la configuraci\xF3n o no es v\xE1lida"),!1):(et.error("No ha ingresado la llave p\xFAblica del comercio o no es v\xE1lida"),!1)),this._settings={currency:cr.PEN,title:"Culqi Store"},this._options={lang:Wt.DEFAULT,installments:!1,modal:!0,container:null,paymentMethods:{tarjeta:!0,yape:!0,billetera:!1,bancaMovil:!1,agente:!1,cuotealo:!1},inputCustoms:{items:[]}},this.validateAndSetPublicKey(t),this.setConfig(o)}static generateUniqueId(){return`${Math.random().toString(26).substring(2,4)}${zl()}`}validateAndSetPublicKey(t){t&&(t.startsWith(bn.LIVE)||t.startsWith(bn.TEST))?(this._isTestEnvironment=t.startsWith(bn.TEST),this._publickey=t,this.publicKey=t,at(this,de,!0)):at(this,de,!1)}setConfig(t){t&&(t.settings&&(this.settings=t.settings),t.client&&(this.client=t.client),t.options&&(this.options=t.options),t.appearance&&(this.appearance=t.appearance))}get idMountDefault(){return this._uniqueId}getPublicKey(){return Xs(this._publickey)}get publickey(){return this._publickey??""}get orderId(){return this._settings.order??""}_postMessageError(t){window.postMessage({error:t},window.location.origin)}get settings(){var t,o;let f={...this._settings};return((t=f.order)!=null&&t.startsWith(ur.LIVE)||(o=f.order)!=null&&o.startsWith(ur.TEST))&&(f.order=Xs(f.order)),f}getSettingsReal(){return this._settings}set settings(t){gt(this,de)&&this.validationSettings(t)}get appearance(){return this._appearance}set appearance(t){if(gt(this,de)){let{error:o}=Il.validate(t);if(o){et.error(o),at(this,lt,!1);return}this._appearance={theme:t?.theme||"default",hiddenCulqiLogo:t?.hiddenCulqiLogo??!1,hiddenBannerContent:t?.hiddenBannerContent??!1,hiddenBanner:t?.hiddenBanner??!1,hiddenToolBarAmount:t?.hiddenToolBarAmount??!1,emailInputDisabled:t?.emailInputDisabled??!1,hiddenEmail:t?.hiddenEmail??!1,variables:t?.variables??{},rules:t?.rules??{},menuType:t.menuType??"default",buttonCardPayText:t.buttonCardPayText??null,logo:t?.logo??null,defaultStyle:t.defaultStyle??{}},at(this,lt,!0)}}get options(){return this._options}set options(t){gt(this,de)&&this.validationOptions(t)}set client(t){if(gt(this,de)){let{error:o}=Tl.validate(t);if(o){et.error(o);return}this._client=t}}get client(){return this._client}validationSettings(t){let{error:o}=Ml.validate(t);if(o){et.error(o),at(this,ce,!1);return}this._settings={title:t?.title??this._settings.title,currency:t?.currency??this._settings.currency,amount:t?.amount??this._settings.amount,order:t?.order??this._settings.order,culqiclient:t?.culqiclient??this._settings.culqiclient,culqiproduct:t?.culqiproduct??this._settings.culqiproduct,culqiclientversion:t?.culqiclientversion??this._settings.culqiclientversion,culqipluginversion:t?.culqipluginversion??this._settings.culqipluginversion,xculqirsaid:t?.xculqirsaid??"",rsapublickey:t?.rsapublickey??"",excludencryptoperations:t?.excludencryptoperations??[""]},at(this,ce,!0)}validationOptions(t){var o,f,m,g,h,i,b,_;let{error:d}=ql.validate(t);if(d){et.error(d),at(this,ue,!1);return}let{lang:n,installments:l,modal:a,paymentMethods:s,container:r}=t??{},p=c=>typeof c>"u";this._options={lang:n??this._options.lang,installments:p(l)?this._options.installments:!!l,modal:p(a)?(o=this._options)==null?void 0:o.modal:!!a,container:r??((f=this._options)==null?void 0:f.container),paymentMethods:{tarjeta:p(s?.tarjeta)?(m=this._options)==null?void 0:m.paymentMethods.tarjeta:!!(s!=null&&s.tarjeta),yape:p(s?.yape)?(g=this._options)==null?void 0:g.paymentMethods.yape:!!(s!=null&&s.yape),billetera:p(s?.billetera)?(h=this._options)==null?void 0:h.paymentMethods.billetera:!!(s!=null&&s.billetera),bancaMovil:p(s?.bancaMovil)?(i=this._options)==null?void 0:i.paymentMethods.bancaMovil:!!(s!=null&&s.bancaMovil),agente:p(s?.agente)?(b=this._options)==null?void 0:b.paymentMethods.agente:!!(s!=null&&s.agente),cuotealo:p(s?.cuotealo)?(_=this._options)==null?void 0:_.paymentMethods.cuotealo:!!(s!=null&&s.cuotealo)},paymentMethodsSort:t?.paymentMethodsSort??null,inputCustoms:t?.inputCustoms||this._options.inputCustoms,customFields:t?.customFields||this._options.customFields},!t.customFields&&t.inputCustoms&&(this._options.customFields={customInput:this.sanitizeCustomFields(t.inputCustoms.items,fr.CUSTOM),card:[]}),this._options.customFields&&t.customFields&&(this._options.customFields.customInput=this.sanitizeCustomFields(t.customFields.customInput,fr.CUSTOM),this._options.customFields.card=this.sanitizeCustomFields(t.customFields.card,fr.CARD)),at(this,ue,!0)}getUrlParamaters(){var t;return{publicKey:this.getPublicKey(),title:this._settings.title,currency:this._settings.currency,description:this._settings.title,amount:this._settings.amount,logo:((t=this._appearance)==null?void 0:t.logo)??"",installments:this._options.installments,order:this._settings.order,client:this._client??{}}}getContainer(){return this._options.container&&this._options.modal&&et.warning("Debe ingresar el nombre del contenedor o desactivar la opci\xF3n modal"),this._options.container}};ce=new WeakMap,ue=new WeakMap,de=new WeakMap,lt=new WeakMap;let Kl=Bl;class Zl{constructor(t){ae(this,"culqiConfig"),this.culqiConfig=t}configureCulqi3DSOptions(){Culqi3DS.options={showModal:!0,showLoading:!0,showIcon:!0,closeModalAction:()=>window.location.reload()}}setCulqi3DSSettings(){Culqi3DS.settings={charge:{currency:this.culqiConfig.settings.currency,totalAmount:this.culqiConfig.settings.amount,returnUrl:window.location.origin},card:{email:this.culqiConfig.client?this.culqiConfig.client.email:""},culqiproduct:this.culqiConfig.settings.culqiproduct??"online"}}async generateDeviceId(){return window.localSessionId?window.localSessionId:Culqi3DS.generateDevice()}async setupCulqi3DS(){this.culqiConfig.publickey||console.error("No se proporcion\xF3 una clave p\xFAblica en la configuraci\xF3n de Culqi3DS.");try{Culqi3DS.publicKey=this.culqiConfig.publickey,this.configureCulqi3DSOptions(),this.setCulqi3DSSettings()}catch(t){console.error("Error al cargar o configurar Culqi3DS:",t)}}}class Gl{constructor(){ae(this,"listeners"),this.listeners=new Map,window.addEventListener("message",this.handleMessage.bind(this))}handleMessage(t){var o;let{object:f,payload:m}=t.data;if(f!=="INPUT_CHANGE"||!(m!=null&&m.identifier))return;let{identifier:g,value:h}=m;this.listeners.has(g)&&((o=this.listeners.get(g))==null||o.forEach(i=>i({identifier:g,value:h})))}onChange(t,o){var f;this.listeners.has(t)||this.listeners.set(t,[]),(f=this.listeners.get(t))==null||f.push(o)}removeListener(t,o){if(!o)this.listeners.delete(t);else{let f=this.listeners.get(t);f&&this.listeners.set(t,f.filter(m=>m!==o))}}}class Jl{constructor(t,o){ae(this,"_culqiCheckoutUrl","https://checkoutview.culqi.com"),ae(this,"inputListener"),ae(this,"culqiConfig"),ae(this,"_closeCheckout",()=>{}),ae(this,"_culqi",()=>{}),ae(this,"_methodActive",()=>{}),ae(this,"urlParams"),ae(this,"domine"),ae(this,"_methodValue"),ae(this,"_wasObjectCreated",!1),ae(this,"_isOpen",nn(!1)),ae(this,"_urlCheckout",nn({})),ae(this,"_closeEvent"),ae(this,"_isOpenModal",!1),ae(this,"_generateDevice",new Promise(()=>{})),this.culqiConfig=new Kl(t,o),this.inputListener=new Gl,this._isOpen=It(this._isOpen),this._urlCheckout=It(this._urlCheckout)}set closeCheckout(t){this._closeCheckout=t}set culqi(t){this._culqi=t}set methodActive(t){this._methodActive=t}init(){et.info("CulqiJS inicializado")}async open(){if(!this.culqiConfig.validateConfig())return;this._isOpenModal=!0,this._isOpen.value=!0;let t=new Zl(this.culqiConfig);t.setupCulqi3DS(),this._generateDevice=t.generateDeviceId()}close(){this._isOpenModal=!1,this._isOpen.value=!1}get isOpen(){return this._isOpenModal}get methodValue(){return this._methodValue}set methodValue(t){this._methodValue=t}get wasObjectCreated(){return this._wasObjectCreated}set wasObjectCreated(t){this._wasObjectCreated=t}get closeEvent(){return this._closeEvent}set closeEvent(t){this._closeEvent=t}initCheckout(){this.culqiConfig.validateConfig()&&(this._isOpenModal=!0,this.open())}urlParameters(){this.urlParams=Xa(this.culqiConfig.getUrlParamaters())}getUrlParameters(){return this._urlCheckout.value.queryString=`${this._culqiCheckoutUrl}`,`${this._culqiCheckoutUrl}`}getOptions(){return this.culqiConfig.options}async generateDevice(){return this._generateDevice}getSettings(){return this.culqiConfig.settings}getAppearance(){return this.culqiConfig.appearance}getClient(){return this.culqiConfig.client}getPublickey(){return this.culqiConfig.publickey}getSettingsReal(){return this.culqiConfig.getSettingsReal()}getContainer(){return this.culqiConfig.getContainer()}async listener(t){let o=async f=>{let m=lr();return f.origin!==m&&!rl(f.origin)?t(null,null,null,new Error(`Origins no coinciden ${f.origin} - ${lr()}`)):(t(f.data.parameters3DS,await this._generateDevice,f.data.loading,f.data.error),!1)};window.addEventListener("message",o,!1)}onChange(t,o){this.inputListener.onChange(t,o)}removeListener(t,o){this.inputListener.removeListener(t,o)}}class Yl extends Jl{constructor(t,o){super(t,o),ae(this,"appInstance",null),this.updateApp=this.updateApp.bind(this),this.initializeApp(),nl(this.culqiConfig.idMountDefault)}getContainerElement(t){let o=document.querySelector(t);return o||(o=document.createElement("div"),o.id=t,document.body.appendChild(o)),o}createAndMountApp(){var t;let o=(t=this.culqiConfig.options)!=null&&t.modal?this.culqiConfig.idMountDefault:this.culqiConfig.getContainer()||this.culqiConfig.idMountDefault,f=this.getContainerElement(o);this.destroyAppInstance(),this.appInstance=Za(ol,{culqiInstance:this,uniqueId:this.culqiConfig.idMountDefault}),this.appInstance.mount(f)}destroyAppInstance(){this.appInstance&&(this.appInstance.unmount(),this.appInstance._container instanceof HTMLElement&&(this.appInstance._container.innerHTML=""),this.appInstance=null)}updateApp(){if(this._isOpen.value)this.createAndMountApp();else{this.destroyAppInstance();let t=document.getElementById(this.culqiConfig.idMountDefault);t?.remove()}}initializeApp(){dn(this._isOpen,this.updateApp)}}window.CulqiCheckout=Yl})();})();
/**
* @vue/shared v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/
/*! #__NO_SIDE_EFFECTS__ */
/**
* @vue/reactivity v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/
/**
* @vue/runtime-core v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/
/**
* @vue/runtime-dom v3.5.13
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/
